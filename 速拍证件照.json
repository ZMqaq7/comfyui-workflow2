{"last_node_id":132,"last_link_id":265,"nodes":[{"id":12,"type":"PreviewImage","pos":[1113,272],"size":{"0":314.8818359375,"1":406.394287109375},"flags":{},"order":42,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":17,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":21,"type":"IPAdapterInsightFaceLoader","pos":[-86,-168],"size":{"0":315,"1":58},"flags":{},"order":0,"mode":0,"outputs":[{"name":"INSIGHTFACE","type":"INSIGHTFACE","links":[27],"shape":3,"label":"INSIGHTFACE"}],"properties":{"Node name for S&R":"IPAdapterInsightFaceLoader"},"widgets_values":["CPU"],"serialize_values":[null]},{"id":8,"type":"VAEDecode","pos":[1123,168],"size":{"0":210,"1":46},"flags":{},"order":41,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":7,"label":"samples"},{"name":"vae","type":"VAE","link":8,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[17,46],"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":32,"type":"VAEEncode","pos":[1170,900],"size":{"0":210,"1":46},"flags":{},"order":44,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":47,"label":"pixels"},{"name":"vae","type":"VAE","link":null,"label":"vae"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[50],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":39,"type":"UltralyticsDetectorProvider","pos":[4094.9687323848652,1736.148250861565],"size":{"0":315,"1":78},"flags":{},"order":1,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[62],"shape":3,"label":"BBOX_DETECTOR","slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[61],"shape":3,"label":"SEGM_DETECTOR"}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/face_yolov8m.pt"],"serialize_values":[null]},{"id":40,"type":"SAMLoader","pos":[2170,930],"size":{"0":315,"1":82},"flags":{},"order":2,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[63],"shape":3,"label":"SAM_MODEL"}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","AUTO"],"serialize_values":[null,null]},{"id":18,"type":"IPAdapterModelLoader","pos":[255,-507],"size":{"0":315,"1":58},"flags":{},"order":3,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[22],"shape":3,"label":"IPADAPTER"}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-faceid_sd15.bin"],"serialize_values":[null]},{"id":49,"type":"PreviewImage","pos":[2027.9687323848657,1690.1482508615652],"size":{"0":273.8979797363281,"1":313.7154541015625},"flags":{},"order":34,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":78,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":34,"type":"Anything Everywhere","pos":[-343,832],"size":{"0":210,"1":26},"flags":{},"order":27,"mode":0,"inputs":[{"name":"CLIP","type":"*","link":49,"label":"CLIP","color_on":"#FFD500"}],"properties":{"Node name for S&R":"Anything Everywhere","group_restricted":false,"color_restricted":false}},{"id":33,"type":"Anything Everywhere","pos":[-344,738],"size":{"0":210,"1":26},"flags":{},"order":28,"mode":0,"inputs":[{"name":"VAE","type":"*","link":48,"label":"VAE","color_on":"#FF6E6E"}],"properties":{"Node name for S&R":"Anything Everywhere","group_restricted":false,"color_restricted":false}},{"id":66,"type":"VAEDecode","pos":[2287.7542281119177,2144.7523173470227],"size":{"0":210,"1":46},"flags":{},"order":64,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":109,"label":"samples"},{"name":"vae","type":"VAE","link":null,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[111],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":72,"type":"LineArtPreprocessor","pos":[1094.1951530406384,2964.933469032664],"size":{"0":315,"1":82},"flags":{},"order":50,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":115,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[116,117],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"LineArtPreprocessor"},"widgets_values":["disable",512],"serialize_values":[null,null]},{"id":81,"type":"IPAdapterInsightFaceLoader","pos":[2000,-130],"size":{"0":315,"1":58},"flags":{},"order":4,"mode":0,"outputs":[{"name":"INSIGHTFACE","type":"INSIGHTFACE","links":[135],"shape":3,"label":"INSIGHTFACE"}],"properties":{"Node name for S&R":"IPAdapterInsightFaceLoader"},"widgets_values":["CPU"],"serialize_values":[null]},{"id":17,"type":"IPAdapterFaceID","pos":[600,-220],"size":{"0":315,"1":326},"flags":{},"order":33,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":22,"label":"ipadapter","slot_index":0},{"name":"clip_vision","type":"CLIP_VISION","link":26,"label":"clip_vision","slot_index":1},{"name":"insightface","type":"INSIGHTFACE","link":27,"label":"insightface","slot_index":2},{"name":"image","type":"IMAGE","link":28,"label":"image","slot_index":3},{"name":"model","type":"MODEL","link":23,"label":"model"},{"name":"attn_mask","type":"MASK","link":null,"label":"attn_mask"},{"name":"image_negative","type":"IMAGE","link":"null","label":"image_negative"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[25,56,144,178],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterFaceID"},"widgets_values":[1,"0","linear","concat",0,1,"V only"],"serialize_values":[null,null,null,null,null,null,null,null]},{"id":86,"type":"Reroute","pos":[3244.1951530406545,1834.9334690326823],"size":[75,26],"flags":{},"order":38,"mode":0,"inputs":[{"name":"","type":"*","link":144,"label":""}],"outputs":[{"name":"","type":"MODEL","links":[145],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":73,"type":"PreviewImage","pos":[1454.195153040638,3064.9334690326637],"size":{"0":289.8968505859375,"1":331.9306945800781},"flags":{},"order":53,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":116,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":7,"type":"CLIPTextEncode","pos":[-344,412],"size":{"0":425.27801513671875,"1":180.6060791015625},"flags":{},"order":26,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":5,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[11,54,65,66],"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["text, watermark,bad quality,worst quality, low quality,monochrome,zombie,nsfw,hat,cap,3d models"],"color":"#322","bgcolor":"#533","serialize_values":["text, watermark,bad quality,worst quality, low quality,monochrome,zombie,nsfw,hat,cap,3d models"]},{"id":36,"type":"VAEDecode","pos":[1998,816],"size":{"0":210,"1":46},"flags":{},"order":46,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":57,"label":"samples"},{"name":"vae","type":"VAE","link":null,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[58,60],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":10,"type":"ControlNetApplyAdvanced","pos":[161,670],"size":{"0":315,"1":166},"flags":{},"order":35,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":98,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":11,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":18,"label":"control_net","slot_index":2},{"name":"image","type":"IMAGE","link":79,"label":"image"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[15],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[14],"shape":3,"label":"negative","slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.85,0,1],"serialize_values":[null,null,null]},{"id":103,"type":"IPAdapterAdvanced","pos":[2759,-137],"size":{"0":315,"1":258},"flags":{},"order":36,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":186,"label":"ipadapter","slot_index":0},{"name":"clip_vision","type":"CLIP_VISION","link":185,"label":"clip_vision","slot_index":1},{"name":"image","type":"IMAGE","link":187,"label":"image"},{"name":"model","type":"MODEL","link":184,"label":"model"},{"name":"attn_mask","type":"MASK","link":null,"label":"attn_mask"},{"name":"image_negative","type":"IMAGE","link":"null","label":"image_negative"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[188],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterAdvanced"},"widgets_values":[0.6,"linear","concat",0,1,"V only"],"serialize_values":[null,null,null,null,null,null]},{"id":79,"type":"IPAdapterFaceID","pos":[2340,-170],"size":{"0":315,"1":326},"flags":{},"order":30,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":134,"label":"ipadapter","slot_index":0},{"name":"clip_vision","type":"CLIP_VISION","link":133,"label":"clip_vision"},{"name":"insightface","type":"INSIGHTFACE","link":135,"label":"insightface","slot_index":2},{"name":"image","type":"IMAGE","link":132,"label":"image"},{"name":"model","type":"MODEL","link":131,"label":"model"},{"name":"attn_mask","type":"MASK","link":null,"label":"attn_mask"},{"name":"image_negative","type":"IMAGE","link":"null","label":"image_negative"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[184],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterFaceID"},"widgets_values":[1,"1","linear","concat",0,1,"V only"],"serialize_values":[null,null,null,null,null,null,null,null]},{"id":102,"type":"MaskToImage","pos":[3973.5487710656844,2036.7866623315388],"size":{"0":210,"1":26},"flags":{},"order":37,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":190,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[176],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":61,"type":"CLIPTextEncode","pos":[1486.7542281119088,2480.7523173470213],"size":{"0":330.32476806640625,"1":200.777587890625},"flags":{},"order":5,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[107,149],"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["bad quality,3d,bad details,no humans"],"color":"#322","bgcolor":"#533","serialize_values":["bad quality,3d,bad details,no humans"]},{"id":67,"type":"PreviewImage","pos":[2577.7542281119127,2144.7523173470227],"size":{"0":727.87548828125,"1":1063.956298828125},"flags":{},"order":66,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":111,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":37,"type":"PreviewImage","pos":[3755.968732384861,1678.1482508615643],"size":{"0":300.260986328125,"1":472.5401611328125},"flags":{},"order":47,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":58,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":31,"type":"ImageScaleBy","pos":[810,900],"size":{"0":315,"1":82},"flags":{},"order":43,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":46,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[47],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["lanczos",1.5],"serialize_values":[null,null]},{"id":35,"type":"KSampler","pos":[3354.9687323848625,1506.1482508615643],"size":{"0":315,"1":262},"flags":{},"order":45,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":56,"label":"model"},{"name":"positive","type":"CONDITIONING","link":99,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":54,"label":"negative"},{"name":"latent_image","type":"LATENT","link":50,"label":"latent_image"},{"name":"seed","type":"INT","link":59,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[57],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[28497801440875,"randomize",30,5,"dpmpp_2m","karras",0.6],"serialize_values":[null,null,null,null,null,null,null]},{"id":109,"type":"Reroute","pos":[4714.968732384868,3373.148250861551],"size":[75,26],"flags":{},"order":23,"mode":0,"inputs":[{"name":"","type":"*","link":196,"label":"","widget":{"name":"value"}}],"outputs":[{"name":"","type":"INT","links":[197,198],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":74,"type":"ControlNetApply","pos":[1474.195153040638,2874.933469032664],"size":{"0":317.4000244140625,"1":98},"flags":{},"order":54,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":200,"label":"conditioning"},{"name":"control_net","type":"CONTROL_NET","link":118,"label":"control_net","slot_index":1},{"name":"image","type":"IMAGE","link":117,"label":"image"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[120,162],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"ControlNetApply"},"widgets_values":[1],"serialize_values":[null]},{"id":112,"type":"ConditioningCombine","pos":[1067.7542281119072,2869.7523173470217],"size":{"0":342.5999755859375,"1":46},"flags":{},"order":21,"mode":0,"inputs":[{"name":"conditioning_1","type":"CONDITIONING","link":199,"label":"conditioning_1"},{"name":"conditioning_2","type":"CONDITIONING","link":201,"label":"conditioning_2"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[200],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"ConditioningCombine"}},{"id":111,"type":"CLIPTextEncode","pos":[982.7542281119054,2657.7523173470217],"size":{"0":422.84503173828125,"1":164.31304931640625},"flags":{},"order":6,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[201],"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["ID photo, upper body, perfect face, high pixels, high quality\uff0chigh resolution,detail expression,white background,Suit,photorealistic"],"serialize_values":["ID photo, upper body, perfect face, high pixels, high quality\uff0chigh resolution,detail expression,white background,Suit,photorealistic"]},{"id":85,"type":"KSampler","pos":[3427.7542281119145,2244.7523173470213],"size":{"0":315,"1":262},"flags":{},"order":65,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":145,"label":"model"},{"name":"positive","type":"CONDITIONING","link":162,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":149,"label":"negative"},{"name":"latent_image","type":"LATENT","link":143,"label":"latent_image"},{"name":"seed","type":"INT","link":198,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[146],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[859907763697186,"randomize",20,8,"euler","normal",0.75],"serialize_values":[null,null,null,null,null,null,null]},{"id":65,"type":"KSampler","pos":[1873.7542281119122,2097.752317347024],"size":{"0":315,"1":262},"flags":{},"order":63,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":178,"label":"model","slot_index":0},{"name":"positive","type":"CONDITIONING","link":120,"label":"positive","slot_index":1},{"name":"negative","type":"CONDITIONING","link":107,"label":"negative"},{"name":"latent_image","type":"LATENT","link":204,"label":"latent_image"},{"name":"seed","type":"INT","link":197,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[109,143],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[682394385823776,"randomize",30,8,"dpmpp_2m","karras",0.9],"serialize_values":[null,null,null,null,null,null,null]},{"id":6,"type":"CLIPTextEncode","pos":[-348,178],"size":{"0":422.84503173828125,"1":164.31304931640625},"flags":{},"order":25,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":3,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[98,99],"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["ID photo, upper body, perfect face, high pixels, high quality\uff0chigh resolution,detail expression,white background,grey shirt,grey work clothes,Suit,photorealistic"],"serialize_values":["ID photo, upper body, perfect face, high pixels, high quality\uff0chigh resolution,detail expression,white background,grey shirt,grey work clothes,Suit,photorealistic"]},{"id":60,"type":"CLIPTextEncode","pos":[999.7542281119053,2408.7523173470213],"size":{"0":400,"1":200},"flags":{},"order":7,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[199],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["(black clothing:1.3)"],"serialize_values":["(black clothing:1.3)"]},{"id":120,"type":"PreviewImage","pos":[4556.533469231074,1603.1002042431996],"size":{"0":210,"1":246},"flags":{},"order":56,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":211,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":116,"type":"OneFormer-COCO-SemSegPreprocessor","pos":[4589.413745043126,1444.2817509996999],"size":{"0":315,"1":58},"flags":{},"order":52,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":210,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[207,211],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"OneFormer-COCO-SemSegPreprocessor"},"widgets_values":[768],"serialize_values":[null]},{"id":57,"type":"PreviewImage","pos":[4203.5487710657135,1786.7866623315508],"size":{"0":152.3374481201172,"1":266.9354248046875},"flags":{},"order":40,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":176,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":117,"type":"MaskFromColor+","pos":[4947.413745043126,1443.2817509996999],"size":{"0":315,"1":130},"flags":{},"order":55,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":207,"label":"image"}],"outputs":[{"name":"MASK","type":"MASK","links":[208],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"MaskFromColor+"},"widgets_values":[220,20,60,2],"serialize_values":[null,null,null,null]},{"id":119,"type":"PreviewImage","pos":[5592.413745043126,1452.2817509996999],"size":{"0":210,"1":246},"flags":{},"order":58,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":209,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":118,"type":"MaskToImage","pos":[5302.413745043126,1452.2817509996999],"size":{"0":210,"1":26},"flags":{},"order":57,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":208,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[209,213],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":107,"type":"SetLatentNoiseMask","pos":[1537.7542281119088,2074.752317347026],"size":{"0":210,"1":46},"flags":{},"order":62,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":195,"label":"samples"},{"name":"mask","type":"MASK","link":219,"label":"mask"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[204],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"SetLatentNoiseMask"}},{"id":124,"type":"SolidMask","pos":[4798.533469231074,1737.1002042432015],"size":{"0":315,"1":106},"flags":{},"order":8,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[214],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"SolidMask"},"widgets_values":[0,768,576],"serialize_values":[null,null,null]},{"id":125,"type":"MaskToImage","pos":[5185.533469231074,1737.1002042432015],"size":{"0":210,"1":26},"flags":{},"order":22,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":214,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[215,216],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":122,"type":"ImageCompositeMasked","pos":[5841.413745043126,1528.2817509996999],"size":{"0":315,"1":146},"flags":{},"order":59,"mode":0,"inputs":[{"name":"destination","type":"IMAGE","link":213,"label":"destination"},{"name":"source","type":"IMAGE","link":216,"label":"source","slot_index":1},{"name":"mask","type":"MASK","link":null,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[217,218],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"ImageCompositeMasked"},"widgets_values":[0,0,false],"serialize_values":[null,null,null]},{"id":126,"type":"PreviewImage","pos":[5843.413745043126,1734.2817509996999],"size":{"0":210,"1":246},"flags":{},"order":32,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":215,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":127,"type":"PreviewImage","pos":[6188.413745043126,1530.2817509996999],"size":{"0":210,"1":246},"flags":{},"order":60,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":217,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":128,"type":"ImageToMask","pos":[6083.413745043126,1832.2817509996999],"size":{"0":315,"1":58},"flags":{},"order":61,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":218,"label":"image"}],"outputs":[{"name":"MASK","type":"MASK","links":[219],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"],"serialize_values":[null]},{"id":108,"type":"VAEEncode","pos":[1533.7542281119088,1964.7523173470327],"size":{"0":210,"1":46},"flags":{},"order":51,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":202,"label":"pixels"},{"name":"vae","type":"VAE","link":null,"label":"vae"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[195],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":11,"type":"Seed Everywhere","pos":[-753,597],"size":{"0":315,"1":82},"flags":{},"order":9,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[16,59,69,196],"shape":3,"label":"INT","slot_index":0}],"properties":{"Node name for S&R":"Seed Everywhere","group_restricted":false,"color_restricted":false},"widgets_values":[143935370608185,"randomize"],"serialize_values":[null,null]},{"id":3,"type":"KSampler","pos":[598,158],"size":{"0":315,"1":262},"flags":{},"order":39,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":25,"label":"model"},{"name":"positive","type":"CONDITIONING","link":15,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":14,"label":"negative"},{"name":"latent_image","type":"LATENT","link":2,"label":"latent_image"},{"name":"seed","type":"INT","link":16,"widget":{"name":"seed"},"label":"seed","slot_index":4}],"outputs":[{"name":"LATENT","type":"LATENT","links":[7],"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[934017727270806,"randomize",25,5,"dpmpp_2m","karras",1],"serialize_values":[null,null,null,null,null,null,null]},{"id":5,"type":"EmptyLatentImage","pos":[598,467],"size":{"0":315,"1":106},"flags":{},"order":10,"mode":0,"outputs":[{"name":"LATENT","type":"LATENT","links":[2],"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[512,768,1],"serialize_values":[null,null,null]},{"id":4,"type":"CheckpointLoaderSimple","pos":[-755,434],"size":{"0":315,"1":98},"flags":{},"order":11,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[24,131],"slot_index":0,"label":"MODEL"},{"name":"CLIP","type":"CLIP","links":[3,5,49],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[8,48],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["majicMIX realistic(v7)"],"serialize_values":["192_3750_4424@7c819b6d13.safetensors"]},{"id":19,"type":"LoraLoaderModelOnly","pos":[-82,-311],"size":{"0":315,"1":82},"flags":{},"order":24,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":24,"label":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[23],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"LoraLoaderModelOnly"},"widgets_values":["ip-adapter-faceid_sd15_lora.safetensors(v1.0)",0.9],"serialize_values":["2913_4454_5215@70699f0dbf.safetensors",null]},{"id":13,"type":"ControlNetLoader","pos":[156,537],"size":{"0":315,"1":58},"flags":{},"order":12,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[18],"shape":3,"label":"CONTROL_NET"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v11p_sd15_openpose.pth"],"serialize_values":[null]},{"id":20,"type":"CLIPVisionLoader","pos":[-78,-422],"size":{"0":315,"1":58},"flags":{},"order":13,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[26],"shape":3,"label":"CLIP_VISION"}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["ip_adaptor_sd15_pytorch_model.bin"],"serialize_values":[null]},{"id":75,"type":"ControlNetLoader","pos":[1474.195153040638,2754.933469032664],"size":{"0":321.2486267089844,"1":75.9570083618164},"flags":{},"order":14,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[118],"shape":3,"label":"CONTROL_NET"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v11p_sd15_lineart.pth"],"serialize_values":[null]},{"id":80,"type":"IPAdapterModelLoader","pos":[2261,-359],"size":{"0":315,"1":58},"flags":{},"order":15,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[134],"shape":3,"label":"IPADAPTER"}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-faceid-plusv2_sd15.bin"],"serialize_values":[null]},{"id":77,"type":"CLIPVisionLoader","pos":[1975,-255],"size":{"0":315,"1":58},"flags":{},"order":16,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[133],"shape":3,"label":"CLIP_VISION"}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["ip_adaptor_sd15_pytorch_model.bin"],"serialize_values":[null]},{"id":104,"type":"CLIPVisionLoader","pos":[3016,-266],"size":{"0":315,"1":58},"flags":{},"order":17,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[185],"shape":3,"label":"CLIP_VISION"}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["ip_adaptor_sd15_pytorch_model.bin"],"serialize_values":[null]},{"id":105,"type":"IPAdapterModelLoader","pos":[2758,-359],"size":{"0":315,"1":58},"flags":{},"order":18,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[186],"shape":3,"label":"IPADAPTER"}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-plus-face_sd15.safetensors"],"serialize_values":[null]},{"id":106,"type":"CLIPSeg","pos":[3853.1197241879445,1788.818453243502],"size":{"0":317.0323181152344,"1":186.00634765625},"flags":{},"order":31,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":244,"label":"image"}],"outputs":[{"name":"Mask","type":"MASK","links":[190],"shape":3,"label":"Mask","slot_index":0},{"name":"Heatmap Mask","type":"IMAGE","links":null,"shape":3,"label":"Heatmap Mask"},{"name":"BW Mask","type":"IMAGE","links":null,"shape":3,"label":"BW Mask"}],"properties":{"Node name for S&R":"CLIPSeg"},"widgets_values":["figure",7,0.2,6],"serialize_values":[null,null,null,null]},{"id":47,"type":"DWPreprocessor","pos":[1644.9687323848607,1683.1482508615647],"size":{"0":315,"1":198},"flags":{},"order":29,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":77,"label":"image","slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[78,79],"shape":3,"label":"IMAGE","slot_index":0},{"name":"POSE_KEYPOINT","type":"POSE_KEYPOINT","links":null,"shape":3,"label":"POSE_KEYPOINT"}],"properties":{"Node name for S&R":"DWPreprocessor"},"widgets_values":["disable","enable","disable",512,"yolox_l.onnx","dw-ll_ucoco_384.onnx"],"serialize_values":[null,null,null,null,null,null]},{"id":48,"type":"LoadImage","pos":[1104.9687323848607,1686.1482508615647],"size":{"0":460.630126953125,"1":698.5845336914062},"flags":{},"order":19,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[77],"shape":3,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/e8ac8b61bdc1b8bace196be5b3817e356e0d75a2.png@1536w_1536h_0e","image"],"serialize_values":[null,null]},{"id":41,"type":"PreviewImage","pos":[5091.119724187948,1710.8184532435014],"size":{"0":520.4876708984375,"1":828.48583984375},"flags":{},"order":49,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":68,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":38,"type":"FaceDetailer","pos":[4494.96873238487,1682.1482508615647],"size":{"0":506.4000244140625,"1":832.0000610351562},"flags":{"collapsed":false},"order":48,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":60,"label":"image"},{"name":"model","type":"MODEL","link":188,"label":"model"},{"name":"clip","type":"CLIP","link":null,"label":"clip"},{"name":"vae","type":"VAE","link":null,"label":"vae"},{"name":"positive","type":"CONDITIONING","link":65,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":66,"label":"negative"},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":62,"label":"bbox_detector"},{"name":"sam_model_opt","type":"SAM_MODEL","link":63,"label":"sam_model_opt","slot_index":7},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":61,"label":"segm_detector_opt","slot_index":8},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"detailer_hook"},{"name":"seed","type":"INT","link":69,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"image","type":"IMAGE","links":[68,115,202,210],"shape":3,"label":"image","slot_index":0},{"name":"cropped_refined","type":"IMAGE","links":[],"shape":6,"label":"cropped_refined","slot_index":1},{"name":"cropped_enhanced_alpha","type":"IMAGE","links":null,"shape":6,"label":"cropped_enhanced_alpha"},{"name":"mask","type":"MASK","links":null,"shape":3,"label":"mask"},{"name":"detailer_pipe","type":"DETAILER_PIPE","links":null,"shape":3,"label":"detailer_pipe"},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6,"label":"cnet_images"}],"properties":{"Node name for S&R":"FaceDetailer"},"widgets_values":[256,true,768,773049951143784,"randomize",15,2.5,"dpmpp_2m","normal",0.4,7,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"face details",1,false],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"face details",null,null]},{"id":88,"type":"PreviewImage","pos":[5330,2992],"size":{"0":754.9363403320312,"1":1153.898681640625},"flags":{},"order":68,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":147,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":87,"type":"VAEDecode","pos":[3827.7542281119117,2244.7523173470213],"size":{"0":210,"1":46},"flags":{},"order":67,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":146,"label":"samples"},{"name":"vae","type":"VAE","link":null,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[147,245],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":132,"type":"SaveImage","pos":[6313,2530],"size":{"0":315,"1":58},"flags":{},"order":69,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":245,"label":"images"}],"properties":{},"widgets_values":["ComfyUI"],"serialize_values":["ComfyUI"]},{"id":22,"type":"LoadImage","pos":[3194,373],"size":{"0":492.1726379394531,"1":581.3823852539062},"flags":{},"order":20,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[28,132,187,244],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/29adbb96cf571dba73b8489c8201457b526e5bac.jpg","image"],"serialize_values":[null,null]}],"links":[[2,5,0,3,3,"LATENT"],[3,4,1,6,0,"CLIP"],[5,4,1,7,0,"CLIP"],[7,3,0,8,0,"LATENT"],[8,4,2,8,1,"VAE"],[11,7,0,10,1,"CONDITIONING"],[14,10,1,3,2,"CONDITIONING"],[15,10,0,3,1,"CONDITIONING"],[16,11,0,3,4,"INT"],[17,8,0,12,0,"IMAGE"],[18,13,0,10,2,"CONTROL_NET"],[22,18,0,17,0,"IPADAPTER"],[23,19,0,17,4,"MODEL"],[24,4,0,19,0,"MODEL"],[25,17,0,3,0,"MODEL"],[26,20,0,17,1,"CLIP_VISION"],[27,21,0,17,2,"INSIGHTFACE"],[28,22,0,17,3,"IMAGE"],[46,8,0,31,0,"IMAGE"],[47,31,0,32,0,"IMAGE"],[48,4,2,33,0,"*"],[49,4,1,34,0,"*"],[50,32,0,35,3,"LATENT"],[54,7,0,35,2,"CONDITIONING"],[56,17,0,35,0,"MODEL"],[57,35,0,36,0,"LATENT"],[58,36,0,37,0,"IMAGE"],[59,11,0,35,4,"INT"],[60,36,0,38,0,"IMAGE"],[61,39,1,38,8,"SEGM_DETECTOR"],[62,39,0,38,6,"BBOX_DETECTOR"],[63,40,0,38,7,"SAM_MODEL"],[65,7,0,38,4,"CONDITIONING"],[66,7,0,38,5,"CONDITIONING"],[68,38,0,41,0,"IMAGE"],[69,11,0,38,10,"INT"],[77,48,0,47,0,"IMAGE"],[78,47,0,49,0,"IMAGE"],[79,47,0,10,3,"IMAGE"],[98,6,0,10,0,"CONDITIONING"],[99,6,0,35,1,"CONDITIONING"],[107,61,0,65,2,"CONDITIONING"],[109,65,0,66,0,"LATENT"],[111,66,0,67,0,"IMAGE"],[115,38,0,72,0,"IMAGE"],[116,72,0,73,0,"IMAGE"],[117,72,0,74,2,"IMAGE"],[118,75,0,74,1,"CONTROL_NET"],[120,74,0,65,1,"CONDITIONING"],[131,4,0,79,4,"MODEL"],[132,22,0,79,3,"IMAGE"],[133,77,0,79,1,"CLIP_VISION"],[134,80,0,79,0,"IPADAPTER"],[135,81,0,79,2,"INSIGHTFACE"],[143,65,0,85,3,"LATENT"],[144,17,0,86,0,"*"],[145,86,0,85,0,"MODEL"],[146,85,0,87,0,"LATENT"],[147,87,0,88,0,"IMAGE"],[149,61,0,85,2,"CONDITIONING"],[150,4,2,32,1,"VAE"],[151,4,2,36,1,"VAE"],[152,4,2,66,1,"VAE"],[153,4,1,38,2,"CLIP"],[154,4,2,38,3,"VAE"],[155,4,2,59,1,"VAE"],[156,4,2,82,1,"VAE"],[157,4,1,84,0,"CLIP"],[158,4,2,87,1,"VAE"],[159,4,1,61,0,"CLIP"],[160,4,1,60,0,"CLIP"],[162,74,0,85,1,"CONDITIONING"],[176,102,0,57,0,"IMAGE"],[178,17,0,65,0,"MODEL"],[184,79,0,103,3,"MODEL"],[185,104,0,103,1,"CLIP_VISION"],[186,105,0,103,0,"IPADAPTER"],[187,22,0,103,2,"IMAGE"],[188,103,0,38,1,"MODEL"],[190,106,0,102,0,"MASK"],[195,108,0,107,0,"LATENT"],[196,11,0,109,0,"*"],[197,109,0,65,4,"INT"],[198,109,0,85,4,"INT"],[199,60,0,112,0,"CONDITIONING"],[200,112,0,74,0,"CONDITIONING"],[201,111,0,112,1,"CONDITIONING"],[202,38,0,108,0,"IMAGE"],[204,107,0,65,3,"LATENT"],[207,116,0,117,0,"IMAGE"],[208,117,0,118,0,"MASK"],[209,118,0,119,0,"IMAGE"],[210,38,0,116,0,"IMAGE"],[211,116,0,120,0,"IMAGE"],[213,118,0,122,0,"IMAGE"],[214,124,0,125,0,"MASK"],[215,125,0,126,0,"IMAGE"],[216,125,0,122,1,"IMAGE"],[217,122,0,127,0,"IMAGE"],[218,122,0,128,0,"IMAGE"],[219,128,0,107,1,"MASK"],[223,4,2,32,1,"VAE"],[224,4,2,66,1,"VAE"],[225,4,2,87,1,"VAE"],[226,4,2,36,1,"VAE"],[227,4,1,61,0,"CLIP"],[228,4,1,111,0,"CLIP"],[229,4,1,60,0,"CLIP"],[230,4,1,38,2,"CLIP"],[231,4,2,38,3,"VAE"],[232,4,2,108,1,"VAE"],[234,4,2,32,1,"VAE"],[235,4,2,66,1,"VAE"],[236,4,2,87,1,"VAE"],[237,4,2,36,1,"VAE"],[238,4,1,61,0,"CLIP"],[239,4,1,111,0,"CLIP"],[240,4,1,60,0,"CLIP"],[241,4,1,38,2,"CLIP"],[242,4,2,38,3,"VAE"],[243,4,2,108,1,"VAE"],[244,22,0,106,0,"IMAGE"],[245,87,0,132,0,"IMAGE"],[246,4,2,32,1,"VAE"],[247,4,2,66,1,"VAE"],[248,4,2,36,1,"VAE"],[249,4,1,61,0,"CLIP"],[250,4,1,111,0,"CLIP"],[251,4,1,60,0,"CLIP"],[252,4,2,108,1,"VAE"],[253,4,1,38,2,"CLIP"],[254,4,2,38,3,"VAE"],[255,4,2,87,1,"VAE"],[256,4,2,32,1,"VAE"],[257,4,2,66,1,"VAE"],[258,4,2,36,1,"VAE"],[259,4,1,61,0,"CLIP"],[260,4,1,111,0,"CLIP"],[261,4,1,60,0,"CLIP"],[262,4,2,108,1,"VAE"],[263,4,1,38,2,"CLIP"],[264,4,2,38,3,"VAE"],[265,4,2,87,1,"VAE"]],"groups":[{"title":"change background","bounding":[971,1757,4276,1773],"color":"#3f789e","font_size":24,"locked":false},{"title":"colormask","bounding":[4555,1348,1903,681],"color":"#3f789e","font_size":24,"locked":false},{"title":"clipsegmask","bounding":[3961,1651,559,376],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{"0246.VERSION":[0,0,4]},"version":0.4}