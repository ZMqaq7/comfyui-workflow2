{"last_node_id":131,"last_link_id":235,"nodes":[{"id":12,"type":"PreviewImage","pos":[1113,272],"size":{"0":314.8818359375,"1":406.394287109375},"flags":{},"order":38,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":17,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":20,"type":"CLIPVisionLoader","pos":[-78,-422],"size":{"0":315,"1":58},"flags":{},"order":0,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[26],"shape":3,"label":"CLIP\u89c6\u89c9"}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["image encoder.safetensors"]},{"id":21,"type":"InsightFaceLoader","pos":[-86,-168],"size":{"0":315,"1":58},"flags":{},"order":1,"mode":0,"outputs":[{"name":"INSIGHTFACE","type":"INSIGHTFACE","links":[27],"shape":3,"label":"INSIGHTFACE"}],"properties":{"Node name for S&R":"InsightFaceLoader"},"widgets_values":["CPU"]},{"id":8,"type":"VAEDecode","pos":[1123,168],"size":{"0":210,"1":46},"flags":{},"order":37,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":7,"label":"Latent"},{"name":"vae","type":"VAE","link":8,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[17,46],"slot_index":0,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":32,"type":"VAEEncode","pos":[1170,900],"size":{"0":210,"1":46},"flags":{},"order":40,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":47,"label":"\u56fe\u50cf"},{"name":"vae","type":"VAE","link":null,"label":"VAE"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[50],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":39,"type":"UltralyticsDetectorProvider","pos":[2170,1070],"size":{"0":315,"1":78},"flags":{},"order":2,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[62],"shape":3,"label":"BBox\u68c0\u6d4b","slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[61],"shape":3,"label":"SEGM\u68c0\u6d4b"}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/face_yolov8m.pt"]},{"id":40,"type":"SAMLoader","pos":[2170,930],"size":{"0":315,"1":82},"flags":{},"order":3,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[63],"shape":3,"label":"SAM\u6a21\u578b"}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","AUTO"]},{"id":5,"type":"EmptyLatentImage","pos":[596,495],"size":{"0":315,"1":106},"flags":{},"order":4,"mode":0,"outputs":[{"name":"LATENT","type":"LATENT","links":[2],"slot_index":0,"label":"Latent"}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[512,768,1]},{"id":49,"type":"PreviewImage","pos":[103,1024],"size":{"0":273.8979797363281,"1":313.7154541015625},"flags":{},"order":29,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":78,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":13,"type":"ControlNetLoader","pos":[156,537],"size":{"0":315,"1":58},"flags":{},"order":5,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[18],"shape":3,"label":"ControlNet"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["controlnet\\control_v11p_sd15_openpose.pth"]},{"id":34,"type":"Anything Everywhere","pos":[-343,832],"size":{"0":210,"1":26},"flags":{},"order":23,"mode":0,"inputs":[{"name":"CLIP","type":"*","link":49,"label":"CLIP","color_on":"#FFD500"}],"properties":{"group_restricted":false,"color_restricted":false,"Node name for S&R":"Anything Everywhere"}},{"id":33,"type":"Anything Everywhere","pos":[-344,738],"size":{"0":210,"1":26},"flags":{},"order":24,"mode":0,"inputs":[{"name":"VAE","type":"*","link":48,"label":"VAE","color_on":"#FF6E6E"}],"properties":{"group_restricted":false,"color_restricted":false,"Node name for S&R":"Anything Everywhere"}},{"id":3,"type":"KSampler","pos":[600,180],"size":{"0":315,"1":262},"flags":{},"order":36,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":25,"label":"\u6a21\u578b"},{"name":"positive","type":"CONDITIONING","link":15,"label":"\u6b63\u9762\u63d0\u793a\u8bcd"},{"name":"negative","type":"CONDITIONING","link":14,"label":"\u8d1f\u9762\u63d0\u793a\u8bcd"},{"name":"latent_image","type":"LATENT","link":2,"label":"Latent"},{"name":"seed","type":"INT","link":16,"widget":{"name":"seed"},"label":"seed","slot_index":4}],"outputs":[{"name":"LATENT","type":"LATENT","links":[7],"slot_index":0,"label":"Latent"}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1107770644519751,"randomize",25,5,"dpmpp_2m","karras",1]},{"id":66,"type":"VAEDecode","pos":[4540,2500],"size":{"0":210,"1":46},"flags":{},"order":60,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":109,"label":"Latent"},{"name":"vae","type":"VAE","link":null,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[111],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":72,"type":"LineArtPreprocessor","pos":[3346.44092492873,3320.1811516856424],"size":{"0":315,"1":82},"flags":{},"order":46,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":115,"label":"\u56fe\u50cf"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[116,117],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"LineArtPreprocessor"},"widgets_values":["disable",512]},{"id":75,"type":"ControlNetLoader","pos":[3726.44092492873,3110.1811516856424],"size":{"0":321.2486267089844,"1":75.9570083618164},"flags":{},"order":6,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[118],"shape":3,"label":"ControlNet"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["controlnet\\control_v11p_sd15_lineart.pth"]},{"id":86,"type":"Reroute","pos":[5496.440924928741,2190.181151685642],"size":[75,26],"flags":{},"order":34,"mode":0,"inputs":[{"name":"","type":"*","link":144,"label":""}],"outputs":[{"name":"","type":"MODEL","links":[145],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":87,"type":"VAEDecode","pos":[6080,2600],"size":{"0":210,"1":46},"flags":{},"order":63,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":146,"label":"Latent"},{"name":"vae","type":"VAE","link":null,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[147],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":73,"type":"PreviewImage","pos":[3706.44092492873,3420.1811516856424],"size":{"0":289.8968505859375,"1":331.9306945800781},"flags":{},"order":49,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":116,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":48,"type":"LoadImage","pos":[-818,1017],"size":{"0":460.630126953125,"1":698.5845336914062},"flags":{},"order":7,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[77],"shape":3,"label":"\u56fe\u50cf"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"\u906e\u7f69"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["snap03_A_beautiful_japanese_woman_ID_photo_with_an_adorable_pou_90dc5efb-6f08-4426-b8d6-536d6c74f6e8 (2).png","image"]},{"id":7,"type":"CLIPTextEncode","pos":[-344,412],"size":{"0":425.27801513671875,"1":180.6060791015625},"flags":{},"order":22,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":5,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[11,54,65,66],"slot_index":0,"label":"\u6761\u4ef6"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["text, watermark,bad quality,worst quality, low quality,monochrome,zombie,nsfw,hat,cap,3d models"],"color":"#322","bgcolor":"#533"},{"id":36,"type":"VAEDecode","pos":[1998,816],"size":{"0":210,"1":46},"flags":{},"order":42,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":57,"label":"Latent"},{"name":"vae","type":"VAE","link":null,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[58,60],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":4,"type":"CheckpointLoaderSimple","pos":[-755,434],"size":{"0":315,"1":98},"flags":{},"order":8,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[24],"slot_index":0,"label":"\u6a21\u578b"},{"name":"CLIP","type":"CLIP","links":[3,5,49],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[8,48],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["majicmixRealistic_v7.safetensors"]},{"id":10,"type":"ControlNetApplyAdvanced","pos":[161,670],"size":{"0":315,"1":166},"flags":{},"order":31,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":98,"label":"\u6b63\u9762\u63d0\u793a\u8bcd"},{"name":"negative","type":"CONDITIONING","link":11,"label":"\u8d1f\u9762\u63d0\u793a\u8bcd"},{"name":"control_net","type":"CONTROL_NET","link":18,"label":"ControlNet","slot_index":2},{"name":"image","type":"IMAGE","link":79,"label":"\u56fe\u50cf"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[15],"shape":3,"label":"\u6b63\u9762\u63d0\u793a\u8bcd","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[14],"shape":3,"label":"\u8d1f\u9762\u63d0\u793a\u8bcd","slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.85,0,1]},{"id":104,"type":"CLIPVisionLoader","pos":[2755,-248],"size":{"0":315,"1":58},"flags":{},"order":9,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[185],"shape":3,"label":"CLIP\u89c6\u89c9"}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["image encoder.safetensors"]},{"id":102,"type":"MaskToImage","pos":[4108.42904687774,1994.96820908805],"size":{"0":210,"1":26},"flags":{},"order":26,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":190,"label":"\u906e\u7f69"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[176],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":88,"type":"PreviewImage","pos":[6360,2600],"size":{"0":754.9363403320312,"1":1153.898681640625},"flags":{},"order":64,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":147,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":67,"type":"PreviewImage","pos":[4830,2500],"size":{"0":727.87548828125,"1":1063.956298828125},"flags":{},"order":62,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":111,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":47,"type":"DWPreprocessor","pos":[-280,1017],"size":{"0":315,"1":198},"flags":{},"order":19,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":77,"label":"\u56fe\u50cf","slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[78,79],"shape":3,"label":"\u56fe\u50cf","slot_index":0},{"name":"POSE_KEYPOINT","type":"POSE_KEYPOINT","links":null,"shape":3}],"properties":{"Node name for S&R":"DWPreprocessor"},"widgets_values":["disable","enable","disable",512,"yolox_m.torchscript.pt","dw-ll_ucoco_384.onnx"]},{"id":37,"type":"PreviewImage","pos":[1831,1012],"size":{"0":300.260986328125,"1":472.5401611328125},"flags":{},"order":43,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":58,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":31,"type":"ImageScaleBy","pos":[810,900],"size":{"0":315,"1":82},"flags":{},"order":39,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":46,"label":"\u56fe\u50cf"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[47],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["lanczos",1.5]},{"id":35,"type":"KSampler","pos":[1430,840],"size":{"0":315,"1":262},"flags":{},"order":41,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":56,"label":"\u6a21\u578b"},{"name":"positive","type":"CONDITIONING","link":99,"label":"\u6b63\u9762\u63d0\u793a\u8bcd"},{"name":"negative","type":"CONDITIONING","link":54,"label":"\u8d1f\u9762\u63d0\u793a\u8bcd"},{"name":"latent_image","type":"LATENT","link":50,"label":"Latent"},{"name":"seed","type":"INT","link":59,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[57],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[360069650629958,"randomize",30,5,"dpmpp_2m","karras",0.6]},{"id":109,"type":"Reroute","pos":[2790,2707],"size":[75,26],"flags":{},"order":28,"mode":0,"inputs":[{"name":"","type":"*","link":196,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"INT","links":[197,198],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":41,"type":"PreviewImage","pos":[3166,1045],"size":{"0":520.4876708984375,"1":828.48583984375},"flags":{},"order":45,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":68,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":74,"type":"ControlNetApply","pos":[3726.44092492873,3230.1811516856424],"size":{"0":317.4000244140625,"1":98},"flags":{},"order":50,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":200,"label":"\u6761\u4ef6"},{"name":"control_net","type":"CONTROL_NET","link":118,"label":"ControlNet","slot_index":1},{"name":"image","type":"IMAGE","link":117,"label":"\u56fe\u50cf"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[120,162],"shape":3,"label":"\u6761\u4ef6","slot_index":0}],"properties":{"Node name for S&R":"ControlNetApply"},"widgets_values":[1]},{"id":112,"type":"ConditioningCombine","pos":[3320,3225],"size":{"0":342.5999755859375,"1":46},"flags":{},"order":27,"mode":0,"inputs":[{"name":"conditioning_1","type":"CONDITIONING","link":199,"label":"\u6761\u4ef61"},{"name":"conditioning_2","type":"CONDITIONING","link":201,"label":"\u6761\u4ef62"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[200],"shape":3,"label":"\u6761\u4ef6","slot_index":0}],"properties":{"Node name for S&R":"ConditioningCombine"}},{"id":111,"type":"CLIPTextEncode","pos":[3235,3013],"size":{"0":422.84503173828125,"1":164.31304931640625},"flags":{},"order":10,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[201],"slot_index":0,"label":"\u6761\u4ef6"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["ID photo, upper body, perfect face, high pixels, high quality\uff0chigh resolution,detail expression,white background,Suit,photorealistic"]},{"id":85,"type":"KSampler","pos":[5680,2600],"size":{"0":315,"1":262},"flags":{},"order":61,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":145,"label":"\u6a21\u578b"},{"name":"positive","type":"CONDITIONING","link":162,"label":"\u6b63\u9762\u63d0\u793a\u8bcd"},{"name":"negative","type":"CONDITIONING","link":149,"label":"\u8d1f\u9762\u63d0\u793a\u8bcd"},{"name":"latent_image","type":"LATENT","link":143,"label":"Latent"},{"name":"seed","type":"INT","link":198,"widget":{"name":"seed"},"label":"\u968f\u673a\u79cd"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[146],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[823386634490647,"randomize",20,8,"euler","normal",0.75]},{"id":65,"type":"KSampler","pos":[4126,2453],"size":{"0":315,"1":262},"flags":{},"order":59,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":178,"label":"\u6a21\u578b","slot_index":0},{"name":"positive","type":"CONDITIONING","link":120,"label":"\u6b63\u9762\u63d0\u793a\u8bcd","slot_index":1},{"name":"negative","type":"CONDITIONING","link":107,"label":"\u8d1f\u9762\u63d0\u793a\u8bcd"},{"name":"latent_image","type":"LATENT","link":204,"label":"Latent"},{"name":"seed","type":"INT","link":197,"widget":{"name":"seed"},"label":"\u968f\u673a\u79cd"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[109,143],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[988387743201869,"randomize",30,8,"dpmpp_2m","karras",0.9]},{"id":38,"type":"FaceDetailer","pos":[2570,1016],"size":{"0":506.4000244140625,"1":852},"flags":{"collapsed":false},"order":44,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":60,"label":"\u56fe\u50cf"},{"name":"model","type":"MODEL","link":234,"label":"\u6a21\u578b"},{"name":"clip","type":"CLIP","link":null,"label":"CLIP"},{"name":"vae","type":"VAE","link":null,"label":"VAE"},{"name":"positive","type":"CONDITIONING","link":65,"label":"\u6b63\u9762\u63d0\u793a\u8bcd"},{"name":"negative","type":"CONDITIONING","link":66,"label":"\u8d1f\u9762\u63d0\u793a\u8bcd"},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":62,"label":"BBox\u68c0\u6d4b"},{"name":"sam_model_opt","type":"SAM_MODEL","link":63,"label":"SAM\u6a21\u578b","slot_index":7},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":61,"label":"Segm\u68c0\u6d4b","slot_index":8},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"\u7ec6\u5316\u7ea6\u675f"},{"name":"seed","type":"INT","link":69,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"image","type":"IMAGE","links":[68,115,202,210],"shape":3,"label":"\u56fe\u50cf","slot_index":0},{"name":"cropped_refined","type":"IMAGE","links":[],"shape":6,"label":"\u7ec6\u5316\u56fe\u50cf","slot_index":1},{"name":"cropped_enhanced_alpha","type":"IMAGE","links":null,"shape":6,"label":"\u7ec6\u5316\u90e8\u5206"},{"name":"mask","type":"MASK","links":null,"shape":3,"label":"\u906e\u7f69"},{"name":"detailer_pipe","type":"DETAILER_PIPE","links":null,"shape":3,"label":"\u7ec6\u5316\u8282\u70b9\u675f"},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6,"label":"cnet_images"}],"properties":{"Node name for S&R":"FaceDetailer"},"widgets_values":[256,true,768,762449300456671,"randomize",15,2.5,"dpmpp_2m","normal",0.4,7,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"face details",1,false,10]},{"id":120,"type":"PreviewImage","pos":[4691.413745043126,1561.2817509996999],"size":{"0":210,"1":246},"flags":{},"order":52,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":211,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":116,"type":"OneFormer-COCO-SemSegPreprocessor","pos":[4589.413745043126,1444.2817509996999],"size":{"0":315,"1":58},"flags":{},"order":48,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":210,"label":"\u56fe\u50cf"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[207,211],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"OneFormer-COCO-SemSegPreprocessor"},"widgets_values":[768]},{"id":57,"type":"PreviewImage","pos":[4338.4290468777635,1744.9682090880485],"size":{"0":152.3374481201172,"1":266.9354248046875},"flags":{},"order":33,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":176,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":117,"type":"MaskFromColor+","pos":[4947.413745043126,1443.2817509996999],"size":{"0":315,"1":130},"flags":{},"order":51,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":207,"label":"image"}],"outputs":[{"name":"MASK","type":"MASK","links":[208],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"MaskFromColor+"},"widgets_values":[220,20,60,2]},{"id":119,"type":"PreviewImage","pos":[5592.413745043126,1452.2817509996999],"size":{"0":210,"1":246},"flags":{},"order":54,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":209,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":118,"type":"MaskToImage","pos":[5302.413745043126,1452.2817509996999],"size":{"0":210,"1":26},"flags":{},"order":53,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":208,"label":"\u906e\u7f69"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[209,213],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":107,"type":"SetLatentNoiseMask","pos":[3790,2430],"size":{"0":210,"1":46},"flags":{},"order":58,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":195,"label":"Latent"},{"name":"mask","type":"MASK","link":219,"label":"\u906e\u7f69"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[204],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"SetLatentNoiseMask"}},{"id":124,"type":"SolidMask","pos":[4933.413745043126,1695.2817509996999],"size":{"0":315,"1":106},"flags":{},"order":11,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[214],"shape":3,"label":"\u906e\u7f69","slot_index":0}],"properties":{"Node name for S&R":"SolidMask"},"widgets_values":[0,768,576]},{"id":125,"type":"MaskToImage","pos":[5320.413745043126,1695.2817509996999],"size":{"0":210,"1":26},"flags":{},"order":25,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":214,"label":"\u906e\u7f69"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[215,216],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":122,"type":"ImageCompositeMasked","pos":[5841.413745043126,1528.2817509996999],"size":{"0":315,"1":146},"flags":{},"order":55,"mode":0,"inputs":[{"name":"destination","type":"IMAGE","link":213,"label":"\u76ee\u6807\u56fe\u50cf"},{"name":"source","type":"IMAGE","link":216,"label":"\u6e90\u56fe\u50cf","slot_index":1},{"name":"mask","type":"MASK","link":null,"label":"\u906e\u7f69"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[217,218],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"ImageCompositeMasked"},"widgets_values":[0,0,false]},{"id":126,"type":"PreviewImage","pos":[5843.413745043126,1734.2817509996999],"size":{"0":210,"1":246},"flags":{},"order":32,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":215,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":127,"type":"PreviewImage","pos":[6188.413745043126,1530.2817509996999],"size":{"0":210,"1":246},"flags":{},"order":56,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":217,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":128,"type":"ImageToMask","pos":[6083.413745043126,1832.2817509996999],"size":{"0":315,"1":58},"flags":{},"order":57,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":218,"label":"\u56fe\u50cf"}],"outputs":[{"name":"MASK","type":"MASK","links":[219],"shape":3,"label":"\u906e\u7f69","slot_index":0}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"]},{"id":108,"type":"VAEEncode","pos":[3786,2320],"size":{"0":210,"1":46},"flags":{},"order":47,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":202,"label":"\u56fe\u50cf"},{"name":"vae","type":"VAE","link":null,"label":"VAE"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[195],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":106,"type":"CLIPSeg","pos":[3998.4290468777376,1744.9682090880485],"size":{"0":317.0323181152344,"1":186.00634765625},"flags":{},"order":12,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":null,"label":"\u56fe\u50cf"}],"outputs":[{"name":"Mask","type":"MASK","links":[190],"shape":3,"label":"\u906e\u7f69","slot_index":0},{"name":"Heatmap Mask","type":"IMAGE","links":null,"shape":3,"label":"\u70ed\u5ea6\u56fe"},{"name":"BW Mask","type":"IMAGE","links":null,"shape":3,"label":"\u7070\u5ea6\u56fe"}],"properties":{"Node name for S&R":"CLIPSeg"},"widgets_values":["figure",7,0.2,6]},{"id":6,"type":"CLIPTextEncode","pos":[-348,178],"size":{"0":422.84503173828125,"1":164.31304931640625},"flags":{},"order":21,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":3,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[98,99],"slot_index":0,"label":"\u6761\u4ef6"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["ID photo, upper body, perfect face, high pixels, high quality\uff0chigh resolution,detail expression,white background,grey shirt,grey work clothes,Suit,photorealistic,8k,ultra details,simple background"]},{"id":61,"type":"CLIPTextEncode","pos":[3739,2836],"size":{"0":330.32476806640625,"1":200.777587890625},"flags":{},"order":13,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[107,149],"slot_index":0,"label":"\u6761\u4ef6"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["bad quality,3d,bad details,no humans,white clothes,nude,NSFW,cleavage,"],"color":"#322","bgcolor":"#533"},{"id":60,"type":"CLIPTextEncode","pos":[3252,2764],"size":{"0":400,"1":200},"flags":{},"order":14,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[199],"shape":3,"label":"\u6761\u4ef6","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["(black clothing:1.4),suit, shirt, tie"]},{"id":11,"type":"Seed Everywhere","pos":[-753,597],"size":{"0":315,"1":82},"flags":{},"order":15,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[16,59,69,196],"shape":3,"label":"INT","slot_index":0}],"properties":{"group_restricted":false,"color_restricted":false,"Node name for S&R":"Seed Everywhere"},"widgets_values":[350579793759409,"randomize"]},{"id":18,"type":"IPAdapterModelLoader","pos":[255,-507],"size":{"0":315,"1":58},"flags":{},"order":16,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[22],"shape":3,"label":"IPADAPTER"}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-faceid-plusv2_sd15.bin"]},{"id":19,"type":"LoraLoaderModelOnly","pos":[-82,-311],"size":{"0":315,"1":82},"flags":{},"order":20,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":24,"label":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[23],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"LoraLoaderModelOnly"},"widgets_values":["ip-adapter-faceid-plusv2_sd15_lora.safetensors",0.9]},{"id":103,"type":"IPAdapterAdvanced","pos":[2759,-137],"size":{"0":315,"1":258},"flags":{},"order":35,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":186,"label":"ipadapter","slot_index":0},{"name":"clip_vision","type":"CLIP_VISION","link":185,"label":"clip_vision","slot_index":1},{"name":"image","type":"IMAGE","link":187,"label":"image"},{"name":"model","type":"MODEL","link":235,"label":"model"},{"name":"attn_mask","type":"MASK","link":null,"label":"attn_mask"},{"name":"image_negative","type":"IMAGE","link":"null","label":"image_negative"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterAdvanced"},"widgets_values":[0.6,"linear","concat",0,1,"V only"]},{"id":17,"type":"IPAdapterApplyFaceID","pos":[600,-220],"size":{"0":315,"1":326},"flags":{},"order":30,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":22,"label":"ipadapter","slot_index":0},{"name":"clip_vision","type":"CLIP_VISION","link":26,"label":"clip_vision","slot_index":1},{"name":"insightface","type":"INSIGHTFACE","link":27,"label":"insightface","slot_index":2},{"name":"image","type":"IMAGE","link":28,"label":"image","slot_index":3},{"name":"model","type":"MODEL","link":23,"label":"model"},{"name":"attn_mask","type":"MASK","link":null,"label":"attn_mask"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[25,56,144,178,234,235],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterApplyFaceID"},"widgets_values":[1,0.4,"original",0,1,true,1,false]},{"id":105,"type":"IPAdapterModelLoader","pos":[2753,-375],"size":{"0":315,"1":58},"flags":{},"order":17,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[186],"shape":3,"label":"IPADAPTER"}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-plus-face_sd15.safetensors"]},{"id":22,"type":"LoadImage","pos":[3292,-143],"size":{"0":492.1726379394531,"1":581.3823852539062},"flags":{},"order":18,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[28,187],"shape":3,"label":"\u56fe\u50cf","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"\u906e\u7f69"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["1dcb47a9cf04f5010493ee2016a23d0e (1).png","image"]}],"links":[[2,5,0,3,3,"LATENT"],[3,4,1,6,0,"CLIP"],[5,4,1,7,0,"CLIP"],[7,3,0,8,0,"LATENT"],[8,4,2,8,1,"VAE"],[11,7,0,10,1,"CONDITIONING"],[14,10,1,3,2,"CONDITIONING"],[15,10,0,3,1,"CONDITIONING"],[16,11,0,3,4,"INT"],[17,8,0,12,0,"IMAGE"],[18,13,0,10,2,"CONTROL_NET"],[22,18,0,17,0,"IPADAPTER"],[23,19,0,17,4,"MODEL"],[24,4,0,19,0,"MODEL"],[25,17,0,3,0,"MODEL"],[26,20,0,17,1,"CLIP_VISION"],[27,21,0,17,2,"INSIGHTFACE"],[28,22,0,17,3,"IMAGE"],[46,8,0,31,0,"IMAGE"],[47,31,0,32,0,"IMAGE"],[48,4,2,33,0,"*"],[49,4,1,34,0,"*"],[50,32,0,35,3,"LATENT"],[54,7,0,35,2,"CONDITIONING"],[56,17,0,35,0,"MODEL"],[57,35,0,36,0,"LATENT"],[58,36,0,37,0,"IMAGE"],[59,11,0,35,4,"INT"],[60,36,0,38,0,"IMAGE"],[61,39,1,38,8,"SEGM_DETECTOR"],[62,39,0,38,6,"BBOX_DETECTOR"],[63,40,0,38,7,"SAM_MODEL"],[65,7,0,38,4,"CONDITIONING"],[66,7,0,38,5,"CONDITIONING"],[68,38,0,41,0,"IMAGE"],[69,11,0,38,10,"INT"],[77,48,0,47,0,"IMAGE"],[78,47,0,49,0,"IMAGE"],[79,47,0,10,3,"IMAGE"],[98,6,0,10,0,"CONDITIONING"],[99,6,0,35,1,"CONDITIONING"],[107,61,0,65,2,"CONDITIONING"],[109,65,0,66,0,"LATENT"],[111,66,0,67,0,"IMAGE"],[115,38,0,72,0,"IMAGE"],[116,72,0,73,0,"IMAGE"],[117,72,0,74,2,"IMAGE"],[118,75,0,74,1,"CONTROL_NET"],[120,74,0,65,1,"CONDITIONING"],[143,65,0,85,3,"LATENT"],[144,17,0,86,0,"*"],[145,86,0,85,0,"MODEL"],[146,85,0,87,0,"LATENT"],[147,87,0,88,0,"IMAGE"],[149,61,0,85,2,"CONDITIONING"],[150,4,2,32,1,"VAE"],[151,4,2,36,1,"VAE"],[152,4,2,66,1,"VAE"],[153,4,1,38,2,"CLIP"],[154,4,2,38,3,"VAE"],[155,4,2,59,1,"VAE"],[156,4,2,82,1,"VAE"],[157,4,1,84,0,"CLIP"],[158,4,2,87,1,"VAE"],[159,4,1,61,0,"CLIP"],[160,4,1,60,0,"CLIP"],[162,74,0,85,1,"CONDITIONING"],[176,102,0,57,0,"IMAGE"],[178,17,0,65,0,"MODEL"],[185,104,0,103,1,"CLIP_VISION"],[186,105,0,103,0,"IPADAPTER"],[187,22,0,103,2,"IMAGE"],[190,106,0,102,0,"MASK"],[195,108,0,107,0,"LATENT"],[196,11,0,109,0,"*"],[197,109,0,65,4,"INT"],[198,109,0,85,4,"INT"],[199,60,0,112,0,"CONDITIONING"],[200,112,0,74,0,"CONDITIONING"],[201,111,0,112,1,"CONDITIONING"],[202,38,0,108,0,"IMAGE"],[204,107,0,65,3,"LATENT"],[207,116,0,117,0,"IMAGE"],[208,117,0,118,0,"MASK"],[209,118,0,119,0,"IMAGE"],[210,38,0,116,0,"IMAGE"],[211,116,0,120,0,"IMAGE"],[213,118,0,122,0,"IMAGE"],[214,124,0,125,0,"MASK"],[215,125,0,126,0,"IMAGE"],[216,125,0,122,1,"IMAGE"],[217,122,0,127,0,"IMAGE"],[218,122,0,128,0,"IMAGE"],[219,128,0,107,1,"MASK"],[223,4,2,32,1,"VAE"],[224,4,2,66,1,"VAE"],[225,4,2,87,1,"VAE"],[226,4,2,36,1,"VAE"],[227,4,1,61,0,"CLIP"],[228,4,1,111,0,"CLIP"],[229,4,1,60,0,"CLIP"],[230,4,1,38,2,"CLIP"],[231,4,2,38,3,"VAE"],[232,4,2,108,1,"VAE"],[234,17,0,38,1,"MODEL"],[235,17,0,103,3,"MODEL"]],"groups":[{"title":"change background","bounding":[3223,2112,4276,1773],"color":"#3f789e","font_size":24,"locked":false},{"title":"colormask","bounding":[4555,1348,1903,681],"color":"#3f789e","font_size":24,"locked":false},{"title":"clipsegmask","bounding":[3961,1651,559,376],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{"0246.VERSION":[0,0,4]},"version":0.4}