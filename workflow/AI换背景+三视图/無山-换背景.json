{"last_node_id":90,"last_link_id":178,"nodes":[{"id":7,"type":"Convert Masks to Images","pos":[3361,-2093],"size":{"0":210,"1":26},"flags":{},"order":15,"mode":0,"inputs":[{"name":"masks","type":"MASK","link":7,"label":"遮罩"}],"outputs":[{"name":"IMAGES","type":"IMAGE","links":[12],"shape":3,"slot_index":0,"label":"图像"}],"properties":{"Node name for S&R":"Convert Masks to Images"},"color":"#332922","bgcolor":"#593930"},{"id":13,"type":"PreviewImage","pos":[3262,-1703],"size":{"0":210,"1":246},"flags":{},"order":17,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":12,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":14,"type":"PreviewImage","pos":[3006,-1705],"size":{"0":210,"1":246},"flags":{},"order":10,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":13,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":1,"type":"GroundingDinoModelLoader (segment anything)","pos":[2933,-2028],"size":{"0":380,"1":60},"flags":{},"order":0,"mode":0,"outputs":[{"name":"GROUNDING_DINO_MODEL","type":"GROUNDING_DINO_MODEL","links":[1],"shape":3,"label":"GROUNDING_DINO_MODEL"}],"properties":{"Node name for S&R":"GroundingDinoModelLoader (segment anything)"},"widgets_values":["GroundingDINO_SwinT_OGC (694MB)"],"color":"#332922","bgcolor":"#593930","serialize_values":[null]},{"id":88,"type":"Reroute","pos":[2647.0725384394377,-1344.2148808501274],"size":[75,26],"flags":{},"order":1,"mode":0,"inputs":[{"name":"","type":"*","link":null}],"outputs":[{"name":"","type":"*","links":[]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":53,"type":"PreviewImage","pos":[3630,-1710],"size":{"0":233.3446044921875,"1":261.93719482421875},"flags":{},"order":14,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":113,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":4,"type":"LoadImage","pos":[2324,-1944],"size":{"0":500,"1":480},"flags":{},"order":2,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[124,158],"shape":3,"slot_index":0,"label":"图像"},{"name":"MASK","type":"MASK","links":[],"shape":3,"slot_index":1,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/577c77276f18969e52856f669e2b2e32892d56cb.png@1536w_1536h_0e","image"],"color":"#332922","bgcolor":"#593930","serialize_values":[null,null]},{"id":3,"type":"SAMModelLoader (segment anything)","pos":[2929,-2129],"size":{"0":380,"1":60},"flags":{},"order":3,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[3],"shape":3,"slot_index":0,"label":"SAM_MODEL"}],"properties":{"Node name for S&R":"SAMModelLoader (segment anything)"},"widgets_values":["sam_hq_vit_h (2.57GB)"],"color":"#332922","bgcolor":"#593930","serialize_values":[null]},{"id":6,"type":"InvertMask (segment anything)","pos":[3352,-2000],"size":{"0":243.60000610351562,"1":26},"flags":{},"order":12,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":6,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[7,70],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"InvertMask (segment anything)"},"color":"#332922","bgcolor":"#593930"},{"id":39,"type":"VAEDecode","pos":[3224,-1327],"size":{"0":140,"1":46},"flags":{},"order":19,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":177,"label":"Latent"},{"name":"vae","type":"VAE","link":150,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[47],"shape":3,"slot_index":0,"label":"图像"}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#323","bgcolor":"#535"},{"id":66,"type":"Image Canny Filter","pos":[3661,-1886],"size":{"0":315,"1":106},"flags":{},"order":11,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":111,"label":"图像"}],"outputs":[{"name":"images","type":"IMAGE","links":[112,113],"shape":3,"slot_index":0,"label":"图像"}],"properties":{"Node name for S&R":"Image Canny Filter"},"widgets_values":["false",0.01,1],"color":"#2a363b","bgcolor":"#3f5159","serialize_values":[null,null,null]},{"id":72,"type":"ImageScale","pos":[2388,-2149],"size":{"0":477.9818420410156,"1":130},"flags":{},"order":8,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":124,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"shape":3,"slot_index":0,"label":"图像"}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",654,1029,"center"],"color":"#323","bgcolor":"#535","serialize_values":[null,null,null,null]},{"id":51,"type":"ControlNetLoaderAdvanced","pos":[3981,-2102],"size":{"0":329.20562744140625,"1":58},"flags":{},"order":4,"mode":0,"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null,"label":"帧间隔"}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[84],"shape":3,"slot_index":0,"label":"ControlNet"}],"properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["control_v11p_sd15_canny.pth"],"color":"#2a363b","bgcolor":"#3f5159","serialize_values":[null]},{"id":87,"type":"Text","pos":[3332,-1845],"size":{"0":315,"1":58},"flags":{},"order":5,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[156],"shape":3,"label":"字符串","slot_index":0}],"properties":{"Node name for S&R":"Text"},"widgets_values":["Girl"],"serialize_values":[null]},{"id":41,"type":"Seed (rgthree)","pos":[2346,-320],"size":{"0":389.83013916015625,"1":140.34152221679688},"flags":{},"order":6,"mode":0,"outputs":[{"name":"SEED","type":"INT","links":[176],"shape":3,"slot_index":0,"dir":4,"label":"SEED"}],"properties":{"Node name for S&R":"Seed (rgthree)"},"widgets_values":[7265429172934,null,null,null],"color":"#432","bgcolor":"#653","serialize_values":[null,null,null,null]},{"id":78,"type":"Efficient Loader","pos":[2343.9858685175627,-1333.063445913604],"size":{"0":390.9649658203125,"1":1016.2842407226562},"flags":{},"order":7,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"label":"LoRA堆"},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":null,"label":"ControlNet堆"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[172],"shape":3,"label":"模型","slot_index":0},{"name":"CONDITIONING+","type":"CONDITIONING","links":[144],"shape":3,"label":"正面条件","slot_index":1},{"name":"CONDITIONING-","type":"CONDITIONING","links":[145,174],"shape":3,"label":"负面条件","slot_index":2},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":[150,153],"shape":3,"label":"VAE","slot_index":4},{"name":"CLIP","type":"CLIP","links":null,"shape":3,"label":"CLIP"},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":null,"shape":3,"label":"依赖"}],"properties":{"Node name for S&R":"Efficient Loader"},"widgets_values":["majicMIX realistic(v7)","vae-ft-mse-840000-ema-pruned.ckpt",-2,"GirlfriendMix_v1(v2.0)",0.5,0.5,"industrial wind, Chinese architecture,HD,8k,4K","embedding:EasyNegative, people","mean","comfy",512,512,1],"color":"#223333","bgcolor":"#335555","shape":1,"serialize_values":["192_3750_4424@7c819b6d13.safetensors",null,null,"518_1250_1550@00cb71f105.safetensors",null,null,"industrial wind, Chinese architecture,HD,8k,4K","embedding:EasyNegative, people",null,null,null,null,null]},{"id":50,"type":"ControlNetApplyAdvanced","pos":[3657,-2138],"size":{"0":315,"1":166},"flags":{},"order":13,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":144,"label":"正面提示词"},{"name":"negative","type":"CONDITIONING","link":145,"label":"负面提示词"},{"name":"control_net","type":"CONTROL_NET","link":84,"slot_index":2,"label":"ControlNet"},{"name":"image","type":"IMAGE","link":112,"label":"图像"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[173],"shape":3,"slot_index":0,"label":"正面提示词"},{"name":"negative","type":"CONDITIONING","links":[],"shape":3,"slot_index":1,"label":"负面提示词"}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.8,0.1,0.8],"color":"#2a363b","bgcolor":"#3f5159","serialize_values":[null,null,null]},{"id":2,"type":"GroundingDinoSAMSegment (segment anything)","pos":[2936,-1905],"size":{"0":360,"1":122},"flags":{},"order":9,"mode":0,"inputs":[{"name":"sam_model","type":"SAM_MODEL","link":3,"label":"sam_model"},{"name":"grounding_dino_model","type":"GROUNDING_DINO_MODEL","link":1,"slot_index":1,"label":"grounding_dino_model"},{"name":"image","type":"IMAGE","link":158,"label":"image"},{"name":"prompt","type":"STRING","link":156,"widget":{"name":"prompt"},"slot_index":3,"label":"prompt"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[13,111,126],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[6],"shape":3,"slot_index":1,"label":"MASK"}],"properties":{"Node name for S&R":"GroundingDinoSAMSegment (segment anything)"},"widgets_values":["girl",0.5],"color":"#432","bgcolor":"#653","serialize_values":["girl",null]},{"id":54,"type":"VAEEncodeForInpaint","pos":[2858,-1329],"size":{"0":315,"1":98},"flags":{},"order":16,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":126,"label":"图像"},{"name":"vae","type":"VAE","link":153,"label":"VAE"},{"name":"mask","type":"MASK","link":70,"label":"遮罩"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[175],"shape":3,"slot_index":0,"label":"Latent"}],"properties":{"Node name for S&R":"VAEEncodeForInpaint"},"widgets_values":[5],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":90,"type":"KSampler","pos":[2869,-1167],"size":{"0":315,"1":262},"flags":{},"order":18,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":172,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":173,"label":"正面提示词"},{"name":"negative","type":"CONDITIONING","link":174,"label":"负面提示词"},{"name":"latent_image","type":"LATENT","link":175,"label":"Latent"},{"name":"seed","type":"INT","link":176,"widget":{"name":"seed"},"label":"随机种"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[177],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1055809398013576,"randomize",30,6,"dpmpp_2m","karras",0.5],"serialize_values":[null,null,null,null,null,null,null]},{"id":40,"type":"PreviewImage","pos":[3416,-1324],"size":{"0":403.4054260253906,"1":433.56561279296875},"flags":{},"order":20,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":47,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage"}}],"links":[[1,1,0,2,1,"GROUNDING_DINO_MODEL"],[3,3,0,2,0,"SAM_MODEL"],[6,2,1,6,0,"MASK"],[7,6,0,7,0,"MASK"],[12,7,0,13,0,"IMAGE"],[13,2,0,14,0,"IMAGE"],[47,39,0,40,0,"IMAGE"],[70,6,0,54,2,"MASK"],[84,51,0,50,2,"CONTROL_NET"],[111,2,0,66,0,"IMAGE"],[112,66,0,50,3,"IMAGE"],[113,66,0,53,0,"IMAGE"],[124,4,0,72,0,"IMAGE"],[126,2,0,54,0,"IMAGE"],[144,78,1,50,0,"CONDITIONING"],[145,78,2,50,1,"CONDITIONING"],[150,78,4,39,1,"VAE"],[153,78,4,54,1,"VAE"],[156,87,0,2,3,"STRING"],[158,4,0,2,2,"IMAGE"],[172,78,0,90,0,"MODEL"],[173,50,0,90,1,"CONDITIONING"],[174,78,2,90,2,"CONDITIONING"],[175,54,0,90,3,"LATENT"],[176,41,0,90,4,"INT"],[177,90,0,39,0,"LATENT"]],"groups":[{"title":"Group","bounding":[2898,-2217,705,780],"color":"#3f789e","font_size":24,"locked":false},{"title":"Group","bounding":[3618,-2217,708,779],"color":"#3f789e","font_size":24,"locked":false},{"title":"Group","bounding":[2291,-2216,594,780],"color":"#3f789e","font_size":24,"locked":false},{"title":"Group","bounding":[2289,-1423,2039,830],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}