{"last_node_id":32,"last_link_id":92,"nodes":[{"id":15,"type":"LoadImage","pos":[-737.3164641601564,-407.574217822266],"size":{"0":210,"1":314},"flags":{},"order":0,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[21,84],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"title":"Character Style Image","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/52e831cd090bc5534b4744d148c81b1c1a6e74d0.jpg","image"],"serialize_values":[null,null]},{"id":25,"type":"Note","pos":[-302,-699],"size":{"0":1139.4407958984375,"1":132.6627655029297},"flags":{},"order":1,"mode":0,"title":"Costuming Workflow - V2, new and improved","properties":{"text":""},"widgets_values":["Put an image that clearly shows a face in the character style Image box.  This face will be used with ipadapter to generate the style of the image.  The face is also rendered onto the finished image before it is saved. \n\nPut a background image in the Background style image, \n\nPut an image in the Pose Image box.  It is automatically converted into a open pose image using the DW Pose Estimation node.\n\nAdjust the positive and negative prompts to generate the image you would like to see. \n\n"],"color":"#432","bgcolor":"#653","serialize_values":[null]},{"id":8,"type":"CLIPTextEncode","pos":[1044,-186],"size":{"0":349.9001770019531,"1":128.77320861816406},"flags":{},"order":11,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":82,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[9,80],"shape":3,"slot_index":0,"label":"CONDITIONING"}],"title":"Negative Text Prompt","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["blurry, horror, head out of frame, cut off head, background out of focus, blurry background, out of focus, side view, clothes, bright light, high contrast, head wrap, neck wrap,  anime, cartoon, drawing, "],"color":"#322","bgcolor":"#533","serialize_values":["blurry, horror, head out of frame, cut off head, background out of focus, blurry background, out of focus, side view, clothes, bright light, high contrast, head wrap, neck wrap,  anime, cartoon, drawing, "]},{"id":12,"type":"SaveImage","pos":[1465,-386],"size":{"0":485.1882019042969,"1":734.5674438476562},"flags":{},"order":20,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":88,"label":"images"}],"title":"Image Saved","properties":{},"widgets_values":["IPAdapter"],"serialize_values":["IPAdapter"]},{"id":1,"type":"CheckpointLoaderSimple","pos":[1090,157],"size":{"0":254.0966033935547,"1":100.83763885498047},"flags":{"collapsed":false},"order":2,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[68,78],"shape":3,"slot_index":0,"label":"MODEL"},{"name":"CLIP","type":"CLIP","links":[81,82],"shape":3,"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[35,83],"shape":3,"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["Juggernaut XL(v8+Rundiffusion)"],"serialize_values":["3185_4839_5661@aeb7e9e689.safetensors"]},{"id":22,"type":"ControlNetApply","pos":[-59,240],"size":{"0":317.4000244140625,"1":98},"flags":{"collapsed":false},"order":14,"mode":0,"inputs":[{"name":"conditioning","type":"CONDITIONING","link":60,"label":"conditioning"},{"name":"control_net","type":"CONTROL_NET","link":40,"label":"control_net"},{"name":"image","type":"IMAGE","link":90,"label":"image"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[77],"shape":3,"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"ControlNetApply"},"widgets_values":[0.87],"serialize_values":[null]},{"id":32,"type":"DWPreprocessor","pos":[282,139],"size":{"0":315,"1":198},"flags":{"collapsed":false},"order":12,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":92,"slot_index":0,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[90],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"POSE_KEYPOINT","type":"POSE_KEYPOINT","links":null,"shape":3,"label":"POSE_KEYPOINT"}],"properties":{"Node name for S&R":"DWPreprocessor"},"widgets_values":["enable","enable","enable",1024,"yolox_l.onnx","dw-ll_ucoco_384.onnx"],"serialize_values":[null,null,null,null,null,null]},{"id":30,"type":"UltimateSDUpscale","pos":[451,77],"size":{"0":315,"1":802},"flags":{"collapsed":true},"order":18,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":86,"label":"image"},{"name":"model","type":"MODEL","link":78,"label":"model"},{"name":"positive","type":"CONDITIONING","link":79,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":80,"label":"negative"},{"name":"vae","type":"VAE","link":83,"label":"vae"},{"name":"upscale_model","type":"UPSCALE_MODEL","link":76,"label":"upscale_model"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[87],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"UltimateSDUpscale"},"widgets_values":[1,317944871679713,"randomize",8,6,"euler","normal",0.33,"Linear",1024,1024,8,32,"None",1,64,8,16,false,false],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{"id":4,"type":"CLIPVisionLoader","pos":[-42,20],"size":{"0":300,"1":60},"flags":{"collapsed":false},"order":3,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[16],"shape":3,"slot_index":0,"label":"CLIP_VISION"}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["ip_adaptor_sdxl_pytorch_model.bin"],"serialize_values":[null]},{"id":14,"type":"IPAdapterEncoder","pos":[-52,-293],"size":{"0":210,"1":260},"flags":{"collapsed":false},"order":13,"mode":0,"inputs":[{"name":"clip_vision","type":"CLIP_VISION","link":16,"label":"clip_vision"},{"name":"image_1","type":"IMAGE","link":21,"label":"image_1"},{"name":"image_2","type":"IMAGE","link":65,"label":"image_2"},{"name":"image_3","type":"IMAGE","link":null,"label":"image_3"},{"name":"image_4","type":"IMAGE","link":null,"label":"image_4"}],"outputs":[{"name":"EMBEDS","type":"EMBEDS","links":[18],"shape":3,"slot_index":0,"label":"EMBEDS"}],"properties":{"Node name for S&R":"IPAdapterEncoder"},"widgets_values":[false,0.31,0.21,0.98,0,0],"serialize_values":[null,null,null,null,null,null]},{"id":9,"type":"KSampler","pos":[548,-424],"size":[316.10733642578134,273.2619262695313],"flags":{"collapsed":false},"order":16,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":69,"label":"model"},{"name":"positive","type":"CONDITIONING","link":77,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":9,"label":"negative"},{"name":"latent_image","type":"LATENT","link":10,"label":"latent_image"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[11],"shape":3,"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[347578483494563,"randomize",20,6,"dpmpp_3m_sde","karras",1],"serialize_values":[null,null,null,null,null,null,null]},{"id":13,"type":"IPAdapterApplyEncoded","pos":[176,-399],"size":{"0":240,"1":214},"flags":{"collapsed":true},"order":15,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":17,"label":"ipadapter"},{"name":"embeds","type":"EMBEDS","link":18,"label":"embeds"},{"name":"model","type":"MODEL","link":68,"label":"model"},{"name":"attn_mask","type":"MASK","link":null,"label":"attn_mask"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[69],"shape":3,"slot_index":0,"label":"MODEL"}],"properties":{"Node name for S&R":"IPAdapterApplyEncoded"},"widgets_values":[1,"original",0,1,false],"serialize_values":[null,null,null,null,null]},{"id":3,"type":"IPAdapterModelLoader","pos":[188,-102],"size":[400.60733642578134,69.3619262695313],"flags":{"collapsed":false},"order":4,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[17],"shape":3,"slot_index":0,"label":"IPADAPTER"}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter_sdxl.bin"],"serialize_values":[null]},{"id":11,"type":"VAEDecode","pos":[259,-313],"size":{"0":140,"1":50},"flags":{"collapsed":false},"order":17,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":11,"label":"samples"},{"name":"vae","type":"VAE","link":35,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[86],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":10,"type":"EmptyLatentImage","pos":[-65,-364],"size":{"0":256.7896423339844,"1":106.14679718017578},"flags":{"collapsed":true},"order":5,"mode":0,"outputs":[{"name":"LATENT","type":"LATENT","links":[10],"shape":3,"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[768,1024,1],"serialize_values":[null,null,null]},{"id":16,"type":"ReActorFaceSwap","pos":[659,-105],"size":{"0":315,"1":338},"flags":{"collapsed":false},"order":19,"mode":0,"inputs":[{"name":"source_image","type":"IMAGE","link":84,"label":"source_image"},{"name":"input_image","type":"IMAGE","link":87,"label":"input_image"},{"name":"face_model","type":"FACE_MODEL","link":null,"label":"face_model"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[88],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"FACE_MODEL","type":"FACE_MODEL","links":null,"shape":3,"label":"FACE_MODEL"}],"properties":{"Node name for S&R":"ReActorFaceSwap"},"widgets_values":[true,"inswapper_128.onnx","retinaface_resnet50","GFPGANv1.4.pth",0.1,0.1,"no","no",1,"0",1],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null]},{"id":6,"type":"LoadImage","pos":[-475.31646416015576,17.42578217773438],"size":{"0":284.8730773925781,"1":315.063720703125},"flags":{},"order":6,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[92],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"title":"Pose Image","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/e8ac8b61bdc1b8bace196be5b3817e356e0d75a2.png@1536w_1536h_0e","image"],"serialize_values":[null,null]},{"id":21,"type":"ControlNetLoader","pos":[616,283],"size":{"0":463.74212646484375,"1":63.03547286987305},"flags":{"collapsed":false},"order":7,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[40],"shape":3,"slot_index":0,"label":"CONTROL_NET"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["thibaud_xl_openpose.safetensors"],"serialize_values":[null]},{"id":31,"type":"UpscaleModelLoader","pos":[-52,130],"size":{"0":315,"1":58},"flags":{"collapsed":false},"order":8,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[76],"shape":3,"slot_index":0,"label":"UPSCALE_MODEL"}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["1x_NoiseToner-Uniform-Detailed_100000_G.pth"],"serialize_values":[null]},{"id":27,"type":"LoadImage","pos":[-728,-30],"size":{"0":210,"1":314},"flags":{},"order":9,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[65],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"title":"Background Style Image","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/52e831cd090bc5534b4744d148c81b1c1a6e74d0.jpg","image"],"serialize_values":[null,null]},{"id":7,"type":"CLIPTextEncode","pos":[896,-454],"size":{"0":356.18975830078125,"1":161.94737243652344},"flags":{},"order":10,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":81,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[60,79],"shape":3,"slot_index":0,"label":"CONDITIONING"}],"title":"Positive Text Prompt","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["A beautiful woman wearing a wedding dress, red hair, makeup, holding a huge bouquet of flowers, The background is the interior of a old cathedral, "],"color":"#232","bgcolor":"#353","serialize_values":["A beautiful woman wearing a wedding dress, red hair, makeup, holding a huge bouquet of flowers, The background is the interior of a old cathedral, "]}],"links":[[9,8,0,9,2,"CONDITIONING"],[10,10,0,9,3,"LATENT"],[11,9,0,11,0,"LATENT"],[16,4,0,14,0,"CLIP_VISION"],[17,3,0,13,0,"IPADAPTER"],[18,14,0,13,1,"EMBEDS"],[21,15,0,14,1,"IMAGE"],[35,1,2,11,1,"VAE"],[40,21,0,22,1,"CONTROL_NET"],[60,7,0,22,0,"CONDITIONING"],[65,27,0,14,2,"IMAGE"],[68,1,0,13,2,"MODEL"],[69,13,0,9,0,"MODEL"],[76,31,0,30,5,"UPSCALE_MODEL"],[77,22,0,9,1,"CONDITIONING"],[78,1,0,30,1,"MODEL"],[79,7,0,30,2,"CONDITIONING"],[80,8,0,30,3,"CONDITIONING"],[81,1,1,7,0,"CLIP"],[82,1,1,8,0,"CLIP"],[83,1,2,30,4,"VAE"],[84,15,0,16,0,"IMAGE"],[86,11,0,30,0,"IMAGE"],[87,30,0,16,1,"IMAGE"],[88,16,0,12,0,"IMAGE"],[90,32,0,22,2,"IMAGE"],[92,6,0,32,0,"IMAGE"]],"groups":[{"title":"Processing","bounding":[-89,-474,1505,832],"color":"#3f789e","font_size":24,"locked":false},{"title":"Inputs","bounding":[-750,-477,633,823],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}