{"last_node_id":746,"last_link_id":1508,"nodes":[{"id":390,"type":"IPAdapterModelLoader","pos":[-3760.6336283520295,-422.24253230659775],"size":{"0":326.5779724121094,"1":64.09342956542969},"flags":{"pinned":true},"order":0,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[799],"shape":3,"label":"IPADAPTER","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-plus_sd15.safetensors"],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":382,"type":"InsightFaceLoader","pos":[-3760.6336283520295,-232.24253230659764],"size":{"0":429.7408752441406,"1":61.50261306762695},"flags":{"pinned":true},"order":1,"mode":0,"outputs":[{"name":"INSIGHTFACE","type":"INSIGHTFACE","links":[792],"shape":3,"slot_index":0,"label":"INSIGHTFACE"}],"properties":{"Node name for S&R":"InsightFaceLoader"},"widgets_values":["CUDA"],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":300,"type":"CR Load LoRA","pos":[-241.04443901909843,-1239.975631781685],"size":{"0":290.1772155761719,"1":170},"flags":{"pinned":true},"order":63,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":595,"label":"model"},{"name":"clip","type":"CLIP","link":596,"label":"clip"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[597],"shape":3,"label":"MODEL","slot_index":0},{"name":"CLIP","type":"CLIP","links":[598],"shape":3,"label":"CLIP","slot_index":1},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR Load LoRA"},"widgets_values":["Off","None",0.8,1],"color":"#222","bgcolor":"#000","serialize_values":[null,null,null,null]},{"id":16,"type":"CheckpointLoaderSimple","pos":[-849.044439019099,-1236.975631781685],"size":{"0":330.0092468261719,"1":169.9014892578125},"flags":{"pinned":true},"order":2,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[590],"slot_index":0,"label":"MODEL"},{"name":"CLIP","type":"CLIP","links":[591],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[611,612,618,619,677,708,967,1377,1378,1380],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["majicMIX realistic 麦橘写实_v6.safetensors"],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":299,"type":"CR Load LoRA","pos":[-506.0444390190987,-1239.975631781685],"size":{"0":258.1592102050781,"1":170},"flags":{"pinned":true},"order":54,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":590,"label":"model"},{"name":"clip","type":"CLIP","link":591,"label":"clip"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[595],"shape":3,"label":"MODEL","slot_index":0},{"name":"CLIP","type":"CLIP","links":[596],"shape":3,"label":"CLIP","slot_index":1},{"name":"show_help","type":"STRING","links":[],"shape":3,"slot_index":2,"label":"show_help"}],"properties":{"Node name for S&R":"CR Load LoRA"},"widgets_values":["Off","None",1,1],"color":"#222","bgcolor":"#000","serialize_values":[null,null,null,null]},{"id":301,"type":"CR Load LoRA","pos":[298.2886908637139,-1185.4197778320315],"size":{"0":289.2215576171875,"1":170},"flags":{"pinned":true},"order":67,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":597,"label":"model"},{"name":"clip","type":"CLIP","link":598,"label":"clip"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[805,955,958,1506],"shape":3,"label":"MODEL","slot_index":0},{"name":"CLIP","type":"CLIP","links":[600,601,1507],"shape":3,"label":"CLIP","slot_index":1},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR Load LoRA"},"widgets_values":["Off","None",1,1],"color":"#222","bgcolor":"#000","serialize_values":[null,null,null,null]},{"id":348,"type":"SaveImage","pos":[55.06646864149183,-478.30866672092026],"size":{"0":587.7696533203125,"1":430.88232421875},"flags":{"pinned":true},"order":104,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":699,"label":"images"}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"],"color":"#232","bgcolor":"#353","serialize_values":["ComfyUI"]},{"id":347,"type":"SaveImage","pos":[-853.044439019099,-586.9756317816842],"size":{"0":605.923095703125,"1":434.7952880859375},"flags":{"pinned":true},"order":103,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":698,"label":"images"}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"],"color":"#323","bgcolor":"#535","serialize_values":["ComfyUI"]},{"id":401,"type":"KSampler Config (rgthree)","pos":[-1184.0444390190983,-592.9756317816842],"size":{"0":315,"1":234},"flags":{"pinned":true},"order":3,"mode":0,"outputs":[{"name":"STEPS","type":"FLOAT,INT,NUMBER,STRING","links":[894,899,902,906],"shape":3,"label":"STEPS","slot_index":0},{"name":"REFINER_STEP","type":"FLOAT,INT,NUMBER,STRING","links":null,"shape":3,"label":"REFINER_STEP"},{"name":"CFG","type":"FLOAT,INT,NUMBER,STRING","links":[895,898,903,907],"shape":3,"label":"CFG","slot_index":2},{"name":"SAMPLER","type":"COMBO","links":[896,900,904,908],"shape":3,"slot_index":3,"label":"SAMPLER"},{"name":"SCHEDULER","type":"COMBO","links":[897,901,905,909],"shape":3,"slot_index":4,"label":"SCHEDULER"}],"properties":{"Node name for S&R":"KSampler Config (rgthree)"},"widgets_values":[30,24,8,"euler","normal"],"color":"#223","bgcolor":"#335","serialize_values":[null,null,null,null,null]},{"id":465,"type":"Note","pos":[-1185.0444390190983,-980.9756317816843],"size":{"0":313.9810791015625,"1":58},"flags":{"pinned":false},"order":4,"mode":0,"properties":{"text":""},"widgets_values":["↓全局正向提示词输入位置，只需输入需要的元素，无需输入质量提示词"],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":463,"type":"Note","pos":[-1184.0444390190983,-1267.975631781685],"size":{"0":313.9810791015625,"1":58},"flags":{"pinned":true},"order":5,"mode":0,"properties":{"text":""},"widgets_values":["↓自动根据设置的最大宽度，最大高度调整生成图像大小"],"color":"#432","bgcolor":"#653","serialize_values":[null]},{"id":483,"type":"Note","pos":[-3371.6336283520263,-41.24253230659665],"size":{"0":210,"1":58},"flags":{"pinned":true},"order":6,"mode":0,"properties":{"text":""},"widgets_values":["存放路径ComfyUI\\models\\controlnet"],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":480,"type":"Note","pos":[-3325.633628352024,-231.24253230659764],"size":{"0":210,"1":58},"flags":{"pinned":true},"order":7,"mode":0,"properties":{"text":""},"widgets_values":["存放路径ComfyUI\\models\\insightface"],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":479,"type":"Note","pos":[-3326.633628352024,-325.2425323065972],"size":{"0":210,"1":58},"flags":{"pinned":true},"order":8,"mode":0,"properties":{"text":""},"widgets_values":["存放路径ComfyUI\\models\\clip_vision"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":478,"type":"Note","pos":[-3428.6336283520295,-421.2425323065973],"size":{"0":210,"1":58},"flags":{"pinned":true},"order":9,"mode":0,"properties":{"text":""},"widgets_values":["存放路径ComfyUI\\models\\ipadapter"],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":477,"type":"Note","pos":[-3429.6336283520295,-522.2425323065993],"size":{"0":210.6843719482422,"1":61.1695442199707},"flags":{"pinned":true},"order":10,"mode":0,"properties":{"text":""},"widgets_values":["存放路径ComfyUI\\models\\ipadapter"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":41,"type":"SetLatentNoiseMask","pos":[-3748.617865586826,379.55961647643744],"size":{"0":210,"1":46},"flags":{"collapsed":true,"pinned":true},"order":77,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":63,"label":"samples"},{"name":"mask","type":"MASK","link":726,"label":"mask"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[930,935],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"SetLatentNoiseMask"}},{"id":40,"type":"VAEEncode","pos":[-3748.617865586826,339.5596164764376],"size":{"0":210,"1":46},"flags":{"collapsed":true,"pinned":true},"order":64,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":743,"label":"pixels"},{"name":"vae","type":"VAE","link":612,"label":"vae"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[63],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":24,"type":"VAEEncodeForInpaint","pos":[-3748.617865586826,309.5596164764378],"size":{"0":315,"1":98},"flags":{"collapsed":true,"pinned":true},"order":76,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":742,"label":"pixels"},{"name":"vae","type":"VAE","link":611,"label":"vae","slot_index":1},{"name":"mask","type":"MASK","link":725,"label":"mask","slot_index":2}],"outputs":[{"name":"LATENT","type":"LATENT","links":[929,938],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"VAEEncodeForInpaint"},"widgets_values":[20],"serialize_values":[null]},{"id":331,"type":"ControlNetLoader","pos":[-3757.6336283520295,-44.24253230659671],"size":{"0":380.9180603027344,"1":58},"flags":{"collapsed":false,"pinned":false},"order":11,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[667],"shape":3,"label":"CONTROL_NET","slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["1.5\\control_v11p_sd15_openpose.pth"],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":326,"type":"ControlNetLoader","pos":[-3760.6336283520295,-135.2425323065971],"size":{"0":382.07550048828125,"1":58},"flags":{"collapsed":false,"pinned":true},"order":12,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[659],"shape":3,"label":"CONTROL_NET","slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["1.5\\control_v11p_sd15_inpaint.pth"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":222,"type":"KSampler","pos":[-4958.732654818255,312.36280621951283],"size":{"0":315,"1":442},"flags":{"collapsed":true,"pinned":true},"order":93,"mode":2,"inputs":[{"name":"model","type":"MODEL","link":818,"label":"model"},{"name":"positive","type":"CONDITIONING","link":926,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":927,"label":"negative"},{"name":"latent_image","type":"LATENT","link":929,"label":"latent_image","slot_index":3},{"name":"seed","type":"INT","link":418,"widget":{"name":"seed"},"label":"seed"},{"name":"denoise","type":"FLOAT","link":421,"widget":{"name":"denoise"},"label":"denoise"},{"name":"sampler_name","type":"COMBO","link":900,"widget":{"name":"sampler_name"},"label":"sampler_name"},{"name":"scheduler","type":"COMBO","link":901,"widget":{"name":"scheduler"},"label":"scheduler"},{"name":"steps","type":"INT","link":899,"widget":{"name":"steps"},"label":"steps"},{"name":"cfg","type":"FLOAT","link":898,"widget":{"name":"cfg"},"label":"cfg"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[410],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[99999,"randomize",28,8,"dpmpp_sde","karras",1],"color":"#432","bgcolor":"#653","serialize_values":[null,null,null,null,"dpmpp_sde","karras",null]},{"id":339,"type":"KSampler","pos":[-4307.652613970952,487.71089956169544],"size":{"0":307.55633544921875,"1":440.14263916015625},"flags":{"collapsed":true,"pinned":true},"order":96,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":821,"label":"model"},{"name":"positive","type":"CONDITIONING","link":936,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":937,"label":"negative"},{"name":"latent_image","type":"LATENT","link":935,"label":"latent_image"},{"name":"seed","type":"INT","link":682,"widget":{"name":"seed"},"label":"seed"},{"name":"denoise","type":"FLOAT","link":683,"widget":{"name":"denoise"},"label":"denoise","slot_index":5},{"name":"scheduler","type":"COMBO","link":909,"widget":{"name":"scheduler"},"label":"scheduler"},{"name":"sampler_name","type":"COMBO","link":908,"widget":{"name":"sampler_name"},"label":"sampler_name"},{"name":"cfg","type":"FLOAT","link":907,"widget":{"name":"cfg"},"label":"cfg"},{"name":"steps","type":"INT","link":906,"widget":{"name":"steps"},"label":"steps"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[676],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[99999,"randomize",20,8,"dpmpp_sde","karras",1],"color":"#232","bgcolor":"#353","serialize_values":[null,null,null,null,"dpmpp_sde","karras",null]},{"id":412,"type":"PrepImageForClipVision","pos":[-4281.027603725948,671.4443716396755],"size":{"0":315,"1":106},"flags":{"collapsed":true,"pinned":true},"order":55,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":826,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[827],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","top",0],"serialize_values":[null,null,null]},{"id":226,"type":"PrimitiveNode","pos":[-1181.0444390190983,-232.97563178168375],"size":{"0":210,"1":82},"flags":{"pinned":true},"order":13,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[420,421,683,713],"widget":{"name":"denoise"},"slot_index":0,"label":"FLOAT"}],"properties":{"Run widget replace on values":false},"widgets_values":[1,"fixed"],"color":"#232","bgcolor":"#353","serialize_values":[null,null]},{"id":225,"type":"PrimitiveNode","pos":[-1182.0444390190983,-25.975631781684008],"size":{"0":210,"1":82},"flags":{"pinned":true},"order":14,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[418,419,682,712],"widget":{"name":"seed"},"slot_index":0,"label":"INT"}],"properties":{"Run widget replace on values":false},"widgets_values":[99999,"fixed"],"color":"#223","bgcolor":"#335","serialize_values":[null,null]},{"id":467,"type":"Note","pos":[-1182.0444390190983,-116.97563178168363],"size":{"0":313.9810791015625,"1":58},"flags":{"pinned":true},"order":15,"mode":0,"properties":{"text":""},"widgets_values":["↓随机种子数：可选择固定，增加，减少，随机或手动输入"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":368,"type":"IPAdapterModelLoader","pos":[-3761.6336283520295,-518.2425323065992],"size":{"0":327.75152587890625,"1":60.52317810058594},"flags":{"pinned":false},"order":16,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[767],"shape":3,"label":"IPADAPTER","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-faceid_sd15.bin"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":389,"type":"IPAdapterApply","pos":[-4112.666341145835,674.4443901909721],"size":{"0":308.8401794433594,"1":274},"flags":{"collapsed":true,"pinned":false},"order":89,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":799,"label":"ipadapter","slot_index":0},{"name":"clip_vision","type":"CLIP_VISION","link":944,"label":"clip_vision","slot_index":1},{"name":"image","type":"IMAGE","link":827,"label":"image","slot_index":2},{"name":"model","type":"MODEL","link":805,"label":"model"},{"name":"attn_mask","type":"MASK","link":845,"label":"attn_mask"},{"name":"insightface","type":"INSIGHTFACE","link":null,"slot_index":5,"label":"insightface"},{"name":"weight","type":"FLOAT","link":942,"widget":{"name":"weight"},"label":"weight","slot_index":6}],"outputs":[{"name":"MODEL","type":"MODEL","links":[857],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterApply"},"widgets_values":[0.8,1,"original",0,1,false],"serialize_values":[null,null,null,null,null,null]},{"id":452,"type":"PrimitiveNode","pos":[-853.044439019099,-20.975631781684008],"size":{"0":210,"1":82},"flags":{"pinned":true},"order":17,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[942,943],"widget":{"name":"weight"},"label":"FLOAT"}],"properties":{"Run widget replace on values":false},"widgets_values":[0.8,"fixed"],"color":"#232","bgcolor":"#353","serialize_values":[null,null]},{"id":470,"type":"Note","pos":[-529.0444390190984,-113.97563178168362],"size":{"0":313.9810791015625,"1":58},"flags":{"pinned":true},"order":18,"mode":0,"properties":{"text":""},"widgets_values":["↓inpaint权重：建议0.5-1（一般情况默认即可）"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":230,"type":"PrimitiveNode","pos":[-525.0444390190986,-17.975631781684022],"size":{"0":210,"1":82},"flags":{"pinned":true},"order":19,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[718],"widget":{"name":"strength"},"slot_index":0,"label":"FLOAT"}],"properties":{"Run widget replace on values":false},"widgets_values":[1,"fixed"],"color":"#223","bgcolor":"#335","serialize_values":[null,null]},{"id":321,"type":"PrimitiveNode","pos":[-197.0444390190985,-18.975631781684022],"size":{"0":210,"1":82},"flags":{"pinned":true},"order":20,"mode":0,"outputs":[{"name":"FLOAT","type":"FLOAT","links":[714],"widget":{"name":"strength"},"slot_index":0,"label":"FLOAT"}],"properties":{"Run widget replace on values":false},"widgets_values":[1,"fixed"],"color":"#232","bgcolor":"#353","serialize_values":[null,null]},{"id":224,"type":"KSampler","pos":[-4376.778537326387,327.333292643229],"size":{"0":315,"1":442.0000305175781},"flags":{"collapsed":true,"pinned":true},"order":94,"mode":2,"inputs":[{"name":"model","type":"MODEL","link":819,"label":"model"},{"name":"positive","type":"CONDITIONING","link":933,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":934,"label":"negative"},{"name":"latent_image","type":"LATENT","link":930,"label":"latent_image"},{"name":"seed","type":"INT","link":419,"widget":{"name":"seed"},"label":"seed"},{"name":"denoise","type":"FLOAT","link":420,"widget":{"name":"denoise"},"label":"denoise","slot_index":5},{"name":"sampler_name","type":"COMBO","link":896,"widget":{"name":"sampler_name"},"label":"sampler_name","slot_index":6},{"name":"scheduler","type":"COMBO","link":897,"widget":{"name":"scheduler"},"label":"scheduler","slot_index":7},{"name":"steps","type":"INT","link":894,"widget":{"name":"steps"},"label":"steps"},{"name":"cfg","type":"FLOAT","link":895,"widget":{"name":"cfg"},"label":"cfg"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[413],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[99999,"randomize",28,8,"dpmpp_sde","karras",1],"color":"#233","bgcolor":"#355","serialize_values":[null,null,null,null,"dpmpp_sde","karras",null]},{"id":360,"type":"ConstrainImage|pysssss","pos":[-1184.0444390190983,-1177.975631781685],"size":{"0":317.3768615722656,"1":162.80447387695312},"flags":{"pinned":false},"order":58,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":741,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[742,743],"shape":6,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"ConstrainImage|pysssss"},"widgets_values":[768,768,0,0,"no"],"color":"#432","bgcolor":"#653","serialize_values":[null,null,null,null,null]},{"id":385,"type":"Any Switch (rgthree)","pos":[-3748.617865586826,279.5596164764383],"size":{"0":193.0262451171875,"1":106},"flags":{"pinned":true,"collapsed":true},"order":92,"mode":0,"inputs":[{"name":"any_01","type":"MODEL","link":858,"label":"any_01","dir":3},{"name":"any_02","type":"MODEL","link":857,"label":"any_02","dir":3},{"name":"any_03","type":"MODEL","link":958,"label":"any_03","dir":3},{"name":"any_04","type":"MODEL","link":null,"label":"any_04","dir":3},{"name":"any_05","type":"MODEL","link":null,"label":"any_05","dir":3}],"outputs":[{"name":"*","type":"MODEL","links":[818,819,820,821],"shape":3,"label":"MODEL","dir":4,"slot_index":0}],"properties":{"Node name for S&R":"Any Switch (rgthree)"}},{"id":21,"type":"BNK_CLIPTextEncodeAdvanced","pos":[-3748.617865586826,409.55961647643716],"size":{"0":400,"1":200},"flags":{"pinned":true,"collapsed":true},"order":70,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":600,"label":"clip","slot_index":0},{"name":"text","type":"STRING","link":559,"widget":{"name":"text"},"label":"text","slot_index":1}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[920],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"BNK_CLIPTextEncodeAdvanced"},"widgets_values":["A girl with a red hat","none","A1111"],"serialize_values":["A girl with a red hat",null,null]},{"id":466,"type":"Note","pos":[-1183.0444390190983,-323.9756317816837],"size":{"0":313.9810791015625,"1":58},"flags":{"pinned":true},"order":21,"mode":0,"properties":{"text":""},"widgets_values":["↓降噪幅度：建议使用0.8-1"],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":329,"type":"KSampler","pos":[-4983.220486111113,479.66661580403644],"size":{"0":315,"1":442},"flags":{"collapsed":true,"pinned":true},"order":95,"mode":2,"inputs":[{"name":"model","type":"MODEL","link":820,"label":"model"},{"name":"positive","type":"CONDITIONING","link":662,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":663,"label":"negative"},{"name":"latent_image","type":"LATENT","link":938,"label":"latent_image","slot_index":3},{"name":"seed","type":"INT","link":712,"widget":{"name":"seed"},"label":"seed","slot_index":4},{"name":"denoise","type":"FLOAT","link":713,"widget":{"name":"denoise"},"label":"denoise"},{"name":"sampler_name","type":"COMBO","link":904,"widget":{"name":"sampler_name"},"label":"sampler_name"},{"name":"scheduler","type":"COMBO","link":905,"widget":{"name":"scheduler"},"label":"scheduler"},{"name":"cfg","type":"FLOAT","link":903,"widget":{"name":"cfg"},"label":"cfg"},{"name":"steps","type":"INT","link":902,"widget":{"name":"steps"},"label":"steps"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[661],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[99999,"randomize",28,8,"dpmpp_sde","karras",1],"color":"#323","bgcolor":"#535","serialize_values":[null,null,null,null,"dpmpp_sde","karras",null]},{"id":586,"type":"InvertMask","pos":[-4666.353087389036,1100.1089499318248],"size":{"0":210,"1":26},"flags":{"collapsed":true,"pinned":true},"order":82,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1393,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[1158],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"InvertMask"}},{"id":667,"type":"ImpactImageInfo","pos":[-4656.353087389036,1020.1089499318248],"size":{"0":210,"1":86},"flags":{"collapsed":true,"pinned":true},"order":110,"mode":0,"inputs":[{"name":"value","type":"IMAGE","link":1329,"label":"value","slot_index":0}],"outputs":[{"name":"batch","type":"FLOAT,INT,NUMBER,STRING","links":null,"shape":3,"label":"batch"},{"name":"height","type":"FLOAT,INT,NUMBER,STRING","links":[1344],"shape":3,"label":"height","slot_index":1},{"name":"width","type":"FLOAT,INT,NUMBER,STRING","links":[1345],"shape":3,"label":"width","slot_index":2},{"name":"channel","type":"FLOAT,INT,NUMBER,STRING","links":null,"shape":3,"label":"channel"}],"properties":{"Node name for S&R":"ImpactImageInfo"}},{"id":288,"type":"StringFunction|pysssss","pos":[-3748.617865586826,449.55961647643716],"size":{"0":400,"1":244},"flags":{"pinned":true,"collapsed":true},"order":62,"mode":0,"inputs":[{"name":"text_a","type":"STRING","link":558,"widget":{"name":"text_a"},"label":"text_a"},{"name":"text_c","type":"STRING","link":null,"widget":{"name":"text_c"},"label":"text_c"}],"outputs":[{"name":"STRING","type":"STRING","links":[559],"shape":3,"label":"STRING","slot_index":0}],"properties":{"Node name for S&R":"StringFunction|pysssss"},"widgets_values":["append","yes","","(((masterpiece))),(((best quality))),((ultra-detailed))",""],"serialize_values":[null,null,"","(((masterpiece))),(((best quality))),((ultra-detailed))",null]},{"id":555,"type":"SetLatentNoiseMask","pos":[-4364.327792655015,1062.1833469800913],"size":{"0":210,"1":46},"flags":{"collapsed":true,"pinned":true},"order":117,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":1077,"label":"samples"},{"name":"mask","type":"MASK","link":1154,"label":"mask"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1371],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"SetLatentNoiseMask"}},{"id":678,"type":"VAEDecode","pos":[-4542.327792655018,945.1833469800912],"size":{"0":210,"1":46},"flags":{"collapsed":true,"pinned":true},"order":119,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":1373,"label":"samples"},{"name":"vae","type":"VAE","link":1378,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1375,1379,1384],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":680,"type":"ImageBlend","pos":[-4301.32779265501,947.1833469800912],"size":{"0":315,"1":102},"flags":{"collapsed":true,"pinned":true},"order":124,"mode":0,"inputs":[{"name":"image1","type":"IMAGE","link":1384,"label":"image1"},{"name":"image2","type":"IMAGE","link":1385,"label":"image2"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1397],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"ImageBlend"},"widgets_values":[0.5,"normal"],"serialize_values":[null,null]},{"id":501,"type":"StringFunction|pysssss","pos":[-4362.3277926550145,1100.1833469800913],"size":{"0":400,"1":274},"flags":{"collapsed":true,"pinned":true},"order":109,"mode":0,"inputs":[{"name":"text_a","type":"STRING","link":972,"widget":{"name":"text_a"},"label":"text_a"}],"outputs":[{"name":"STRING","type":"STRING","links":[973],"shape":3,"label":"STRING","slot_index":0}],"properties":{"Node name for S&R":"StringFunction|pysssss"},"widgets_values":["append","yes","","(((masterpiece))),(((best quality))),((ultra-detailed))",""],"serialize_values":[null,null,"","(((masterpiece))),(((best quality))),((ultra-detailed))",""]},{"id":671,"type":"VAEDecode","pos":[-4181.32779265501,946.1833469800912],"size":{"0":210,"1":46},"flags":{"collapsed":true,"pinned":true},"order":123,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":1383,"label":"samples"},{"name":"vae","type":"VAE","link":1377,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1385,1398],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":692,"type":"ControlNetLoader","pos":[-3756.617865586826,49.55961647643937],"size":{"0":382.4920654296875,"1":69.208251953125},"flags":{},"order":22,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[1423],"shape":3,"label":"CONTROL_NET"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["1.5\\control_v11f1p_sd15_depth.pth"],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":481,"type":"LoraLoaderModelOnly","pos":[-3752.617865586826,155.5596164764383],"size":{"0":315,"1":82},"flags":{"collapsed":false,"pinned":false},"order":69,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":955,"label":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[956],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"LoraLoaderModelOnly"},"widgets_values":["ip-adapter-faceid_sd15_lora.safetensors",1],"color":"#223","bgcolor":"#335","serialize_values":[null,null]},{"id":698,"type":"Note","pos":[-3369.617865586823,49.55961647643937],"size":{"0":210,"1":69.44483947753906},"flags":{"pinned":false},"order":23,"mode":0,"properties":{"text":""},"widgets_values":["存放路径ComfyUI\\models\\controlnet"],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":485,"type":"Note","pos":[-3429.617865586826,154.5596164764383],"size":{"0":210,"1":80.85636138916016},"flags":{"pinned":false},"order":24,"mode":0,"properties":{"text":""},"widgets_values":["存放路径ComfyUI\\models\\loras"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":665,"type":"BNK_TiledKSampler","pos":[-4222.782299269002,1101.001373436057],"size":{"0":315,"1":546},"flags":{"collapsed":true,"pinned":true},"order":122,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1418,"label":"model"},{"name":"positive","type":"CONDITIONING","link":1432,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":1433,"label":"negative"},{"name":"latent_image","type":"LATENT","link":1382,"label":"latent_image"},{"name":"seed","type":"INT","link":1403,"widget":{"name":"seed"},"label":"seed"},{"name":"steps","type":"INT","link":1399,"widget":{"name":"steps"},"label":"steps"},{"name":"cfg","type":"FLOAT","link":1400,"widget":{"name":"cfg"},"label":"cfg"},{"name":"sampler_name","type":"COMBO","link":1401,"widget":{"name":"sampler_name"},"label":"sampler_name"},{"name":"scheduler","type":"COMBO","link":1402,"widget":{"name":"scheduler"},"label":"scheduler"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1383],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"BNK_TiledKSampler"},"widgets_values":[6,"fixed",512,512,"random",28,8,"dpmpp_2m","karras",0.3],"serialize_values":[null,null,null,null,null,null,null,"dpmpp_2m","karras",null]},{"id":135,"type":"SaveImage","pos":[54.06646864149183,-914.3086667209203],"size":{"0":591.2471313476562,"1":391.8573303222656},"flags":{"pinned":true},"order":102,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":386,"label":"images"}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"],"color":"#233","bgcolor":"#355","serialize_values":["ComfyUI"]},{"id":682,"type":"SaveImage","pos":[630.658554399643,-364.4294533393683],"size":{"0":534.8118286132812,"1":391.6291198730469},"flags":{"pinned":true},"order":126,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1397,"label":"images"}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"],"serialize_values":["ComfyUI"]},{"id":683,"type":"SaveImage","pos":[630.658554399643,65.57054666063121],"size":{"0":538.1339111328125,"1":387.07421875},"flags":{"pinned":true},"order":125,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1398,"label":"images"}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"],"serialize_values":["ComfyUI"]},{"id":679,"type":"VAEEncode","pos":[-4417.000488281253,945.1108534071183],"size":{"0":210,"1":46},"flags":{"collapsed":true,"pinned":true},"order":121,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":1379,"label":"pixels"},{"name":"vae","type":"VAE","link":1380,"label":"vae"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1382],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":488,"type":"UpscaleModelLoader","pos":[214.88007132672658,-936.9851716553414],"size":{"0":315,"1":58},"flags":{"collapsed":false,"pinned":true},"order":25,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[959],"shape":3,"label":"UPSCALE_MODEL"}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["4x-UltraSharp.pth"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":508,"type":"SaveImage","pos":[630.658554399643,-794.4294533393678],"size":{"0":534.7340087890625,"1":390.2129211425781},"flags":{"pinned":true},"order":120,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1375,"label":"images"}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"],"serialize_values":["ComfyUI"]},{"id":154,"type":"SaveImage","pos":[-853.044439019099,-1020.9756317816846],"size":{"0":602.9071655273438,"1":393.54083251953125},"flags":{"pinned":true},"order":101,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":381,"label":"images"}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"],"color":"#432","bgcolor":"#653","serialize_values":["ComfyUI"]},{"id":721,"type":"PreviewImage","pos":[-2178.6663411458326,-303.77780490451397],"size":{"0":323.8353271484375,"1":313.5816650390625},"flags":{"pinned":true},"order":90,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1479,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#223","bgcolor":"#335"},{"id":409,"type":"LoadImage","pos":[-1849.6663411458335,-303.77780490451397],"size":{"0":407.4619140625,"1":314},"flags":{"pinned":true},"order":26,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[826],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["其它参考图上传区.png","image"],"color":"#432","bgcolor":"#653","serialize_values":[null,null]},{"id":462,"type":"Note","pos":[-1848.6663411458335,-394.777804904514],"size":{"0":210,"1":58},"flags":{"pinned":true},"order":27,"mode":0,"properties":{"text":""},"widgets_values":["↓其它图像参考输入位置"],"color":"#432","bgcolor":"#653","serialize_values":[null]},{"id":369,"type":"LoadImage","pos":[-1849.6663411458335,-741.7778049045133],"size":{"0":400.7165222167969,"1":314},"flags":{"pinned":true},"order":28,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[785],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["人像参考图输入区.png","image"],"color":"#232","bgcolor":"#353","serialize_values":[null,null]},{"id":461,"type":"Note","pos":[-1852.6663411458335,-833.7778049045133],"size":{"0":210,"1":58},"flags":{"pinned":true},"order":29,"mode":0,"properties":{"text":""},"widgets_values":["↓人像参考图输入位置\n"],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":144,"type":"LoadImage","pos":[-2186.6663411458326,-744.7778049045133],"size":{"0":321.6714172363281,"1":317.6966857910156},"flags":{"pinned":true},"order":30,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[716,719,741,1234,1450,1476],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":[],"shape":3,"label":"MASK","slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["原图上传区.png","image"],"color":"#222","bgcolor":"#000","serialize_values":[null,null]},{"id":473,"type":"Note","pos":[-2186.6663411458326,-834.7778049045133],"size":{"0":210,"1":58},"flags":{"pinned":true},"order":31,"mode":0,"properties":{"text":""},"widgets_values":["上传原图"],"color":"#222","bgcolor":"#000","serialize_values":[null]},{"id":724,"type":"Note","pos":[-2183.6663411458326,-394.777804904514],"size":{"0":210,"1":58},"flags":{"pinned":true},"order":32,"mode":0,"properties":{"text":""},"widgets_values":["重绘预览"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":712,"type":"LoadImage","pos":[-2843.6663411458326,-738.7778049045133],"size":{"0":320.0937805175781,"1":316.7555847167969},"flags":{"pinned":true},"order":33,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":[1468],"shape":3,"label":"MASK","slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["手涂遮罩区.png","image"],"color":"#222","bgcolor":"#000","serialize_values":[null,null]},{"id":718,"type":"Note","pos":[-2843.6663411458326,-388.777804904514],"size":{"0":210,"1":58},"flags":{"pinned":true},"order":34,"mode":0,"properties":{"text":""},"widgets_values":["↓上传蒙版"],"color":"#432","bgcolor":"#653","serialize_values":[null]},{"id":311,"type":"LoadImageMask","pos":[-2843.6663411458326,-298.77780490451397],"size":{"0":315,"1":318},"flags":{"pinned":true},"order":35,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[1465],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"LoadImageMask"},"widgets_values":["遮罩上传区.png","red","image"],"color":"#432","bgcolor":"#653","serialize_values":[null,null,null]},{"id":702,"type":"SAMLoader","pos":[-3763.5556098090283,-740.8891465928817],"size":{"0":315,"1":82},"flags":{"collapsed":false,"pinned":true},"order":36,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[1441],"shape":3,"label":"SAM_MODEL"}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_l_0b3195.pth","Prefer GPU"],"serialize_values":[null,null]},{"id":703,"type":"GroundingDinoModelLoader (segment anything)","pos":[-3761.5556098090283,-617.8891465928818],"size":{"0":361.20001220703125,"1":58},"flags":{"collapsed":false,"pinned":true},"order":37,"mode":0,"outputs":[{"name":"GROUNDING_DINO_MODEL","type":"GROUNDING_DINO_MODEL","links":[1442],"shape":3,"label":"GROUNDING_DINO_MODEL"}],"properties":{"Node name for S&R":"GroundingDinoModelLoader (segment anything)"},"widgets_values":["GroundingDINO_SwinB (938MB)"],"serialize_values":[null]},{"id":725,"type":"Note","pos":[-3442.5556098090274,-739.8891465928817],"size":{"0":224.5511474609375,"1":73.58704376220703},"flags":{"pinned":false},"order":38,"mode":0,"properties":{"text":""},"widgets_values":["存放路径ComfyUI\\models\\sams"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":726,"type":"Note","pos":[-3437.5556098090274,-620.8891465928818],"size":{"0":212.79458618164062,"1":58},"flags":{"pinned":false},"order":39,"mode":0,"properties":{"text":""},"widgets_values":["存放路径ComfyUI\\models\\grounding-dino"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":472,"type":"Note","pos":[-2843.6663411458326,-828.7778049045133],"size":{"0":210,"1":58},"flags":{"pinned":true},"order":40,"mode":0,"properties":{"text":""},"widgets_values":["↓手涂蒙版/先上传原图\n"],"color":"#222","bgcolor":"#000","serialize_values":[null]},{"id":722,"type":"Note","pos":[-2512.6663411458326,-834.7778049045133],"size":{"0":210,"1":58},"flags":{"pinned":true},"order":41,"mode":0,"properties":{"text":""},"widgets_values":["羽化蒙版，中间为不羽化\n"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":349,"type":"FeatheredMask","pos":[-2512.6663411458326,-740.7778049045133],"size":{"0":315,"1":82},"flags":{"pinned":true},"order":75,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1475,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[725,726,732,773,953,1392,1393,1478],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"FeatheredMask"},"widgets_values":[2,0.1],"color":"#223","bgcolor":"#335","serialize_values":[null,null]},{"id":723,"type":"Note","pos":[-2510.6663411458326,-622.7778049045133],"size":{"0":210,"1":58},"flags":{"pinned":true},"order":42,"mode":0,"properties":{"text":""},"widgets_values":["最终蒙版预览"],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":351,"type":"PreviewImage","pos":[-2511.6663411458326,-530.7778049045136],"size":{"0":316.07373046875,"1":306.0522155761719},"flags":{"pinned":true},"order":85,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":954,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"color":"#232","bgcolor":"#353"},{"id":720,"type":"ImageCompositeMasked","pos":[-3371.5556098090274,414.110853407118],"size":{"0":315,"1":146},"flags":{"collapsed":true,"pinned":true},"order":86,"mode":0,"inputs":[{"name":"destination","type":"IMAGE","link":1476,"label":"destination"},{"name":"source","type":"IMAGE","link":1477,"label":"source"},{"name":"mask","type":"MASK","link":1478,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1479],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"ImageCompositeMasked"},"widgets_values":[0,0,true],"serialize_values":[null,null,null]},{"id":706,"type":"Any Switch (rgthree)","pos":[-3388.5556098090274,382.11085340711793],"size":{"0":210,"1":106},"flags":{"collapsed":true,"pinned":true},"order":68,"mode":0,"inputs":[{"name":"any_01","type":"MASK","link":1469,"label":"any_01","dir":3},{"name":"any_02","type":"MASK","link":1484,"label":"any_02","dir":3},{"name":"any_03","type":"MASK","link":1463,"label":"any_03","dir":3},{"name":"any_04","type":"MASK","link":null,"label":"any_04","dir":3},{"name":"any_05","type":"MASK","link":null,"label":"any_05","dir":3}],"outputs":[{"name":"*","type":"MASK","links":[1457,1472],"shape":3,"label":"MASK","dir":4,"slot_index":0}],"properties":{"Node name for S&R":"Any Switch (rgthree)"}},{"id":460,"type":"MaskToImage","pos":[-3396.5556098090274,348.11085340711793],"size":{"0":210,"1":26},"flags":{"collapsed":true,"pinned":true},"order":80,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":953,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[954,1477],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":370,"type":"Convert Masks to Images","pos":[-3403.5556098090274,313.11085340711793],"size":{"0":210,"1":26},"flags":{"collapsed":true,"pinned":true},"order":79,"mode":0,"inputs":[{"name":"masks","type":"MASK","link":773,"label":"masks"}],"outputs":[{"name":"IMAGES","type":"IMAGE","links":[774],"shape":3,"label":"IMAGES","slot_index":0}],"properties":{"Node name for S&R":"Convert Masks to Images"}},{"id":371,"type":"ImageToMask","pos":[-3412.5556098090274,277.11085340711793],"size":{"0":315,"1":58},"flags":{"collapsed":true,"pinned":true},"order":84,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":774,"label":"image"}],"outputs":[{"name":"MASK","type":"MASK","links":[780,845],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"],"serialize_values":[null]},{"id":717,"type":"Any Switch (rgthree)","pos":[-3274.5556098090274,276.11085340711793],"size":{"0":210,"1":106},"flags":{"collapsed":true,"pinned":true},"order":74,"mode":0,"inputs":[{"name":"any_01","type":"MASK","link":1473,"label":"any_01","dir":3},{"name":"any_02","type":"MASK","link":1472,"label":"any_02","dir":3},{"name":"any_03","type":"MASK","link":null,"label":"any_03","dir":3},{"name":"any_04","type":"MASK","link":null,"label":"any_04","dir":3},{"name":"any_05","type":"MASK","link":null,"label":"any_05","dir":3}],"outputs":[{"name":"*","type":"MASK","links":[1475],"shape":3,"label":"MASK","dir":4,"slot_index":0}],"properties":{"Node name for S&R":"Any Switch (rgthree)"}},{"id":694,"type":"AIO_Preprocessor","pos":[-3553.555609809028,447.110853407118],"size":{"0":315,"1":82},"flags":{"collapsed":true,"pinned":false},"order":111,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1427,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1424],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"AIO_Preprocessor"},"widgets_values":["MiDaS-DepthMapPreprocessor",512],"serialize_values":[null,null]},{"id":332,"type":"ControlNetApplyAdvanced","pos":[-3550.555609809028,411.110853407118],"size":{"0":315,"1":166},"flags":{"collapsed":true,"pinned":true},"order":87,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":665,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","link":666,"label":"negative","slot_index":1},{"name":"control_net","type":"CONTROL_NET","link":667,"label":"control_net"},{"name":"image","type":"IMAGE","link":668,"label":"image"},{"name":"strength","type":"FLOAT","link":714,"widget":{"name":"strength"},"label":"strength","slot_index":4}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[662,936],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[663,937],"shape":3,"label":"negative","slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1],"serialize_values":[null,null,null]},{"id":333,"type":"AIO_Preprocessor","pos":[-3562.555609809028,379.11085340711793],"size":{"0":315,"1":82},"flags":{"collapsed":true,"pinned":true},"order":57,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":719,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[668],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"AIO_Preprocessor"},"widgets_values":["DWPreprocessor",512],"serialize_values":[null,null]},{"id":327,"type":"ControlNetApplyAdvanced","pos":[-3578.555609809028,346.11085340711793],"size":{"0":315,"1":166},"flags":{"collapsed":true,"pinned":true},"order":83,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":920,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","link":921,"label":"negative","slot_index":1},{"name":"control_net","type":"CONTROL_NET","link":659,"label":"control_net"},{"name":"image","type":"IMAGE","link":660,"label":"image"},{"name":"strength","type":"FLOAT","link":718,"widget":{"name":"strength"},"label":"strength","slot_index":4}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[665,926,933],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[666,927,934],"shape":3,"label":"negative","slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,0.5],"serialize_values":[null,null,null]},{"id":325,"type":"InpaintPreprocessor","pos":[-3585.555609809028,310.11085340711793],"size":{"0":313.5903625488281,"1":77.34700012207031},"flags":{"collapsed":true,"pinned":true},"order":78,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":716,"label":"image"},{"name":"mask","type":"MASK","link":732,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[660],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"InpaintPreprocessor"}},{"id":22,"type":"BNK_CLIPTextEncodeAdvanced","pos":[-3610.555609809028,276.11085340711793],"size":{"0":400,"1":200},"flags":{"pinned":true,"collapsed":true},"order":71,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":601,"label":"clip","slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[921,1429],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"BNK_CLIPTextEncodeAdvanced"},"widgets_values":["lowres,bad anatomy,bad hand,paintings,sketches,(worst quality:2),(low quality:2),(normal quality:2),lowres,((monochrome)),((grayscale)),skin spots,acnes,skin blemishes,age spot,glans,extra fingers,fewer fingers,((watermark:2)),(white letters:1),(multi nipples),bad anatomy,bad hands,text,error,missing fingers,missing arms,missing legs,extra digit,fewer digits,cropped,worst quality,jpeg artifacts,signature,watermark,username,bad feet,{Multiple people},blurry,poorly drawn hands,poorly drawn face,mutation,deformed,extra limbs,extra arms,extra legs,malformed limbs,fused fingers,too many fingers,long neck,cross-eyed,mutated hands,polar lowres,bad body,bad proportions,gross proportions,wrong feet bottom render,abdominal stretch,briefs,knickers,kecks,thong,{{fused fingers}},{{bad body}},bad proportion body to legs,wrong toes,extra toes,missing toes,weird toes,2 body,2 pussy,2 upper,2 lower,2 head,3 hand,3 feet,extra long leg,super long leg,mirrored image,mirrored noise","none","A1111"],"serialize_values":["lowres,bad anatomy,bad hand,paintings,sketches,(worst quality:2),(low quality:2),(normal quality:2),lowres,((monochrome)),((grayscale)),skin spots,acnes,skin blemishes,age spot,glans,extra fingers,fewer fingers,((watermark:2)),(white letters:1),(multi nipples),bad anatomy,bad hands,text,error,missing fingers,missing arms,missing legs,extra digit,fewer digits,cropped,worst quality,jpeg artifacts,signature,watermark,username,bad feet,Multiple people,blurry,poorly drawn hands,poorly drawn face,mutation,deformed,extra limbs,extra arms,extra legs,malformed limbs,fused fingers,too many fingers,long neck,cross-eyed,mutated hands,polar lowres,bad body,bad proportions,gross proportions,wrong feet bottom render,abdominal stretch,briefs,knickers,kecks,thong,fused fingers,bad body,bad proportion body to legs,wrong toes,extra toes,missing toes,weird toes,2 body,2 pussy,2 upper,2 lower,2 head,3 hand,3 feet,extra long leg,super long leg,mirrored image,mirrored noise",null,null]},{"id":691,"type":"ControlNetApplyAdvanced","pos":[-3748.5556098090283,486.11085340711827],"size":{"0":315,"1":166},"flags":{"collapsed":true,"pinned":true},"order":114,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":1428,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":1429,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":1423,"label":"control_net","slot_index":2},{"name":"image","type":"IMAGE","link":1424,"label":"image","slot_index":3}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[1430,1432],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[1431,1433],"shape":3,"label":"negative","slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1],"serialize_values":[null,null,null]},{"id":669,"type":"ImageScaleBy","pos":[217.7764078776039,-845.3330891927085],"size":{"0":315,"1":82},"flags":{"pinned":false},"order":108,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1492,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1329,1427],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["nearest-exact",2],"color":"#223","bgcolor":"#335","serialize_values":[null,null]},{"id":686,"type":"KSampler Config (rgthree)","pos":[216.7764078776039,-727.3330891927084],"size":{"0":315,"1":234},"flags":{"pinned":false},"order":43,"mode":0,"outputs":[{"name":"STEPS","type":"FLOAT,INT,NUMBER,STRING","links":[1399,1404],"shape":3,"label":"STEPS","slot_index":0},{"name":"REFINER_STEP","type":"FLOAT,INT,NUMBER,STRING","links":null,"shape":3,"label":"REFINER_STEP"},{"name":"CFG","type":"FLOAT,INT,NUMBER,STRING","links":[1400,1405],"shape":3,"label":"CFG","slot_index":2},{"name":"SAMPLER","type":"COMBO","links":[1401,1406],"shape":3,"slot_index":3,"label":"SAMPLER"},{"name":"SCHEDULER","type":"COMBO","links":[1402,1407],"shape":3,"slot_index":4,"label":"SCHEDULER"}],"properties":{"Node name for S&R":"KSampler Config (rgthree)"},"widgets_values":[30,24,7,"dpmpp_2m","karras"],"color":"#223","bgcolor":"#335","serialize_values":[null,null,null,null,null]},{"id":687,"type":"PrimitiveNode","pos":[-80.33449978298623,-472.00005425347194],"size":{"0":210,"1":82},"flags":{"pinned":false},"order":44,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[1403,1408],"widget":{"name":"seed"},"slot_index":0,"label":"INT"}],"properties":{"Run widget replace on values":false},"widgets_values":[6,"fixed"],"color":"#223","bgcolor":"#335","serialize_values":[null,null]},{"id":471,"type":"Note","pos":[-198.0444390190985,-111.97563178168362],"size":{"0":313.9810791015625,"1":58},"flags":{"pinned":true},"order":45,"mode":0,"properties":{"text":""},"widgets_values":["↓openpose权重：建议0.5-1（一般情况默认即可）"],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":328,"type":"VAEDecode","pos":[-4864.220486111113,479.66661580403644],"size":{"0":210,"1":46},"flags":{"collapsed":true,"pinned":true},"order":99,"mode":2,"inputs":[{"name":"samples","type":"LATENT","link":661,"label":"samples"},{"name":"vae","type":"VAE","link":708,"label":"vae","slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[698,1498],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#323","bgcolor":"#535"},{"id":215,"type":"VAEDecode","pos":[-4257.778537326387,329.333292643229],"size":{"0":210,"1":46},"flags":{"collapsed":true,"pinned":true},"order":98,"mode":2,"inputs":[{"name":"samples","type":"LATENT","link":413,"label":"samples"},{"name":"vae","type":"VAE","link":619,"label":"vae","slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[386,1500],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#233","bgcolor":"#355"},{"id":338,"type":"VAEDecode","pos":[-4186.444390190975,488.8889329698353],"size":{"0":210,"1":46},"flags":{"collapsed":true,"pinned":true},"order":100,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":676,"label":"samples"},{"name":"vae","type":"VAE","link":677,"label":"vae","slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[699,1497],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#232","bgcolor":"#353"},{"id":381,"type":"CLIPVisionLoader","pos":[-3761.6336283520295,-326.24253230659707],"size":{"0":430.7408752441406,"1":63.02785110473633},"flags":{"pinned":false},"order":46,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[791,944],"shape":3,"label":"CLIP_VISION","slot_index":0}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["CLIP- ViT-H -14-laion2B-s32B-b79K.safetensors"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":469,"type":"Note","pos":[-856.044439019099,-114.97563178168362],"size":{"0":313.9810791015625,"1":58},"flags":{"pinned":true},"order":47,"mode":0,"properties":{"text":""},"widgets_values":["↓参考模式下的参考强：度建议参考强度0.5-1"],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":482,"type":"Note","pos":[-3370.6336283520254,-131.24253230659698],"size":{"0":210,"1":58},"flags":{"pinned":true},"order":48,"mode":0,"properties":{"text":""},"widgets_values":["存放路径ComfyUI\\models\\controlnet"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":688,"type":"Note","pos":[215.7764078776039,-458.3330891927084],"size":{"0":313.9810791015625,"1":58},"flags":{"pinned":false},"order":49,"mode":0,"properties":{"text":""},"widgets_values":["↓随机种子数：可选择固定，增加，减少，随机或手动输入"],"color":"#223","bgcolor":"#335","serialize_values":[null]},{"id":734,"type":"Any Switch (rgthree)","pos":[-4654.000488281253,969.1108534071182],"size":{"0":210,"1":106},"flags":{"collapsed":true,"pinned":true},"order":105,"mode":0,"inputs":[{"name":"any_01","type":"IMAGE","link":1497,"label":"any_01","dir":3},{"name":"any_02","type":"IMAGE","link":1498,"label":"any_02","dir":3},{"name":"any_03","type":"IMAGE","link":1499,"label":"any_03","dir":3},{"name":"any_04","type":"IMAGE","link":1500,"label":"any_04","dir":3},{"name":"any_05","type":"IMAGE","link":null,"label":"any_05","dir":3}],"outputs":[{"name":"*","type":"IMAGE","links":[1490,1491,1492],"shape":3,"label":"IMAGE","dir":4,"slot_index":0}],"properties":{"Node name for S&R":"Any Switch (rgthree)"}},{"id":500,"type":"WD14Tagger|pysssss","pos":[-4571.000488281253,1053.1108534071184],"size":{"0":315,"1":172},"flags":{"collapsed":true,"pinned":true},"order":106,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1490,"label":"image"}],"outputs":[{"name":"STRING","type":"STRING","links":[972],"shape":6,"label":"STRING","slot_index":0}],"properties":{"Node name for S&R":"WD14Tagger|pysssss"},"widgets_values":["wd-v1-4-moat-tagger-v2",0.35,0.85,""],"serialize_values":[null,null,null,null]},{"id":487,"type":"ImageUpscaleWithModel","pos":[-4541.000488281253,1094.1108534071184],"size":{"0":241.79998779296875,"1":46},"flags":{"collapsed":true,"pinned":true},"order":107,"mode":0,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":959,"label":"upscale_model","slot_index":0},{"name":"image","type":"IMAGE","link":1491,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1343],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"ImageUpscaleWithModel"}},{"id":510,"type":"ImageCompositeMasked","pos":[-4412.000488281253,1020.1108534071184],"size":{"0":315,"1":146},"flags":{"collapsed":true,"pinned":true},"order":115,"mode":0,"inputs":[{"name":"destination","type":"IMAGE","link":1346,"label":"destination"},{"name":"source","type":"IMAGE","link":1234,"label":"source"},{"name":"mask","type":"MASK","link":1158,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1026],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"ImageCompositeMasked"},"widgets_values":[0,0,true],"serialize_values":[null,null,null]},{"id":497,"type":"VAEEncode","pos":[-4236.000488281253,1022.1108534071184],"size":{"0":210,"1":46},"flags":{"collapsed":true,"pinned":true},"order":116,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":1026,"label":"pixels"},{"name":"vae","type":"VAE","link":967,"label":"vae"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1077],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":296,"type":"InvertMask","pos":[-4205.77658420139,1236.4448784722226],"size":{"0":140,"1":26},"flags":{"pinned":true},"order":73,"mode":2,"inputs":[{"name":"mask","type":"MASK","link":1457,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[1473],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"InvertMask"},"color":"#432","bgcolor":"#653"},{"id":715,"type":"MaskToImage","pos":[-4430.666341145835,1252.4446343315983],"size":{"0":210,"1":26},"flags":{"collapsed":true,"pinned":true},"order":59,"mode":2,"inputs":[{"name":"mask","type":"MASK","link":1468,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1467],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":716,"type":"ImageToMask","pos":[-4432.666341145836,1288.4446343315983],"size":{"0":315,"1":58},"flags":{"collapsed":true,"pinned":true},"order":65,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":1467,"label":"image"}],"outputs":[{"name":"MASK","type":"MASK","links":[1469],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"],"serialize_values":[null]},{"id":713,"type":"MaskToImage","pos":[-4698.775607638892,1248.4447564019108],"size":{"0":210,"1":26},"flags":{"collapsed":true,"pinned":true},"order":60,"mode":2,"inputs":[{"name":"mask","type":"MASK","link":1465,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1466],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":714,"type":"ImageToMask","pos":[-4695.775607638892,1286.4447564019108],"size":{"0":315,"1":58},"flags":{"collapsed":true,"pinned":true},"order":66,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":1466,"label":"image"}],"outputs":[{"name":"MASK","type":"MASK","links":[1484],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"],"serialize_values":[null]},{"id":701,"type":"GroundingDinoSAMSegment (segment anything)","pos":[-5058.664876302084,1266.0003662109384],"size":{"0":352.79998779296875,"1":122},"flags":{"collapsed":true,"pinned":true},"order":61,"mode":0,"inputs":[{"name":"sam_model","type":"SAM_MODEL","link":1441,"label":"sam_model","slot_index":0},{"name":"grounding_dino_model","type":"GROUNDING_DINO_MODEL","link":1442,"label":"grounding_dino_model","slot_index":1},{"name":"image","type":"IMAGE","link":1450,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":[1463],"shape":3,"label":"MASK","slot_index":1}],"properties":{"Node name for S&R":"GroundingDinoSAMSegment (segment anything)"},"widgets_values":["character",0.3],"serialize_values":[null,null]},{"id":673,"type":"ImageScale","pos":[-4537.000488281253,1002.1108534071182],"size":{"0":315,"1":130},"flags":{"collapsed":true,"pinned":true},"order":113,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1343,"label":"image"},{"name":"width","type":"INT","link":1345,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":1344,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1346],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,512,"disabled"],"serialize_values":[null,null,null,null]},{"id":375,"type":"PrepImageForClipVision","pos":[-5032.99951171875,731.9999389648442],"size":{"0":315,"1":106},"flags":{"collapsed":true,"pinned":false},"order":56,"mode":2,"inputs":[{"name":"image","type":"IMAGE","link":785,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[786],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","top",0],"serialize_values":[null,null,null]},{"id":366,"type":"IPAdapterApply","pos":[-4858.99951171875,731.9999389648442],"size":{"0":311.88885498046875,"1":278},"flags":{"collapsed":true,"pinned":false},"order":88,"mode":2,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":767,"label":"ipadapter","slot_index":0},{"name":"clip_vision","type":"CLIP_VISION","link":791,"label":"clip_vision","slot_index":1},{"name":"image","type":"IMAGE","link":786,"label":"image","slot_index":2},{"name":"model","type":"MODEL","link":956,"label":"model"},{"name":"attn_mask","type":"MASK","link":780,"label":"attn_mask"},{"name":"insightface","type":"INSIGHTFACE","link":792,"slot_index":5,"label":"insightface"},{"name":"weight","type":"FLOAT","link":943,"widget":{"name":"weight"},"label":"weight","slot_index":6}],"outputs":[{"name":"MODEL","type":"MODEL","links":[858,1503],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterApply"},"widgets_values":[0.8,1,"original",0,1,true],"serialize_values":[null,null,null,null,null,null]},{"id":585,"type":"GrowMask","pos":[630.5548909505205,-916.7773708767359],"size":{"0":315,"1":82},"flags":{"collapsed":false,"pinned":true},"order":81,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1392,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[1154],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"GrowMask"},"widgets_values":[10,true],"color":"#222","bgcolor":"#000","serialize_values":[null,null]},{"id":237,"type":"PrimitiveNode","pos":[-1185.0444390190983,-886.9756317816843],"size":{"0":315.5180969238281,"1":250.9695587158203},"flags":{"pinned":true},"order":50,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[558],"widget":{"name":"text_a"},"slot_index":0,"label":"STRING"}],"properties":{"Run widget replace on values":false},"widgets_values":[""],"color":"#232","bgcolor":"#353","serialize_values":[null]},{"id":677,"type":"KSampler","pos":[-4169.000488281253,1063.1108534071184],"size":{"0":315,"1":442},"flags":{"collapsed":true,"pinned":true},"order":118,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1505,"label":"model"},{"name":"positive","type":"CONDITIONING","link":1430,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":1431,"label":"negative"},{"name":"latent_image","type":"LATENT","link":1371,"label":"latent_image","slot_index":3},{"name":"seed","type":"INT","link":1408,"widget":{"name":"seed"},"label":"seed","slot_index":4},{"name":"sampler_name","type":"COMBO","link":1406,"widget":{"name":"sampler_name"},"label":"sampler_name"},{"name":"scheduler","type":"COMBO","link":1407,"widget":{"name":"scheduler"},"label":"scheduler"},{"name":"cfg","type":"FLOAT","link":1405,"widget":{"name":"cfg"},"label":"cfg"},{"name":"steps","type":"INT","link":1404,"widget":{"name":"steps"},"label":"steps"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1373],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[6,"randomize",28,8,"dpmpp_sde","karras",0.4],"color":"#323","bgcolor":"#535","serialize_values":[null,null,null,null,"dpmpp_sde","karras",null]},{"id":502,"type":"BNK_CLIPTextEncodeAdvanced","pos":[-4395.000488281253,980.1108534071182],"size":{"0":400,"1":200},"flags":{"collapsed":true,"pinned":true},"order":112,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":1508,"label":"clip","slot_index":0},{"name":"text","type":"STRING","link":973,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[1428],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"BNK_CLIPTextEncodeAdvanced"},"widgets_values":["","none","A1111"],"serialize_values":["",null,null]},{"id":690,"type":"CR Load LoRA","pos":[1215.6664632161458,-1220.444146050347],"size":{"0":306.5212097167969,"1":170},"flags":{"pinned":true},"order":72,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1506,"label":"model"},{"name":"clip","type":"CLIP","link":1507,"label":"clip"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1418,1504],"shape":3,"label":"MODEL","slot_index":0},{"name":"CLIP","type":"CLIP","links":[1508],"shape":3,"label":"CLIP","slot_index":1},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR Load LoRA"},"widgets_values":["On","细节调整add_detail.safetensors",1,1],"color":"#222","bgcolor":"#000","serialize_values":[null,null,null,null]},{"id":745,"type":"Any Switch (rgthree)","pos":[-4172.000488281253,983.1108534071183],"size":{"0":210,"1":106},"flags":{"collapsed":true,"pinned":true},"order":91,"mode":0,"inputs":[{"name":"any_01","type":"MODEL","link":1503,"label":"any_01","dir":3},{"name":"any_02","type":"MODEL","link":1504,"label":"any_02","dir":3},{"name":"any_03","type":"MODEL","link":null,"label":"any_03","dir":3},{"name":"any_04","type":"MODEL","link":null,"label":"any_04","dir":3},{"name":"any_05","type":"MODEL","link":null,"label":"any_05","dir":3}],"outputs":[{"name":"*","type":"MODEL","links":[1505],"shape":3,"label":"MODEL","dir":4,"slot_index":0}],"properties":{"Node name for S&R":"Any Switch (rgthree)"}},{"id":744,"type":"Note","pos":[629.5548909505205,-1007.777370876736],"size":{"0":313.9810791015625,"1":58},"flags":{"pinned":true},"order":51,"mode":0,"properties":{"text":""},"widgets_values":["↓放大遮罩扩展，建议全身设置0，半身设置10，头像20，默认10"],"color":"#222","bgcolor":"#000","serialize_values":[null]},{"id":432,"type":"Fast Groups Muter (rgthree)","pos":{"0":-2141,"1":437,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":431.5843200683594,"1":431.7371826171875},"flags":{"pinned":false},"order":52,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":[],"label":"OPT_CONNECTION","slot_index":0}],"title":"功能选择","properties":{"matchColors":"","matchTitle":"","showNav":true,"sort":"custom alphabet","customSortAlphabet":"图主细手上自遮参","toggleRestriction":"default"},"color":"#322","bgcolor":"#533"},{"id":476,"type":"Note","pos":[-2710,398],"size":{"0":464.0068359375,"1":435.00506591796875},"flags":{"pinned":false},"order":53,"mode":0,"properties":{"text":""},"widgets_values":["此工作流仅用作AIGC交流学习使用，基于Github上开源项目 Stable Diffusion 和 ComfyUI制作\n使用本工作流代表您已阅读并同意以下用户协议：\n\n您不得实施包括但不限于以下行为，也不得为任何违反法律法规的行为提供便利：\n反对宪法所规定的基本原则的。\n危害国家安全，泄露国家秘密，颠覆国家政权，破坏国家统一的。\n损害国家荣誉和利益的。\n煽动民族仇恨、民族歧视，破坏民族团结的。\n破坏国家宗教政策，宣扬邪教和封建迷信的。\n散布谣言，扰乱社会秩序，破坏社会稳定的。\n散布淫秽、色情、赌博、暴力、凶杀、恐怖或教唆犯罪的。\n侮辱或诽谤他人，侵害他人合法权益的。\n实施任何违背“七条底线”的行为。\n含有法律、行政法规禁止的其他内容的。\n因您的数据的产生、收集、处理、使用等任何相关事项存在违反法律法规等情况而造成的全部结果及责任均由您自行承担。\n\n更多Stable Diffusion AI绘画全套教程\nB站@灵仙儿和二狗子\nQQ交流群757374837\n\n注意事项\n使用整合包解压后，请勿更新本体与节点，有些节点更新了就不见了\n\n手涂蒙版/上传蒙版/自动扣人三选一\n参考面部特征/参考其它二选一\n\n打开几号图放大对应号数\n全部打开，默认放大最后的一张图\n\n\n\n"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":213,"type":"VAEDecode","pos":[-4835,313],"size":{"0":210,"1":46},"flags":{"collapsed":true,"pinned":false},"order":97,"mode":2,"inputs":[{"name":"samples","type":"LATENT","link":410,"label":"samples"},{"name":"vae","type":"VAE","link":618,"label":"vae","slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[381,1499],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"},"color":"#432","bgcolor":"#653"}],"links":[[63,40,0,41,0,"LATENT"],[381,213,0,154,0,"IMAGE"],[386,215,0,135,0,"IMAGE"],[410,222,0,213,0,"LATENT"],[413,224,0,215,0,"LATENT"],[418,225,0,222,4,"INT"],[419,225,0,224,4,"INT"],[420,226,0,224,5,"FLOAT"],[421,226,0,222,5,"FLOAT"],[558,237,0,288,0,"STRING"],[559,288,0,21,1,"STRING"],[590,16,0,299,0,"MODEL"],[591,16,1,299,1,"CLIP"],[595,299,0,300,0,"MODEL"],[596,299,1,300,1,"CLIP"],[597,300,0,301,0,"MODEL"],[598,300,1,301,1,"CLIP"],[600,301,1,21,0,"CLIP"],[601,301,1,22,0,"CLIP"],[611,16,2,24,1,"VAE"],[612,16,2,40,1,"VAE"],[618,16,2,213,1,"VAE"],[619,16,2,215,1,"VAE"],[659,326,0,327,2,"CONTROL_NET"],[660,325,0,327,3,"IMAGE"],[661,329,0,328,0,"LATENT"],[662,332,0,329,1,"CONDITIONING"],[663,332,1,329,2,"CONDITIONING"],[665,327,0,332,0,"CONDITIONING"],[666,327,1,332,1,"CONDITIONING"],[667,331,0,332,2,"CONTROL_NET"],[668,333,0,332,3,"IMAGE"],[676,339,0,338,0,"LATENT"],[677,16,2,338,1,"VAE"],[682,225,0,339,4,"INT"],[683,226,0,339,5,"FLOAT"],[698,328,0,347,0,"IMAGE"],[699,338,0,348,0,"IMAGE"],[708,16,2,328,1,"VAE"],[712,225,0,329,4,"INT"],[713,226,0,329,5,"FLOAT"],[714,321,0,332,4,"FLOAT"],[716,144,0,325,0,"IMAGE"],[718,230,0,327,4,"FLOAT"],[719,144,0,333,0,"IMAGE"],[725,349,0,24,2,"MASK"],[726,349,0,41,1,"MASK"],[732,349,0,325,1,"MASK"],[741,144,0,360,0,"IMAGE"],[742,360,0,24,0,"IMAGE"],[743,360,0,40,0,"IMAGE"],[767,368,0,366,0,"IPADAPTER"],[773,349,0,370,0,"MASK"],[774,370,0,371,0,"IMAGE"],[780,371,0,366,4,"MASK"],[785,369,0,375,0,"IMAGE"],[786,375,0,366,2,"IMAGE"],[791,381,0,366,1,"CLIP_VISION"],[792,382,0,366,5,"INSIGHTFACE"],[799,390,0,389,0,"IPADAPTER"],[805,301,0,389,3,"MODEL"],[818,385,0,222,0,"MODEL"],[819,385,0,224,0,"MODEL"],[820,385,0,329,0,"MODEL"],[821,385,0,339,0,"MODEL"],[826,409,0,412,0,"IMAGE"],[827,412,0,389,2,"IMAGE"],[845,371,0,389,4,"MASK"],[857,389,0,385,1,"MODEL"],[858,366,0,385,0,"MODEL"],[894,401,0,224,8,"INT"],[895,401,2,224,9,"FLOAT"],[896,401,3,224,6,"COMBO"],[897,401,4,224,7,"COMBO"],[898,401,2,222,9,"FLOAT"],[899,401,0,222,8,"INT"],[900,401,3,222,6,"COMBO"],[901,401,4,222,7,"COMBO"],[902,401,0,329,9,"INT"],[903,401,2,329,8,"FLOAT"],[904,401,3,329,6,"COMBO"],[905,401,4,329,7,"COMBO"],[906,401,0,339,9,"INT"],[907,401,2,339,8,"FLOAT"],[908,401,3,339,7,"COMBO"],[909,401,4,339,6,"COMBO"],[920,21,0,327,0,"CONDITIONING"],[921,22,0,327,1,"CONDITIONING"],[926,327,0,222,1,"CONDITIONING"],[927,327,1,222,2,"CONDITIONING"],[929,24,0,222,3,"LATENT"],[930,41,0,224,3,"LATENT"],[933,327,0,224,1,"CONDITIONING"],[934,327,1,224,2,"CONDITIONING"],[935,41,0,339,3,"LATENT"],[936,332,0,339,1,"CONDITIONING"],[937,332,1,339,2,"CONDITIONING"],[938,24,0,329,3,"LATENT"],[942,452,0,389,6,"FLOAT"],[943,452,0,366,6,"FLOAT"],[944,381,0,389,1,"CLIP_VISION"],[953,349,0,460,0,"MASK"],[954,460,0,351,0,"IMAGE"],[955,301,0,481,0,"MODEL"],[956,481,0,366,3,"MODEL"],[958,301,0,385,2,"MODEL"],[959,488,0,487,0,"UPSCALE_MODEL"],[967,16,2,497,1,"VAE"],[972,500,0,501,0,"STRING"],[973,501,0,502,1,"STRING"],[1026,510,0,497,0,"IMAGE"],[1077,497,0,555,0,"LATENT"],[1154,585,0,555,1,"MASK"],[1158,586,0,510,2,"MASK"],[1234,144,0,510,1,"IMAGE"],[1329,669,0,667,0,"IMAGE"],[1343,487,0,673,0,"IMAGE"],[1344,667,1,673,2,"INT"],[1345,667,2,673,1,"INT"],[1346,673,0,510,0,"IMAGE"],[1371,555,0,677,3,"LATENT"],[1373,677,0,678,0,"LATENT"],[1375,678,0,508,0,"IMAGE"],[1377,16,2,671,1,"VAE"],[1378,16,2,678,1,"VAE"],[1379,678,0,679,0,"IMAGE"],[1380,16,2,679,1,"VAE"],[1382,679,0,665,3,"LATENT"],[1383,665,0,671,0,"LATENT"],[1384,678,0,680,0,"IMAGE"],[1385,671,0,680,1,"IMAGE"],[1392,349,0,585,0,"MASK"],[1393,349,0,586,0,"MASK"],[1397,680,0,682,0,"IMAGE"],[1398,671,0,683,0,"IMAGE"],[1399,686,0,665,5,"INT"],[1400,686,2,665,6,"FLOAT"],[1401,686,3,665,7,"COMBO"],[1402,686,4,665,8,"COMBO"],[1403,687,0,665,4,"INT"],[1404,686,0,677,8,"INT"],[1405,686,2,677,7,"FLOAT"],[1406,686,3,677,5,"COMBO"],[1407,686,4,677,6,"COMBO"],[1408,687,0,677,4,"INT"],[1418,690,0,665,0,"MODEL"],[1423,692,0,691,2,"CONTROL_NET"],[1424,694,0,691,3,"IMAGE"],[1427,669,0,694,0,"IMAGE"],[1428,502,0,691,0,"CONDITIONING"],[1429,22,0,691,1,"CONDITIONING"],[1430,691,0,677,1,"CONDITIONING"],[1431,691,1,677,2,"CONDITIONING"],[1432,691,0,665,1,"CONDITIONING"],[1433,691,1,665,2,"CONDITIONING"],[1441,702,0,701,0,"SAM_MODEL"],[1442,703,0,701,1,"GROUNDING_DINO_MODEL"],[1450,144,0,701,2,"IMAGE"],[1457,706,0,296,0,"MASK"],[1463,701,1,706,2,"MASK"],[1465,311,0,713,0,"MASK"],[1466,713,0,714,0,"IMAGE"],[1467,715,0,716,0,"IMAGE"],[1468,712,1,715,0,"MASK"],[1469,716,0,706,0,"MASK"],[1472,706,0,717,1,"MASK"],[1473,296,0,717,0,"MASK"],[1475,717,0,349,0,"MASK"],[1476,144,0,720,0,"IMAGE"],[1477,460,0,720,1,"IMAGE"],[1478,349,0,720,2,"MASK"],[1479,720,0,721,0,"IMAGE"],[1484,714,0,706,1,"MASK"],[1490,734,0,500,0,"IMAGE"],[1491,734,0,487,1,"IMAGE"],[1492,734,0,669,0,"IMAGE"],[1497,338,0,734,0,"IMAGE"],[1498,328,0,734,1,"IMAGE"],[1499,213,0,734,2,"IMAGE"],[1500,215,0,734,3,"IMAGE"],[1503,366,0,745,0,"*"],[1504,690,0,745,1,"MODEL"],[1505,745,0,677,0,"MODEL"],[1506,301,0,690,0,"MODEL"],[1507,301,1,690,1,"CLIP"],[1508,690,1,502,0,"CLIP"]],"groups":[{"title":"1号VAE内补编码+ipaint","bounding":[-4964,246,321,104],"color":"#b58b2a","font_size":24,"locked":false},{"title":"2号VAE编码+噪波遮罩+ipaint","bounding":[-4381,258,322,105],"color":"#8AA","font_size":24,"locked":false},{"title":"主要工作区（勿动）","bounding":[-1194,-1330,1546,1396],"color":"#3f789e","font_size":24,"locked":false},{"title":"图像上传和蒙版查看区（勿动）","bounding":[-2860,-900,1432,925],"color":"#88A","font_size":24,"locked":false},{"title":"3号内补编码+ipaint+pose","bounding":[-4987,412,321,104],"color":"#a1309b","font_size":24,"locked":false},{"title":"4号噪波+ipaint+pose","bounding":[-4314,423,322,103],"color":"#8A8","font_size":24,"locked":false},{"title":"参考面部特征（参考二选一）","bounding":[-5037,665,323,104],"color":"#3f789e","font_size":24,"locked":false},{"title":"参考其它（参考二选一）","bounding":[-4285,607,321,103],"color":"#3f789e","font_size":24,"locked":false},{"title":"放大","bounding":[-4676,866,645,244],"color":"#3f789e","font_size":24,"locked":false},{"title":"细节放大使用区（勿动）","bounding":[551,-1293,986,1552],"color":"#3f789e","font_size":24,"locked":false},{"title":"上传蒙版","bounding":[-4707,1180,147,115],"color":"#3f789e","font_size":24,"locked":false},{"title":"自动扣人","bounding":[-5070,1178,195,117],"color":"#3f789e","font_size":24,"locked":false},{"title":"手涂蒙版","bounding":[-4445,1179,146,116],"color":"#3f789e","font_size":24,"locked":false},{"title":"遮罩反转","bounding":[-4214,1159,153,117],"color":"#3f789e","font_size":24,"locked":false},{"title":"模型选择和路径说明区（勿动）","bounding":[-3774,-815,668,1314],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}