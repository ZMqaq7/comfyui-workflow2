{"last_node_id":37,"last_link_id":75,"nodes":[{"id":3,"type":"ApplyInstantID","pos":{"0":144,"1":421.84637451171875,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":315,"1":266},"flags":{},"order":12,"mode":0,"inputs":[{"name":"instantid","type":"INSTANTID","link":1,"label":"InstantID"},{"name":"insightface","type":"FACEANALYSIS","link":2,"label":"InsightFace"},{"name":"control_net","type":"CONTROL_NET","link":3,"label":"ControlNet"},{"name":"image","type":"IMAGE","link":35,"label":"图像"},{"name":"model","type":"MODEL","link":58,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":5,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":6,"label":"负面条件"},{"name":"image_kps","type":"IMAGE","link":69,"label":"图像_kps"},{"name":"mask","type":"MASK","link":null,"label":"遮罩"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[73],"slot_index":0,"shape":3,"label":"模型"},{"name":"positive","type":"CONDITIONING","links":[10],"slot_index":1,"shape":3,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","links":[11],"slot_index":2,"shape":3,"label":"负面条件"}],"properties":{"Node name for S&R":"ApplyInstantID"},"widgets_values":[0.8,0,1]},{"id":6,"type":"ControlNetLoader","pos":{"0":144,"1":288.84637451171875,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":315,"1":58},"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[3],"shape":3,"label":"ControlNet"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["SDXL\\control_instant_id_sdxl.safetensors"]},{"id":5,"type":"InstantIDFaceAnalysis","pos":{"0":145,"1":155.84637451171875,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":315,"1":58},"flags":{},"order":1,"mode":0,"inputs":[],"outputs":[{"name":"FACEANALYSIS","type":"FACEANALYSIS","links":[2],"shape":3,"label":"面部分析"}],"properties":{"Node name for S&R":"InstantIDFaceAnalysis"},"widgets_values":["CUDA"]},{"id":4,"type":"InstantIDModelLoader","pos":{"0":142,"1":26.84637451171875,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":315,"1":58},"flags":{},"order":2,"mode":0,"inputs":[],"outputs":[{"name":"INSTANTID","type":"INSTANTID","links":[1],"shape":3}],"properties":{"Node name for S&R":"InstantIDModelLoader"},"widgets_values":["ip-adapter_instant_id_sdxl.bin"]},{"id":34,"type":"LoadImage","pos":{"0":144,"1":-349.15362548828125,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":315,"1":314},"flags":{},"order":3,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[69],"shape":3,"label":"图像"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["素材1 (1).png","image"]},{"id":36,"type":"PreviewImage","pos":{"0":967,"1":-387,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":704.2662963867188,"1":1094.078857421875},"flags":{},"order":14,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":74,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":1,"type":"Efficient Loader","pos":{"0":-302.8379211425781,"1":97.97703552246094,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":406.9728088378906,"1":583.7928466796875},"flags":{},"order":11,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"label":"LoRA堆"},{"name":"cnet_stack","type":"CONTROL_NET_STACK","link":null,"label":"ControlNet堆"},{"name":"positive","type":"STRING","link":13,"widget":{"name":"positive"},"label":"正面条件"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[58],"slot_index":0,"shape":3,"label":"模型"},{"name":"CONDITIONING+","type":"CONDITIONING","links":[5],"slot_index":1,"shape":3,"label":"正面条件"},{"name":"CONDITIONING-","type":"CONDITIONING","links":[6],"slot_index":2,"shape":3,"label":"负面条件"},{"name":"LATENT","type":"LATENT","links":[15],"slot_index":3,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":[16],"slot_index":4,"shape":3,"label":"VAE"},{"name":"CLIP","type":"CLIP","links":null,"shape":3,"label":"CLIP"},{"name":"DEPENDENCIES","type":"DEPENDENCIES","links":null,"shape":3,"label":"依赖"}],"properties":{"Node name for S&R":"Efficient Loader"},"widgets_values":["万能\\SDXL-DreamShaper XL v2.1 Turbo 闪电_v2.1 Turbo.safetensors","Baked VAE",-2,"None",0.8,0.8,"CLIP_POSITIVE","((bareness:1.6):1.2),(ng_deepnegative_v1_75t),badhandv4,bad-picture-chill-75v,bad_prompt_version2-neg,Poorly drawn face,Poorly drawn hands,0000090.7FW,(worst quality, low quality:2),zombie,overexposure,watermark,text,bad anatomy,bad hand,extra hands,extra fingers,too many fingers,fused fingers,bad arm,distorted arm,extra arms,fused arms,extra legs,missing leg,disembodied leg,extra nipples,detached arm,liquid hand,inverted hand,disembodied limb,oversized head,extra body,completely nude,extra navel,(hair between eyes),sketch,duplicate,ugly,huge eyes,text,logo,worst face,(bad and mutated hands:1.3),(blurry:2),horror,geometry,bad_prompt,(bad hands),(missing fingers),multiple limbs,bad anatomy,(interlocked fingers:1.2),Ugly Fingers,(extra digit and hands and fingers and legs and arms:1.4),((2girl)),(deformed fingers:1.2),(long fingers:1.2),(bad-artist-anime),bad-artist,bad hand,extra legs,Easy000009egative,(ng_deepnegative_v1_75t),badhandv4,bad-picture-chill-75v,bad_prompt_version2-neg,Poorly drawn face,Poorly drawn hands,0000090.7FW,(worst quality, low quality:2),zombie,overexposure,ng_deepnegative_v1_75t,badhandv4 (worst quality:2),(low quality:2),(normal quality:2),lowres,bad anatomy,bad hands,,nsfw","none","A1111",768,1024,1,true,true],"color":"#223322","bgcolor":"#335533","shape":1},{"id":22,"type":"PreviewImage","pos":{"0":-469,"1":-357,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":562.00244140625,"1":333.6104736328125},"flags":{},"order":10,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":38,"label":"图像"}],"outputs":[],"properties":{"Node name for S&R":"PreviewImage"}},{"id":20,"type":"FaceBoundingBox","pos":{"0":-809,"1":-218,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":315,"1":186},"flags":{},"order":8,"mode":0,"inputs":[{"name":"analysis_models","type":"ANALYSIS_MODELS","link":37,"label":"面部分析模型"},{"name":"image","type":"IMAGE","link":34,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[35,38],"slot_index":0,"shape":6,"label":"图像"},{"name":"x","type":"INT","links":null,"shape":6,"label":"X"},{"name":"y","type":"INT","links":null,"shape":6,"label":"Y"},{"name":"width","type":"INT","links":null,"shape":6,"label":"宽度"},{"name":"height","type":"INT","links":null,"shape":6,"label":"高度"}],"properties":{"Node name for S&R":"FaceBoundingBox"},"widgets_values":[0,0.25,-1]},{"id":21,"type":"FaceAnalysisModels","pos":{"0":-814,"1":-347,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":315,"1":82},"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"ANALYSIS_MODELS","type":"ANALYSIS_MODELS","links":[37],"shape":3,"label":"面部分析模型"}],"properties":{"Node name for S&R":"FaceAnalysisModels"},"widgets_values":["insightface","CUDA"]},{"id":10,"type":"StringFunction|pysssss","pos":{"0":-690,"1":487,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":366.4555358886719,"1":210.84825134277344},"flags":{},"order":9,"mode":0,"inputs":[{"name":"text_b","type":"STRING","link":70,"widget":{"name":"text_b"},"label":"文本_B"},{"name":"text_a","type":"STRING","link":75,"widget":{"name":"text_a"},"label":"文本_A"}],"outputs":[{"name":"STRING","type":"STRING","links":[13],"slot_index":0,"shape":3,"label":"字符串"}],"properties":{"Node name for S&R":"StringFunction|pysssss"},"widgets_values":["append","yes","","","1 girl, shirt, clay style",true,true,true]},{"id":2,"type":"KSampler (Efficient)","pos":{"0":540,"1":-190,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":383.14910888671875,"1":724.8380737304688},"flags":{},"order":13,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":73,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":10,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":11,"label":"负面条件"},{"name":"latent_image","type":"LATENT","link":15,"label":"Latent"},{"name":"optional_vae","type":"VAE","link":16,"label":"VAE(可选)"},{"name":"script","type":"SCRIPT","link":null,"label":"脚本"}],"outputs":[{"name":"MODEL","type":"MODEL","links":null,"shape":3,"label":"模型"},{"name":"CONDITIONING+","type":"CONDITIONING","links":null,"shape":3,"label":"正面条件"},{"name":"CONDITIONING-","type":"CONDITIONING","links":null,"shape":3,"label":"负面条件"},{"name":"LATENT","type":"LATENT","links":null,"shape":3,"label":"Latent"},{"name":"VAE","type":"VAE","links":null,"shape":3,"label":"VAE"},{"name":"IMAGE","type":"IMAGE","links":[74],"slot_index":5,"shape":3,"label":"图像"}],"properties":{"Node name for S&R":"KSampler (Efficient)"},"widgets_values":[307165989448296,null,8,2,"dpmpp_2m_sde_gpu","karras",1,"none","true"],"color":"#222233","bgcolor":"#333355","shape":1},{"id":11,"type":"LoadImage","pos":{"0":-1153,"1":-344,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":315,"1":314},"flags":{},"order":5,"mode":0,"inputs":[],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[34],"slot_index":0,"shape":3,"label":"图像"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["2ea40ada2bc03f2314c86d485337bdd.png","image"]},{"id":35,"type":"easy stylesSelector","pos":{"0":-1154.83740234375,"1":82.97706604003906,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":444.9331970214844,"1":604.3068237304688},"flags":{},"order":6,"mode":0,"inputs":[{"name":"positive","type":"STRING","link":null,"widget":{"name":"positive"},"label":"正面提示词（可选）"},{"name":"negative","type":"STRING","link":null,"widget":{"name":"negative"},"label":"负面提示词（可选）"}],"outputs":[{"name":"positive","type":"STRING","links":[70],"slot_index":0,"shape":3,"label":"正面提示词"},{"name":"negative","type":"STRING","links":null,"shape":3,"label":"负面提示词"}],"properties":{"Node name for S&R":"easy stylesSelector","values":["Fooocus Enhance"]},"widgets_values":["fooocus_styles","","","Fooocus Enhance"]},{"id":37,"type":"AnyText_translator","pos":{"0":-696,"1":111,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":[398.8662226366607,330.5014112642061],"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"name":"text","type":"STRING","links":[75],"shape":3,"label":"文本","slot_index":0}],"properties":{"Node name for S&R":"AnyText_translator"},"widgets_values":["utrobinmv/t5_translate_en_ru_zh_small_1024","","","en",false,true,"auto",true,true]}],"links":[[1,4,0,3,0,"INSTANTID"],[2,5,0,3,1,"FACEANALYSIS"],[3,6,0,3,2,"CONTROL_NET"],[5,1,1,3,5,"CONDITIONING"],[6,1,2,3,6,"CONDITIONING"],[10,3,1,2,1,"CONDITIONING"],[11,3,2,2,2,"CONDITIONING"],[13,10,0,1,2,"STRING"],[15,1,3,2,3,"LATENT"],[16,1,4,2,4,"VAE"],[34,11,0,20,1,"IMAGE"],[35,20,0,3,3,"IMAGE"],[37,21,0,20,0,"ANALYSIS_MODELS"],[38,20,0,22,0,"IMAGE"],[58,1,0,3,4,"MODEL"],[69,34,0,3,7,"IMAGE"],[70,35,0,10,0,"STRING"],[73,3,0,2,0,"MODEL"],[74,2,5,36,0,"IMAGE"],[75,37,0,10,1,"STRING"]],"groups":[{"title":"条件","bounding":[-1165,9,1279,699],"color":"#3f789e","font_size":24,"locked":false},{"title":"面部识别","bounding":[-1163,-429,1274,430],"color":"#3f789e","font_size":24,"locked":false},{"title":"instantID","bounding":[120,-429,380,1137],"color":"#3f789e","font_size":24,"locked":false},{"title":"采样","bounding":[510,-427,436,1137],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{"ds":{"scale":0.8264462809917361,"offset":[1545.9657921338462,446.2226182768088]},"workspace_info":{"id":"7JDEMcWxtGicnzhQMdwfz","saveLock":false,"cloudID":null,"coverMediaPath":null}},"version":0.4}