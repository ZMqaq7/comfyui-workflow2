{"last_node_id":45,"last_link_id":47,"nodes":[{"id":5,"type":"RIFE VFI","pos":[1081.322371123587,260.3036932793231],"size":{"0":443.4000244140625,"1":222},"flags":{},"order":21,"mode":0,"inputs":[{"name":"frames","type":"IMAGE","link":7,"label":"frames"},{"name":"optional_interpolation_states","type":"INTERPOLATION_STATES","link":null,"label":"optional_interpolation_states"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[5],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"RIFE VFI"},"widgets_values":["rife47.pth",10,3,true,true,1,true],"serialize_values":[null,null,null,null,null,null,null]},{"id":7,"type":"ImageSharpen","pos":[711.3223711235856,260.3036932793231],"size":{"0":315,"1":106},"flags":{},"order":19,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":18,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[7],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"ImageSharpen"},"widgets_values":[1,0.4,0.6000000000000001],"serialize_values":[null,null,null]},{"id":10,"type":"ImageScale","pos":[-578.4446953667536,293.2221569485135],"size":{"0":315,"1":130},"flags":{},"order":10,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":8,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[12],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,512,"disabled"],"serialize_values":[null,null,null,null]},{"id":1,"type":"LoadImage","pos":[-1046.4446953667534,296.2221569485135],"size":{"0":315,"1":314},"flags":{},"order":0,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[8],"shape":3,"label":"图像","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/9a4e3639fd6ad306a87b99bb68df0394ed7faf68.png@1536w_1536h_0e","image"],"serialize_values":[null,null]},{"id":14,"type":"DragNUWA Run MotionBrush","pos":[294.55530463324664,278.2221569485135],"size":{"0":315,"1":122},"flags":{},"order":17,"mode":0,"inputs":[{"name":"model","type":"DragNUWA","link":13,"label":"model"},{"name":"image","type":"IMAGE","link":12,"label":"image"},{"name":"motion_brush","type":"MotionBrush","link":21,"label":"motion_brush","slot_index":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[18],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"DragNUWA Run MotionBrush"},"widgets_values":[1,4],"serialize_values":[null,null]},{"id":2,"type":"Load CheckPoint DragNUWA","pos":[-570.4446953667536,124.22215694851344],"size":{"0":315,"1":106},"flags":{},"order":1,"mode":0,"outputs":[{"name":"model","type":"DragNUWA","links":[13,16],"shape":3,"label":"model","slot_index":0}],"properties":{"Node name for S&R":"Load CheckPoint DragNUWA"},"widgets_values":["dragnuwa-svd-pruned.fp16.safetensors","512x512",14],"serialize_values":[null,null,null]},{"id":6,"type":"VHS_VideoCombine","pos":[1735.644426812069,245.59994964599613],"size":[315,527],"flags":{},"order":23,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":5,"label":"图像"},{"name":"audio","type":"VHS_AUDIO","link":null,"label":"audio"},{"name":"batch_manager","type":"VHS_BatchManager","link":null}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null,"shape":3,"label":"Filenames"}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":8,"loop_count":0,"filename_prefix":"AnimateDiff","format":"image/gif","pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"https://boss.aikobo.cn/aigc-public/815766c9a7426c1d717e9af41951783aba8da81ea84e095b3815cde7201a14ea.gif","subfolder":"","type":"output","format":"image/gif"}}},"serialize_values":[null,null,"AnimateDiff",null,null,null,null]},{"id":15,"type":"Load MotionBrush From Tracking Points","pos":[-158.4446953667536,431.2221569485139],"size":{"0":400,"1":200},"flags":{},"order":11,"mode":0,"inputs":[{"name":"model","type":"DragNUWA","link":16,"label":"model"}],"outputs":[{"name":"MotionBrush","type":"MotionBrush","links":[21],"shape":3,"label":"MotionBrush","slot_index":0}],"properties":{"Node name for S&R":"Load MotionBrush From Tracking Points"},"widgets_values":["[[[365,263],[390,270],[406,264],[424,252],[439,248],[477,285],[486,294],[495,297]],[[122,481],[134,499],[145,507]],[[211,498],[233,508],[257,508]],[[417,466],[388,499],[377,504]],[[304,506],[298,507],[280,509]]]"],"serialize_values":["[[[365,263],[390,270],[406,264],[424,252],[439,248],[477,285],[486,294],[495,297]],[[122,481],[134,499],[145,507]],[[211,498],[233,508],[257,508]],[[417,466],[388,499],[377,504]],[[304,506],[298,507],[280,509]]]"]},{"id":21,"type":"ImageScale","pos":[-162.8889024522572,1503.6667073567708],"size":{"0":315,"1":130},"flags":{},"order":14,"mode":4,"inputs":[{"name":"image","type":"IMAGE","link":22,"label":"图像"},{"name":"width","type":"INT","link":32,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":33,"widget":{"name":"height"},"label":"高度"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[23],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"ImageScale"},"widgets_values":["nearest-exact",512,512,"disabled"],"serialize_values":[null,null,null,null]},{"id":23,"type":"Load CheckPoint DragNUWA","pos":[-160.88890245225724,1311.6667073567708],"size":{"0":315,"1":106},"flags":{},"order":2,"mode":4,"outputs":[{"name":"model","type":"DragNUWA","links":[24],"shape":3,"label":"model"}],"properties":{"Node name for S&R":"Load CheckPoint DragNUWA"},"widgets_values":["dragnuwa-svd-pruned.fp16.safetensors","512x512",14],"serialize_values":[null,null,null]},{"id":29,"type":"Int","pos":[-1040.8889024522573,1172.6667073567708],"size":{"0":315,"1":58},"flags":{},"order":3,"mode":4,"outputs":[{"name":"INT","type":"INT","links":[30],"shape":3,"label":"INT","slot_index":0}],"properties":{"Node name for S&R":"Int"},"widgets_values":[512],"serialize_values":[null]},{"id":31,"type":"Int","pos":[-1047.888902452257,1324.6667073567708],"size":{"0":315,"1":58},"flags":{},"order":4,"mode":4,"outputs":[{"name":"INT","type":"INT","links":[31],"shape":3,"label":"INT","slot_index":0}],"properties":{"Node name for S&R":"Int"},"widgets_values":[512],"serialize_values":[null]},{"id":32,"type":"easy setNode","pos":[-623.8889024522579,1326.6667073567708],"size":{"0":210,"1":58},"flags":{},"order":13,"mode":4,"inputs":[{"name":"INT","type":"INT","link":31,"label":"INT"}],"title":"Set_height","properties":{"previousName":"height"},"widgets_values":["height"],"color":"#223","serialize_values":[null]},{"id":30,"type":"easy setNode","pos":[-633.8889024522579,1173.6667073567708],"size":{"0":210,"1":58},"flags":{},"order":12,"mode":4,"inputs":[{"name":"INT","type":"INT","link":30,"label":"INT"}],"title":"Set_width","properties":{"previousName":"width"},"widgets_values":["width"],"color":"#223","serialize_values":[null]},{"id":20,"type":"LoadImage","pos":[-956.8889024522578,1505.6667073567708],"size":[315,314.0000419616699],"flags":{},"order":5,"mode":4,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[22],"shape":3,"label":"图像","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"遮罩"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/9a4e3639fd6ad306a87b99bb68df0394ed7faf68.png@1536w_1536h_0e","image"],"serialize_values":[null,null]},{"id":34,"type":"easy getNode","pos":[-588.8889024522579,1704.6667073567708],"size":{"0":210,"1":58},"flags":{},"order":6,"mode":4,"outputs":[{"name":"INT","type":"INT","links":[33,35,37],"slot_index":0,"label":"INT"}],"title":"Get_height","properties":{},"widgets_values":["height"],"color":"#223","serialize_values":[null]},{"id":33,"type":"easy getNode","pos":[-585.8889024522579,1596.6667073567708],"size":{"0":210,"1":58},"flags":{},"order":7,"mode":4,"outputs":[{"name":"INT","type":"INT","links":[32,34,36],"slot_index":0,"label":"INT"}],"title":"Get_width","properties":{},"widgets_values":["width"],"color":"#223","serialize_values":[null]},{"id":25,"type":"CompositeMotionBrushWithoutModel","pos":[415.5005425307892,1850.0684280355265],"size":{"0":393,"1":78},"flags":{},"order":20,"mode":4,"inputs":[{"name":"motion_brush_layer0","type":"MotionBrush","link":27,"label":"motion_brush_layer0","slot_index":0},{"name":"motion_brush_layer1","type":"MotionBrush","link":46,"label":"motion_brush_layer1","slot_index":1}],"outputs":[{"name":"MotionBrush","type":"MotionBrush","links":[26],"shape":3,"label":"MotionBrush","slot_index":0}],"properties":{"Node name for S&R":"CompositeMotionBrushWithoutModel"},"widgets_values":["override"],"serialize_values":[null]},{"id":28,"type":"ResizeMask","pos":[-358.8889024522575,1974.6667073567708],"size":{"0":315,"1":146},"flags":{},"order":16,"mode":4,"inputs":[{"name":"mask","type":"MASK","link":39,"label":"mask","slot_index":0},{"name":"width","type":"INT","link":36,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":37,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"mask","type":"MASK","links":[47],"shape":3,"label":"mask","slot_index":0},{"name":"width","type":"INT","links":null,"shape":3,"label":"width"},{"name":"height","type":"INT","links":null,"shape":3,"label":"height"}],"properties":{"Node name for S&R":"ResizeMask"},"widgets_values":[512,512,false],"serialize_values":[null,null,null]},{"id":36,"type":"LoadImage","pos":[-951.8889024522578,1948.6667073567708],"size":[315,314.0000419616699],"flags":{},"order":8,"mode":4,"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"shape":3,"label":"图像"},{"name":"MASK","type":"MASK","links":[39],"shape":3,"label":"遮罩","slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/e84f1a138b14f010cb3d30edbd610541dd2eb0e7.png@1536w_1536h_0e","image"],"serialize_values":[null,null]},{"id":27,"type":"InstantObjectMotionBrush","pos":[5.111097547742638,1975.6667073567708],"size":{"0":315,"1":106},"flags":{},"order":18,"mode":4,"inputs":[{"name":"brush_mask","type":"MASK","link":47,"label":"brush_mask","slot_index":0}],"outputs":[{"name":"MotionBrush","type":"MotionBrush","links":[46],"shape":3,"label":"MotionBrush","slot_index":0}],"properties":{"Node name for S&R":"InstantObjectMotionBrush"},"widgets_values":[14,"left",5],"serialize_values":[null,null,null]},{"id":22,"type":"DragNUWA Run MotionBrush","pos":[497.11109754774236,1484.6667073567708],"size":{"0":315,"1":122},"flags":{"collapsed":false},"order":22,"mode":4,"inputs":[{"name":"model","type":"DragNUWA","link":24,"label":"model","slot_index":0},{"name":"image","type":"IMAGE","link":23,"label":"image"},{"name":"motion_brush","type":"MotionBrush","link":26,"label":"motion_brush","slot_index":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[25],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"DragNUWA Run MotionBrush"},"widgets_values":[1,4],"serialize_values":[null,null]},{"id":24,"type":"VHS_VideoCombine","pos":[935.1110975477421,1375.6667073567708],"size":[315,527],"flags":{},"order":24,"mode":4,"inputs":[{"name":"images","type":"IMAGE","link":25,"label":"图像"},{"name":"audio","type":"VHS_AUDIO","link":null},{"name":"batch_manager","type":"VHS_BatchManager","link":null}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null,"shape":3}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":8,"loop_count":0,"filename_prefix":"AnimateDiff","format":"image/gif","pingpong":false,"save_output":true,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"https://boss.aikobo.cn/aigc-public/c700318d0f9be5b87eaf2f9f274882c16684c713fcb61e9d9b4d7faac444f43b.gif","subfolder":"","type":"output","format":"image/gif"}}},"serialize_values":[null,null,"AnimateDiff",null,null,null,null]},{"id":9,"type":"Note","pos":[-142,692],"size":{"0":363.4664001464844,"1":163.81080627441406},"flags":{},"order":9,"mode":0,"properties":{"text":""},"widgets_values":["感谢B站大佬的分享：\n【【保姆级教程】手摸手教会你生成可控动画，基于DragNUWA实现】 https://www.bilibili.com/video/BV1c541117Yi/?share_source=copy_web&vd_source=1ce800d24174e8f27efe0c049257977c\n\n简介中有轨迹描绘地址：\nhttps://chaojie.github.io/ComfyUI-DragNUWA/tools/draw.html"],"color":"#432","bgcolor":"#653","serialize_values":[null]},{"id":26,"type":"InstantCameraMotionBrush","pos":[1,1745],"size":{"0":315,"1":154},"flags":{},"order":15,"mode":4,"inputs":[{"name":"width","type":"INT","link":34,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":35,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"MotionBrush","type":"MotionBrush","links":[27],"shape":3,"label":"MotionBrush"}],"properties":{"Node name for S&R":"InstantCameraMotionBrush"},"widgets_values":[14,576,320,"zoomin",5],"serialize_values":[null,null,null,null,null]}],"links":[[5,5,0,6,0,"IMAGE"],[7,7,0,5,0,"IMAGE"],[8,1,0,10,0,"IMAGE"],[12,10,0,14,1,"IMAGE"],[13,2,0,14,0,"DragNUWA"],[16,2,0,15,0,"DragNUWA"],[18,14,0,7,0,"IMAGE"],[21,15,0,14,2,"MotionBrush"],[22,20,0,21,0,"IMAGE"],[23,21,0,22,1,"IMAGE"],[24,23,0,22,0,"DragNUWA"],[25,22,0,24,0,"IMAGE"],[26,25,0,22,2,"MotionBrush"],[27,26,0,25,0,"MotionBrush"],[30,29,0,30,0,"*"],[31,31,0,32,0,"*"],[32,33,0,21,1,"INT"],[33,34,0,21,2,"INT"],[34,33,0,26,0,"INT"],[35,34,0,26,1,"INT"],[36,33,0,28,1,"INT"],[37,34,0,28,2,"INT"],[39,36,1,28,0,"MASK"],[46,27,0,25,1,"MotionBrush"],[47,28,0,27,0,"MASK"]],"groups":[{"title":"方法1：使用自定义轨迹点进行动画生成","bounding":[-1056,-28,3187,997],"color":"#3f789e","font_size":24,"locked":false},{"title":"方法2：镜头轨迹效果+绘制蒙版后，蒙版内的物体轨迹效果","bounding":[-1058,1099,2318,1174],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}