{"last_node_id": 117, "last_link_id": 197, "nodes": [{"id": 28, "type": "UltralyticsDetectorProvider", "pos": [1380, 100], "size": {"0": 315, "1": 78}, "flags": {}, "order": 0, "mode": 0, "outputs": [{"name": "BBOX_DETECTOR", "type": "BBOX_DETECTOR", "links": [45], "shape": 3, "slot_index": 0}, {"name": "SEGM_DETECTOR", "type": "SEGM_DETECTOR", "links": [46], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "UltralyticsDetectorProvider"}, "widgets_values": ["bbox/face_yolov8n_v2.pt"]}, {"id": 29, "type": "SAMLoader", "pos": [1380, 230], "size": {"0": 315, "1": 82}, "flags": {}, "order": 1, "mode": 0, "outputs": [{"name": "SAM_MODEL", "type": "SAM_MODEL", "links": [47], "shape": 3}], "properties": {"Node name for S&R": "SAMLoader"}, "widgets_values": ["sam_vit_b_01ec64.pth", "AUTO"]}, {"id": 41, "type": "UpscaleModelLoader", "pos": [1380, 370], "size": {"0": 315, "1": 58}, "flags": {}, "order": 2, "mode": 0, "outputs": [{"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [82], "shape": 3}], "properties": {"Node name for S&R": "UpscaleModelLoader"}, "widgets_values": ["4x-UltraSharp.pth"]}, {"id": 23, "type": "CR Aspect Ratio", "pos": [70, 120], "size": {"0": 315, "1": 278}, "flags": {}, "order": 3, "mode": 0, "outputs": [{"name": "width", "type": "FLOAT,INT,NUMBER,STRING", "links": [26, 72], "shape": 3, "slot_index": 0}, {"name": "height", "type": "FLOAT,INT,NUMBER,STRING", "links": [27, 73], "shape": 3, "slot_index": 1}, {"name": "upscale_factor", "type": "FLOAT,INT,NUMBER,STRING", "links": null, "shape": 3}, {"name": "batch_size", "type": "FLOAT,INT,NUMBER,STRING", "links": null, "shape": 3}, {"name": "empty_latent", "type": "LATENT", "links": null, "shape": 3}, {"name": "show_help", "type": "STRING", "links": null, "shape": 3}], "properties": {"Node name for S&R": "CR Aspect Ratio"}, "widgets_values": [768, 768, "custom", "Off", 1, 1], "color": "#233", "bgcolor": "#355"}, {"id": 31, "type": "CR Prompt Text", "pos": [470, 120], "size": {"0": 368.48968505859375, "1": 185.43202209472656}, "flags": {}, "order": 4, "mode": 0, "outputs": [{"name": "prompt", "type": "STRING", "links": [53], "shape": 3, "slot_index": 0}, {"name": "show_help", "type": "STRING", "links": null, "shape": 3}], "properties": {"Node name for S&R": "CR Prompt Text"}, "widgets_values": ["masterpiece,best quality,highres,4k,hdr,"], "color": "#232", "bgcolor": "#353"}, {"id": 27, "type": "FaceDetailer", "pos": [1750, 80], "size": {"0": 506.4000244140625, "1": 808}, "flags": {}, "order": 21, "mode": 4, "inputs": [{"name": "image", "type": "IMAGE", "link": 123, "slot_index": 0}, {"name": "model", "type": "MODEL", "link": 39}, {"name": "clip", "type": "CLIP", "link": 43}, {"name": "vae", "type": "VAE", "link": 42}, {"name": "positive", "type": "CONDITIONING", "link": 40}, {"name": "negative", "type": "CONDITIONING", "link": 41}, {"name": "bbox_detector", "type": "BBOX_DETECTOR", "link": 45, "slot_index": 6}, {"name": "sam_model_opt", "type": "SAM_MODEL", "link": 47, "slot_index": 7}, {"name": "segm_detector_opt", "type": "SEGM_DETECTOR", "link": 46}, {"name": "detailer_hook", "type": "DETAILER_HOOK", "link": null}, {"name": "seed", "type": "INT", "link": 48, "widget": {"name": "seed"}}], "outputs": [{"name": "image", "type": "IMAGE", "links": [96], "shape": 3, "slot_index": 0}, {"name": "cropped_refined", "type": "IMAGE", "links": null, "shape": 6}, {"name": "cropped_enhanced_alpha", "type": "IMAGE", "links": null, "shape": 6}, {"name": "mask", "type": "MASK", "links": null, "shape": 3}, {"name": "detailer_pipe", "type": "DETAILER_PIPE", "links": null, "shape": 3}, {"name": "cnet_images", "type": "IMAGE", "links": null, "shape": 6}], "properties": {"Node name for S&R": "FaceDetailer"}, "widgets_values": [256, true, 768, 274962689266316, "randomize", 4, 1.8, "lcm", "sgm_uniform", 0.5, 5, true, true, 0.5, 10, 3, "center-1", 0, 0.93, 0, 0.7, "False", 10, "", 1]}, {"id": 40, "type": "UltimateSDUpscale", "pos": [2290, 80], "size": {"0": 315, "1": 590}, "flags": {}, "order": 23, "mode": 4, "inputs": [{"name": "image", "type": "IMAGE", "link": 96}, {"name": "model", "type": "MODEL", "link": 78}, {"name": "positive", "type": "CONDITIONING", "link": 79}, {"name": "negative", "type": "CONDITIONING", "link": 80}, {"name": "vae", "type": "VAE", "link": 81}, {"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 82, "slot_index": 5}, {"name": "seed", "type": "INT", "link": 84, "widget": {"name": "seed"}}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [83], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "UltimateSDUpscale"}, "widgets_values": [2, 41537357461330, "randomize", 4, 2, "lcm", "sgm_uniform", 0.35000000000000003, "Linear", 768, 768, 8, 32, "None", 1, 64, 8, 16, "enable"]}, {"id": 13, "type": "Efficient Loader", "pos": [910, 80], "size": {"0": 400, "1": 654}, "flags": {}, "order": 18, "mode": 0, "inputs": [{"name": "lora_stack", "type": "LORA_STACK", "link": null}, {"name": "cnet_stack", "type": "CONTROL_NET_STACK", "link": 13, "slot_index": 1}, {"name": "positive", "type": "STRING", "link": 51, "widget": {"name": "positive"}, "slot_index": 2}, {"name": "empty_latent_width", "type": "INT", "link": 26, "widget": {"name": "empty_latent_width"}}, {"name": "empty_latent_height", "type": "INT", "link": 27, "widget": {"name": "empty_latent_height"}}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": [39, 78, 119], "shape": 3, "slot_index": 0}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": [40, 79, 120], "shape": 3, "slot_index": 1}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": [41, 80, 121], "shape": 3, "slot_index": 2}, {"name": "LATENT", "type": "LATENT", "links": [], "shape": 3, "slot_index": 3}, {"name": "VAE", "type": "VAE", "links": [42, 70, 81, 125], "shape": 3, "slot_index": 4}, {"name": "CLIP", "type": "CLIP", "links": [43], "shape": 3, "slot_index": 5}, {"name": "DEPENDENCIES", "type": "DEPENDENCIES", "links": null, "shape": 3}], "properties": {"Node name for S&R": "Efficient Loader"}, "widgets_values": ["\u5199\u5b9e\u6444\u5f71\\epicrealism_naturalSin.safetensors", "vae-ft-mse-840000-ema-pruned.safetensors", -1, "lcm\\SD1.5\\pytorch_lora_weights.safetensors", 1, 1, "CLIP_POSITIVE", "nsfw,low quality,blurry,\nembedding:quality\\FastNegativeV2, embedding:quality\\EasyNegativeV2, embedding:quality\\badhandv4, ", "none", "comfy", 512, 512, 1], "color": "#332233", "bgcolor": "#553355", "shape": 1}, {"id": 15, "type": "CR Multi-ControlNet Stack", "pos": [70, 450], "size": {"0": 418.1999816894531, "1": 454}, "flags": {}, "order": 14, "mode": 0, "inputs": [{"name": "image_1", "type": "IMAGE", "link": 74}, {"name": "image_2", "type": "IMAGE", "link": 101}, {"name": "image_3", "type": "IMAGE", "link": null}, {"name": "controlnet_stack", "type": "CONTROL_NET_STACK", "link": null}], "outputs": [{"name": "CONTROLNET_STACK", "type": "CONTROL_NET_STACK", "links": [13], "shape": 3, "slot_index": 0}, {"name": "show_help", "type": "STRING", "links": null, "shape": 3}], "properties": {"Node name for S&R": "CR Multi-ControlNet Stack"}, "widgets_values": ["On", "control_v11p_sd15_openpose_fp16.safetensors", 1, 0, 1, "On", "control_v11p_sd15_scribble_fp16.safetensors", 1, 0, 1, "Off", "control_v11p_sd15_mlsd_fp16.safetensors", 0.5, 0, 0.503], "color": "#432", "bgcolor": "#653"}, {"id": 42, "type": "WD14Tagger|pysssss", "pos": [550, 450], "size": {"0": 315, "1": 172.00001525878906}, "flags": {"collapsed": false}, "order": 16, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 192}], "outputs": [{"name": "STRING", "type": "STRING", "links": [], "shape": 6, "slot_index": 0}], "properties": {"Node name for S&R": "WD14Tagger|pysssss"}, "widgets_values": ["wd-v1-4-moat-tagger-v2", 0.35, 0.85, "black_background,simple_background"], "color": "#232", "bgcolor": "#353"}, {"id": 39, "type": "VAEEncode", "pos": [1089, 735], "size": {"0": 210, "1": 46}, "flags": {}, "order": 19, "mode": 0, "inputs": [{"name": "pixels", "type": "IMAGE", "link": 68}, {"name": "vae", "type": "VAE", "link": 70}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [182], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "VAEEncode"}}, {"id": 114, "type": "Note", "pos": [-368, 657], "size": {"0": 352.4917907714844, "1": 406.3528137207031}, "flags": {}, "order": 5, "mode": 0, "title": "Notice", "properties": {"text": ""}, "widgets_values": ["Product by CyberDickLang\n\n1. Bypass the FaceDetailer and Ultimate SD Upscaler will speed up,activate if needed.\u7ed5\u8fc7FaceDetailer\u548cUltimate SD Upcaler\u53ef\u4ee5\u52a0\u901f\u751f\u6210\uff0c\u5982\u679c\u9700\u8981\u4f7f\u7528\u5c31\u6fc0\u6d3b\n\n2. Switch Controlnet could add/remove control layers.\u5207\u6362 Controlnet\u53ef\u4ee5\u6dfb\u52a0/\u5220\u9664\u63a7\u5236\u5c42\n\n3. Support upload Background by painter node IMG tool or ScreenShare from any window.\u652f\u6301\u901a\u8fc7\u753b\u5bb6\u8282\u70b9\u7684IMG\u529f\u80fd\u6216ScreenShare\u4ece\u4efb\u4f55\u7a97\u53e3\u91c7\u96c6\u56fe\u50cf\u4f5c\u4e3a\u80cc\u666f\n\n4. denoise should be 0.5-1,depending on how many background you want to change.Repair image should reduce denoise, and to add elements and characters need to be raised.\u53bb\u566a\u5e94\u8be5\u57280.4-1\uff0c\u8fd9\u53d6\u51b3\u4e8e\u4f60\u60f3\u6539\u53d8\u591a\u5c11\u80cc\u666f\uff0c\u4fee\u590d\u753b\u9762\u5e94\u8be5\u5c3d\u91cf\u964d\u4f4e\uff0c\u589e\u52a0\u5143\u7d20\u548c\u4eba\u7269\u9700\u8981\u8c03\u9ad8\n\n\nHave fun!\n\nWelcome to my channel\nwww.youtube.com/@CyberDickLang\n\nB\u7ad9/\u5c0f\u7ea2\u4e66 \u8d5b\u535a\u8fea\u514b\u6717\nhttps://space.bilibili.com/339984\n\nOr you can find me from\nhttps://civitai.com/user/CyberDickLang\nhttps://openart.ai/@whmc76"], "color": "#a7f5e2", "bgcolor": "#93e1ce"}, {"id": 115, "type": "CR Image Input Switch", "pos": [880, 1230], "size": {"0": 303.0176086425781, "1": 78}, "flags": {}, "order": 13, "mode": 0, "inputs": [{"name": "image1", "type": "IMAGE", "link": 189}, {"name": "image2", "type": "IMAGE", "link": 190}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [192, 193], "shape": 3, "slot_index": 0}, {"name": "show_help", "type": "STRING", "links": null, "shape": 3}], "title": "1 Painter / 2 ScreenShare Background", "properties": {"Node name for S&R": "CR Image Input Switch"}, "widgets_values": [1], "color": "#9debf5", "bgcolor": "#89d7e1"}, {"id": 38, "type": "ImageScale", "pos": [616, 735], "size": {"0": 255.177734375, "1": 122}, "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 193}, {"name": "width", "type": "INT", "link": 72, "widget": {"name": "width"}}, {"name": "height", "type": "INT", "link": 73, "widget": {"name": "height"}}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [68], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImageScale"}, "widgets_values": ["nearest-exact", 512, 512, "disabled"]}, {"id": 36, "type": "PreviewImage", "pos": [1468, 1190], "size": {"0": 820.7188720703125, "1": 873.6705932617188}, "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 124}], "title": "Instant Output", "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 19, "type": "PreviewImage", "pos": [2315, 1190], "size": {"0": 1275.5654296875, "1": 1213.146484375}, "flags": {}, "order": 24, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 83}], "title": "HighRes Fixed Outputs\uff08will slow down your progress", "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 108, "type": "PainterNode", "pos": [286, 1197], "size": {"0": 530, "1": 570}, "flags": {}, "order": 6, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [189], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "title": "Background", "properties": {"Node name for S&R": "PainterNode"}, "widgets_values": ["Paint_0.png", "clear_painer", null], "color": "#222", "bgcolor": "#000"}, {"id": 17, "type": "PainterNode", "pos": [282, 1830], "size": {"0": 530, "1": 570}, "flags": {}, "order": 7, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [101], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}], "title": "Scribble", "properties": {"Node name for S&R": "PainterNode"}, "widgets_values": ["Paint_1.png", "clear_painer", null], "color": "#323", "bgcolor": "#535"}, {"id": 113, "type": "ScreenShare", "pos": [-124, 1213], "size": {"0": 315, "1": 142}, "flags": {}, "order": 8, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [190], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": null, "shape": 3}, {"name": "STRING", "type": "STRING", "links": null, "shape": 3}], "properties": {"Node name for S&R": "ScreenShare"}}, {"id": 16, "type": "PoseNode", "pos": [870, 1781], "size": {"0": 530, "1": 620}, "flags": {}, "order": 9, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [74], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "PoseNode"}, "widgets_values": ["Pose_0.png", "add_pose", "reset_pose", null], "color": "#432", "bgcolor": "#653"}, {"id": 51, "type": "KSampler (Efficient)", "pos": [1380, 490], "size": {"0": 325, "1": 558}, "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 119}, {"name": "positive", "type": "CONDITIONING", "link": 120}, {"name": "negative", "type": "CONDITIONING", "link": 121}, {"name": "latent_image", "type": "LATENT", "link": 182}, {"name": "optional_vae", "type": "VAE", "link": 125}, {"name": "script", "type": "SCRIPT", "link": null}, {"name": "seed", "type": "INT", "link": 197, "widget": {"name": "seed"}}, {"name": "denoise", "type": "FLOAT", "link": 196, "widget": {"name": "denoise"}, "slot_index": 7}], "outputs": [{"name": "MODEL", "type": "MODEL", "links": null, "shape": 3}, {"name": "CONDITIONING+", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "CONDITIONING-", "type": "CONDITIONING", "links": null, "shape": 3}, {"name": "LATENT", "type": "LATENT", "links": null, "shape": 3}, {"name": "VAE", "type": "VAE", "links": null, "shape": 3}, {"name": "IMAGE", "type": "IMAGE", "links": [123, 124], "shape": 3, "slot_index": 5}], "properties": {"Node name for S&R": "KSampler (Efficient)"}, "widgets_values": [1114911606344911, null, 8, 2, "lcm", "sgm_uniform", 0.81, "auto", "true"], "color": "#223333", "bgcolor": "#335555", "shape": 1}, {"id": 24, "type": "CR Seed", "pos": [1055, 944], "size": {"0": 267.9176025390625, "1": 102}, "flags": {}, "order": 10, "mode": 0, "outputs": [{"name": "seed", "type": "FLOAT,INT,NUMBER,STRING", "links": [48, 84, 197], "shape": 3, "slot_index": 0}, {"name": "show_help", "type": "STRING", "links": null, "shape": 3}], "title": "Change Seed If Not Refresh", "properties": {"Node name for S&R": "CR Seed"}, "widgets_values": [264120176003389, "fixed"], "color": "#233", "bgcolor": "#355"}, {"id": 20, "type": "CR Prompt Text", "pos": [993, 1539], "size": {"0": 322.5951232910156, "1": 136.8673858642578}, "flags": {}, "order": 11, "mode": 0, "outputs": [{"name": "prompt", "type": "STRING", "links": [52], "shape": 3, "slot_index": 0}, {"name": "show_help", "type": "STRING", "links": null, "shape": 3}], "properties": {"Node name for S&R": "CR Prompt Text"}, "widgets_values": ["fantasy landscape,"], "color": "#232", "bgcolor": "#353"}, {"id": 117, "type": "Float", "pos": [1156, 1383], "size": {"0": 210, "1": 58}, "flags": {}, "order": 12, "mode": 0, "outputs": [{"name": "FLOAT", "type": "FLOAT,INT,NUMBER,STRING", "links": [196], "shape": 3, "slot_index": 0}], "title": "denoise", "properties": {"Node name for S&R": "Float"}, "widgets_values": [0.84], "color": "#322", "bgcolor": "#533"}, {"id": 30, "type": "Text Concatenate", "pos": [550, 400], "size": {"0": 315, "1": 178}, "flags": {"collapsed": true}, "order": 15, "mode": 0, "inputs": [{"name": "text_a", "type": "STRING", "link": 53, "widget": {"name": "text_a"}}, {"name": "text_b", "type": "STRING", "link": 52, "widget": {"name": "text_b"}}, {"name": "text_c", "type": "STRING", "link": null, "widget": {"name": "text_c"}, "slot_index": 2}, {"name": "text_d", "type": "STRING", "link": null, "widget": {"name": "text_d"}}], "outputs": [{"name": "STRING", "type": "STRING", "links": [51], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "Text Concatenate"}, "widgets_values": ["", "", "false", "", "", ","], "color": "#232", "bgcolor": "#353"}], "links": [[13, 15, 0, 13, 1, "CONTROL_NET_STACK"], [26, 23, 0, 13, 3, "INT"], [27, 23, 1, 13, 4, "INT"], [39, 13, 0, 27, 1, "MODEL"], [40, 13, 1, 27, 4, "CONDITIONING"], [41, 13, 2, 27, 5, "CONDITIONING"], [42, 13, 4, 27, 3, "VAE"], [43, 13, 5, 27, 2, "CLIP"], [45, 28, 0, 27, 6, "BBOX_DETECTOR"], [46, 28, 1, 27, 8, "SEGM_DETECTOR"], [47, 29, 0, 27, 7, "SAM_MODEL"], [48, 24, 0, 27, 10, "INT"], [51, 30, 0, 13, 2, "STRING"], [52, 20, 0, 30, 1, "STRING"], [53, 31, 0, 30, 0, "STRING"], [68, 38, 0, 39, 0, "IMAGE"], [70, 13, 4, 39, 1, "VAE"], [72, 23, 0, 38, 1, "INT"], [73, 23, 1, 38, 2, "INT"], [74, 16, 0, 15, 0, "IMAGE"], [78, 13, 0, 40, 1, "MODEL"], [79, 13, 1, 40, 2, "CONDITIONING"], [80, 13, 2, 40, 3, "CONDITIONING"], [81, 13, 4, 40, 4, "VAE"], [82, 41, 0, 40, 5, "UPSCALE_MODEL"], [83, 40, 0, 19, 0, "IMAGE"], [84, 24, 0, 40, 6, "INT"], [96, 27, 0, 40, 0, "IMAGE"], [101, 17, 0, 15, 1, "IMAGE"], [119, 13, 0, 51, 0, "MODEL"], [120, 13, 1, 51, 1, "CONDITIONING"], [121, 13, 2, 51, 2, "CONDITIONING"], [123, 51, 5, 27, 0, "IMAGE"], [124, 51, 5, 36, 0, "IMAGE"], [125, 13, 4, 51, 4, "VAE"], [182, 39, 0, 51, 3, "LATENT"], [189, 108, 0, 115, 0, "IMAGE"], [190, 113, 0, 115, 1, "IMAGE"], [192, 115, 0, 42, 0, "IMAGE"], [193, 115, 0, 38, 0, "IMAGE"], [196, 117, 0, 51, 7, "FLOAT"], [197, 24, 0, 51, 6, "INT"]], "groups": [{"title": "Process", "bounding": [8, 3, 2853, 1062], "color": "#3f789e", "font_size": 24, "locked": false}, {"title": "Workspace", "bounding": [-368, 1086, 1796, 1381], "color": "#8A8", "font_size": 24, "locked": false}, {"title": "Outputs", "bounding": [1449, 1088, 2169, 1354], "color": "#3f789e", "font_size": 24, "locked": false}], "config": {}, "extra": {}, "version": 0.4}