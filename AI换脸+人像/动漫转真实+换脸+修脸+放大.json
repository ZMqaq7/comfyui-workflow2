{"last_node_id":120,"last_link_id":183,"nodes":[{"id":15,"type":"IPAdapterModelLoader","pos":[400.7318270530996,1241.4177954092215],"size":{"0":383.2153625488281,"1":61.25181198120117},"flags":{},"order":0,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[10],"shape":3,"label":"IP\u9002\u914d","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-faceid-plusv2_sd15.bin"],"serialize_values":[null]},{"id":19,"type":"IPAdapterInsightFaceLoader","pos":[470.73182705309927,1491.4177954092215],"size":{"0":315,"1":58},"flags":{},"order":1,"mode":0,"outputs":[{"name":"INSIGHTFACE","type":"INSIGHTFACE","links":[13],"shape":3,"label":"INSIGHTFACE"}],"properties":{"Node name for S&R":"IPAdapterInsightFaceLoader"},"widgets_values":["CUDA"],"serialize_values":[null]},{"id":51,"type":"Reroute","pos":[360.12194661973837,988.2795313521493],"size":[75,26],"flags":{},"order":26,"mode":0,"inputs":[{"name":"","type":"*","link":80,"label":""}],"outputs":[{"name":"","type":"MODEL","links":[70],"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":61,"type":"Reroute","pos":[362.7318270530993,1060.4177954092208],"size":[75,26],"flags":{},"order":23,"mode":0,"inputs":[{"name":"","type":"*","link":84,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[83],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":22,"type":"Load RetinaFace","pos":[560.7318270530993,1001.4177954092194],"size":{"0":210,"1":26},"flags":{},"order":2,"mode":0,"outputs":[{"name":"MODEL","type":"RETINAFACE","links":[20],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"Load RetinaFace"}},{"id":58,"type":"Reroute","pos":[192.2238014128195,1230.0098026051553],"size":[75,26],"flags":{},"order":31,"mode":0,"inputs":[{"name":"","type":"*","link":164,"label":""}],"outputs":[{"name":"","type":"LATENT","links":[88],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":66,"type":"SAMLoader","pos":[-850.5539361504665,2360.185721788618],"size":{"0":315,"1":82},"flags":{},"order":3,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[90],"shape":3,"label":"SAM\u6a21\u578b","slot_index":0}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","AUTO"],"serialize_values":[null,null]},{"id":73,"type":"Upscale by Factor with Model (WLSH)","pos":[568.4747228450193,2501.434723903645],"size":{"0":315,"1":102},"flags":{},"order":42,"mode":0,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":103,"label":"upscale_model"},{"name":"image","type":"IMAGE","link":183,"label":"image","slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[108],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"Upscale by Factor with Model (WLSH)"},"widgets_values":["nearest-exact",2],"serialize_values":[null,null]},{"id":77,"type":"Reroute","pos":[203.47472284501808,2508.434723903645],"size":[75,26],"flags":{},"order":24,"mode":0,"inputs":[{"name":"","type":"*","link":117,"label":""}],"outputs":[{"name":"","type":"VAE","links":[106,107],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":72,"type":"UpscaleModelLoader","pos":[185.474722845018,2653.434723903645],"size":{"0":315,"1":58},"flags":{},"order":4,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[103],"shape":3,"label":"\u653e\u5927\u6a21\u578b","slot_index":0}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["ESRGAN_4x.pth"],"serialize_values":[null]},{"id":56,"type":"Reroute","pos":[187.2238014128195,1059.0098026051562],"size":[75,26],"flags":{},"order":27,"mode":0,"inputs":[{"name":"","type":"*","link":75,"label":""}],"outputs":[{"name":"","type":"CONDITIONING","links":[92,115,157],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":78,"type":"Reroute","pos":[203.47472284501808,2363.434723903645],"size":[75,26],"flags":{},"order":39,"mode":0,"inputs":[{"name":"","type":"*","link":143,"label":""}],"outputs":[{"name":"","type":"MODEL","links":[120],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":79,"type":"Reroute","pos":[203.47472284501808,2403.434723903645],"size":[75,26],"flags":{},"order":32,"mode":0,"inputs":[{"name":"","type":"*","link":115,"label":""}],"outputs":[{"name":"","type":"CONDITIONING","links":[121],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":80,"type":"Reroute","pos":[203.47472284501808,2453.434723903645],"size":[75,26],"flags":{},"order":33,"mode":0,"inputs":[{"name":"","type":"*","link":116,"label":""}],"outputs":[{"name":"","type":"CONDITIONING","links":[122],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":75,"type":"VAEEncode","pos":[673.4747228450173,2657.434723903645],"size":{"0":210,"1":46},"flags":{"collapsed":false},"order":43,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":108,"label":"\u56fe\u50cf"},{"name":"vae","type":"VAE","link":106,"label":"VAE","slot_index":1}],"outputs":[{"name":"LATENT","type":"LATENT","links":[123],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":68,"type":"CLIPSetLastLayer","pos":[-854.5135543054183,2134.4019744418547],"size":{"0":315,"1":58},"flags":{},"order":29,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":126,"label":"CLIP","slot_index":0}],"outputs":[{"name":"CLIP","type":"CLIP","links":[89],"shape":3,"label":"CLIP","slot_index":0}],"properties":{"Node name for S&R":"CLIPSetLastLayer"},"widgets_values":[-2],"serialize_values":[null]},{"id":21,"type":"Crop Face","pos":[460.7318270530993,1071.417795409221],"size":{"0":315,"1":122},"flags":{},"order":30,"mode":0,"inputs":[{"name":"model","type":"RETINAFACE","link":20,"label":"model","slot_index":0},{"name":"image","type":"IMAGE","link":83,"label":"image","slot_index":1}],"outputs":[{"name":"face_image","type":"IMAGE","links":[17],"shape":3,"label":"face_image","slot_index":0},{"name":"preview","type":"IMAGE","links":[],"shape":3,"label":"preview","slot_index":1},{"name":"bbox","type":"BBOX","links":null,"shape":3,"label":"bbox"}],"properties":{"Node name for S&R":"Crop Face"},"widgets_values":[0.8,32],"serialize_values":[null,null]},{"id":18,"type":"CLIPVisionLoader","pos":[420.7318270530995,1351.4177954092215],"size":{"0":363.1012878417969,"1":79.02130889892578},"flags":{},"order":5,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[12],"shape":3,"label":"CLIP\u89c6\u89c9"}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["ip_adaptor_sd15_pytorch_model.bin"],"serialize_values":[null]},{"id":16,"type":"IPAdapterFaceID","pos":[872.655242934801,1219.9303327174237],"size":{"0":315,"1":326},"flags":{},"order":35,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":10,"label":"ipadapter"},{"name":"clip_vision","type":"CLIP_VISION","link":12,"label":"clip_vision","slot_index":1},{"name":"insightface","type":"INSIGHTFACE","link":13,"label":"insightface","slot_index":2},{"name":"image","type":"IMAGE","link":17,"label":"image","slot_index":3},{"name":"model","type":"MODEL","link":70,"label":"model","slot_index":4},{"name":"attn_mask","type":"MASK","link":null,"label":"attn_mask","slot_index":5},{"name":"image_negative","type":"IMAGE","link":"null","label":"image_negative"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[64],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterFaceID"},"widgets_values":[1,"1","linear","concat",0,1,"V only"],"serialize_values":[null,null,null,null,null,null,null,null]},{"id":44,"type":"VideoLinearCFGGuidance","pos":[1236.6552429348008,1227.9303327174237],"size":{"0":210,"1":58},"flags":{},"order":36,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":64,"label":"model","slot_index":0}],"outputs":[{"name":"MODEL","type":"MODEL","links":[142],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"VideoLinearCFGGuidance"},"widgets_values":[4],"serialize_values":[null]},{"id":88,"type":"Reroute","pos":[1297.6552429348008,1404.9303327174237],"size":[75,26],"flags":{},"order":37,"mode":0,"inputs":[{"name":"","type":"*","link":142,"label":""}],"outputs":[{"name":"","type":"MODEL","links":[131,143,171],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":90,"type":"Reroute","pos":[-444.16028445675823,1028.9895340253117],"size":[75,26],"flags":{},"order":12,"mode":0,"inputs":[{"name":"","type":"*","link":150,"label":""}],"outputs":[{"name":"","type":"MODEL","links":[141],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":49,"type":"LoraLoader","pos":[-780.1602844567584,1039.9895340253117],"size":{"0":314.0726623535156,"1":126},"flags":{},"order":13,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":134,"label":"\u6a21\u578b"},{"name":"clip","type":"CLIP","link":67,"label":"CLIP"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[],"shape":3,"label":"\u6a21\u578b","slot_index":0},{"name":"CLIP","type":"CLIP","links":[],"shape":3,"label":"CLIP","slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["Miao girl costume(v1.0)",0.8,0.8],"serialize_values":["912_1865_2260@27f9e3346e.safetensors",null,null]},{"id":57,"type":"Reroute","pos":[190.2238014128195,1108.0098026051555],"size":[75,26],"flags":{},"order":28,"mode":0,"inputs":[{"name":"","type":"*","link":76,"label":""}],"outputs":[{"name":"","type":"CONDITIONING","links":[94,116,158],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":89,"type":"Reroute","pos":[-444.16028445675823,1073.9895340253117],"size":[75,26],"flags":{},"order":14,"mode":0,"inputs":[{"name":"","type":"*","link":152,"label":""}],"outputs":[{"name":"","type":"CLIP","links":[137,138,140],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":48,"type":"CheckpointLoaderSimple","pos":[-1127.1602844567597,1039.9895340253117],"size":{"0":315,"1":98},"flags":{},"order":6,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[134,150],"slot_index":0,"label":"\u6a21\u578b"},{"name":"CLIP","type":"CLIP","links":[67,152],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["majicMIX realistic(v7)"],"serialize_values":["192_3750_4424@7c819b6d13.safetensors"]},{"id":76,"type":"VAEDecode","pos":[1278.6894626481915,2445.625340017138],"size":{"0":210,"1":46},"flags":{},"order":45,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":124,"label":"Latent"},{"name":"vae","type":"VAE","link":107,"label":"VAE","slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[153],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":20,"type":"LoadImage","pos":[-1133.7761985871798,1327.009802605156],"size":{"0":382.54638671875,"1":594.9655151367188},"flags":{},"order":7,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[81],"shape":3,"label":"\u56fe\u50cf","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"\u906e\u7f69"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/cbea433cf8507568556ddc21cba549878ceae5bd.png@1536w_1536h_0e","image"],"serialize_values":[null,null]},{"id":83,"type":"KSamplerAdvanced //Inspire","pos":[924.6894626481909,2406.625340017138],"size":{"0":315,"1":450},"flags":{},"order":44,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":120,"label":"\u6a21\u578b"},{"name":"positive","type":"CONDITIONING","link":121,"label":"\u6b63\u9762\u63d0\u793a\u8bcd"},{"name":"negative","type":"CONDITIONING","link":122,"label":"\u8d1f\u9762\u63d0\u793a\u8bcd"},{"name":"latent_image","type":"LATENT","link":123,"label":"Latent"},{"name":"noise_opt","type":"NOISE","link":null,"label":"noise_opt"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[124],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"KSamplerAdvanced //Inspire"},"widgets_values":[true,699502567014808,"randomize",25,4.5,"euler","normal",15,10000,"GPU(=A1111)",false,"incremental",0,0],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{"id":47,"type":"BNK_CLIPTextEncodeAdvanced","pos":[-318.160284456759,1597.9895340253117],"size":{"0":400,"1":200},"flags":{},"order":21,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":138,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[76],"shape":3,"label":"\u6761\u4ef6","slot_index":0}],"properties":{"Node name for S&R":"BNK_CLIPTextEncodeAdvanced"},"widgets_values":["foot,nsfw, nude,(worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), bad anatomy,DeepNegative, skin spots, acnes, skin blemishes,(fat:1.2),facing away, looking away,tilted head, lowres,bad anatomy,bad hands, missing fingers,extra digit, fewer digits,bad feet,poorly drawn hands,poorly drawn face,mutation,deformed,extra fingers,extra limbs,extra arms,extra legs,malformed limbs,fused fingers,too many fingers,long neck,cross-eyed,mutated hands,polar lowres,bad body,bad proportions,gross proportions,missing arms,missing legs,extra digit, extra arms, extra leg, extra foot,teethcroppe,signature, watermark, username,blurry,cropped,jpeg artifacts,text,error\uff0cembedding:EasyNegative, \nembedding:bad-picture-chill-75v, ","mean","A1111"],"color":"#322","bgcolor":"#533","serialize_values":["foot,nsfw, nude,(worst quality:2), (low quality:2), (normal quality:2), lowres, ((monochrome)), ((grayscale)), bad anatomy,DeepNegative, skin spots, acnes, skin blemishes,(fat:1.2),facing away, looking away,tilted head, lowres,bad anatomy,bad hands, missing fingers,extra digit, fewer digits,bad feet,poorly drawn hands,poorly drawn face,mutation,deformed,extra fingers,extra limbs,extra arms,extra legs,malformed limbs,fused fingers,too many fingers,long neck,cross-eyed,mutated hands,polar lowres,bad body,bad proportions,gross proportions,missing arms,missing legs,extra digit, extra arms, extra leg, extra foot,teethcroppe,signature, watermark, username,blurry,cropped,jpeg artifacts,text,error\uff0cembedding:EasyNegative, \nembedding:bad-picture-chill-75v, ",null,null]},{"id":50,"type":"VAELoader","pos":[-862,1217],"size":{"0":499.009521484375,"1":58},"flags":{},"order":8,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[78],"shape":3,"slot_index":0,"label":"VAE"}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["vae-ft-mse-840000-ema-pruned@735e4c3a44.safetensors"],"serialize_values":[null]},{"id":46,"type":"BNK_CLIPTextEncodeAdvanced","pos":[-321.04862467447924,1124.7040930853948],"size":{"0":406.7105407714844,"1":412.543212890625},"flags":{},"order":20,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":137,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[75],"shape":3,"label":"\u6761\u4ef6","slot_index":0}],"properties":{"Node name for S&R":"BNK_CLIPTextEncodeAdvanced"},"widgets_values":["Masterpiece, best quality, realism, 8k, official art, movie light, ultra high resolution, perfect female body, sharp focus, national style, 1 girl, ","mean","A1111"],"color":"#232","bgcolor":"#353","serialize_values":["Masterpiece, best quality, realism, 8k, official art, movie light, ultra high resolution, perfect female body, sharp focus, national style, 1 girl, ",null,null]},{"id":98,"type":"ControlNetLoader","pos":[360,2075],"size":{"0":315,"1":58},"flags":{},"order":9,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[156],"shape":3,"label":"ControlNet","slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v11p_sd15_canny.pth"],"serialize_values":[null]},{"id":116,"type":"VAEEncode","pos":[-643.3140197630798,1513.6219401123249],"size":{"0":210,"1":46},"flags":{},"order":25,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":163,"label":"\u56fe\u50cf"},{"name":"vae","type":"VAE","link":166,"label":"VAE"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[164],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":94,"type":"SaveImage","pos":[1556,1014],"size":{"0":1639.3763427734375,"1":1660.0877685546875},"flags":{"pinned":false},"order":46,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":153,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"],"serialize_values":["ComfyUI"]},{"id":114,"type":"LineArtPreprocessor","pos":[713,2032],"size":{"0":315,"1":82},"flags":{},"order":17,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":161,"label":"\u56fe\u50cf"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[162],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"LineArtPreprocessor"},"widgets_values":["disable",1024],"serialize_values":[null,null]},{"id":115,"type":"DF_Image_scale_to_side","pos":[-686,1639],"size":{"0":315,"1":130},"flags":{},"order":18,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":165,"label":"\u56fe\u50cf","slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[163],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"Image scale to side"},"widgets_values":[768,"Longest","nearest-exact","disabled"],"serialize_values":[null,null,null,null]},{"id":111,"type":"ACN_AdvancedControlNetApply","pos":[692,1715],"size":{"0":342.5999755859375,"1":266},"flags":{},"order":34,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":157,"label":"\u6b63\u9762\u6761\u4ef6","slot_index":0},{"name":"negative","type":"CONDITIONING","link":158,"label":"\u8d1f\u9762\u6761\u4ef6","slot_index":1},{"name":"control_net","type":"CONTROL_NET","link":156,"label":"ControlNet"},{"name":"image","type":"IMAGE","link":162,"label":"\u56fe\u50cf"},{"name":"mask_optional","type":"MASK","link":null,"label":"\u906e\u7f69"},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null},{"name":"model_optional","type":"MODEL","link":null}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[159],"shape":3,"label":"\u6b63\u9762\u6761\u4ef6","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[160],"shape":3,"label":"\u8d1f\u9762\u6761\u4ef6","slot_index":1},{"name":"model_opt","type":"MODEL","links":null,"shape":3}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[1,0,1],"serialize_values":[null,null,null]},{"id":63,"type":"KSamplerAdvanced //Inspire","pos":[1116.9670567412013,1795.668164618893],"size":{"0":315,"1":450},"flags":{},"order":38,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":131,"label":"\u6a21\u578b"},{"name":"positive","type":"CONDITIONING","link":159,"label":"\u6b63\u9762\u63d0\u793a\u8bcd"},{"name":"negative","type":"CONDITIONING","link":160,"label":"\u8d1f\u9762\u63d0\u793a\u8bcd"},{"name":"latent_image","type":"LATENT","link":88,"label":"Latent"},{"name":"noise_opt","type":"NOISE","link":null,"label":"noise_opt"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[98],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"KSamplerAdvanced //Inspire"},"widgets_values":[true,886990407666613,"randomize",40,8,"euler","normal",30,10000,"GPU(=A1111)",false,"incremental",0,0],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null]},{"id":67,"type":"UltralyticsDetectorProvider","pos":[-851.7023308242686,2237.6278082545305],"size":{"0":315,"1":78},"flags":{},"order":10,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[93],"shape":3,"label":"BBox\u68c0\u6d4b","slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[],"shape":3,"label":"SEGM\u68c0\u6d4b","slot_index":1}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/face_yolov8m.pt"],"serialize_values":[null]},{"id":60,"type":"Reroute","pos":[188.22380141281954,1307.009802605156],"size":[75,26],"flags":{},"order":15,"mode":0,"inputs":[{"name":"","type":"*","link":81,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[84],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":69,"type":"VAEDecode","pos":[1152,1705],"size":{"0":210,"1":46},"flags":{},"order":40,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":98,"label":"Latent"},{"name":"vae","type":"VAE","link":99,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[169],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":55,"type":"Reroute","pos":[179.20165921445778,996.3872575747763],"size":[75,26],"flags":{},"order":19,"mode":0,"inputs":[{"name":"","type":"*","link":141,"label":""}],"outputs":[{"name":"","type":"MODEL","links":[80],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":84,"type":"Reroute","pos":[185.20165921445778,1586.3872575747775],"size":[75,26],"flags":{},"order":22,"mode":0,"inputs":[{"name":"","type":"*","link":140,"label":""}],"outputs":[{"name":"","type":"CLIP","links":[126],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":59,"type":"Reroute","pos":[188.22380141281954,1167.0098026051555],"size":[75,26],"flags":{},"order":16,"mode":0,"inputs":[{"name":"","type":"*","link":78,"label":""}],"outputs":[{"name":"","type":"VAE","links":[95,99,117,166],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":65,"type":"FaceDetailer","pos":[-414.70233082426876,2078.6278082545305],"size":{"0":506.4000244140625,"1":880.0001220703125},"flags":{},"order":41,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":169,"label":"\u56fe\u50cf"},{"name":"model","type":"MODEL","link":171,"label":"\u6a21\u578b"},{"name":"clip","type":"CLIP","link":89,"label":"CLIP","slot_index":2},{"name":"vae","type":"VAE","link":95,"label":"VAE"},{"name":"positive","type":"CONDITIONING","link":92,"label":"\u6b63\u9762\u63d0\u793a\u8bcd"},{"name":"negative","type":"CONDITIONING","link":94,"label":"\u8d1f\u9762\u63d0\u793a\u8bcd"},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":93,"label":"BBox\u68c0\u6d4b"},{"name":"sam_model_opt","type":"SAM_MODEL","link":90,"label":"SAM\u6a21\u578b"},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null,"label":"Segm\u68c0\u6d4b"},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"\u7ec6\u5316\u7ea6\u675f"}],"outputs":[{"name":"image","type":"IMAGE","links":[183],"shape":3,"label":"\u56fe\u50cf","slot_index":0},{"name":"cropped_refined","type":"IMAGE","links":[],"shape":6,"label":"\u7ec6\u5316\u56fe\u50cf","slot_index":1},{"name":"cropped_enhanced_alpha","type":"IMAGE","links":null,"shape":6,"label":"\u7ec6\u5316\u90e8\u5206"},{"name":"mask","type":"MASK","links":null,"shape":3,"label":"\u906e\u7f69"},{"name":"detailer_pipe","type":"DETAILER_PIPE","links":null,"shape":3,"label":"\u7ec6\u5316\u8282\u70b9\u675f"},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6,"label":"ControlNet\u56fe\u50cf"}],"properties":{"Node name for S&R":"FaceDetailer"},"widgets_values":[384,true,1024,1066250011045981,"randomize",20,8,"euler","normal",0.5,5,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"",1,false,20],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",null,null,null]},{"id":112,"type":"LoadImage","pos":[353,1708],"size":{"0":315,"1":314},"flags":{},"order":11,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[161,165],"shape":3,"label":"\u56fe\u50cf","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"\u906e\u7f69"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/4d325a13702ddae52710013b4137039f062617ac.jpg@1536w_1536h_0e","image"],"serialize_values":[null,null]}],"links":[[10,15,0,16,0,"IPADAPTER"],[12,18,0,16,1,"CLIP_VISION"],[13,19,0,16,2,"INSIGHTFACE"],[17,21,0,16,3,"IMAGE"],[20,22,0,21,0,"RETINAFACE"],[64,16,0,44,0,"MODEL"],[67,48,1,49,1,"CLIP"],[70,51,0,16,4,"MODEL"],[75,46,0,56,0,"*"],[76,47,0,57,0,"*"],[78,50,0,59,0,"*"],[80,55,0,51,0,"*"],[81,20,0,60,0,"*"],[83,61,0,21,1,"IMAGE"],[84,60,0,61,0,"*"],[88,58,0,63,3,"LATENT"],[89,68,0,65,2,"CLIP"],[90,66,0,65,7,"SAM_MODEL"],[92,56,0,65,4,"CONDITIONING"],[93,67,0,65,6,"BBOX_DETECTOR"],[94,57,0,65,5,"CONDITIONING"],[95,59,0,65,3,"VAE"],[98,63,0,69,0,"LATENT"],[99,59,0,69,1,"VAE"],[103,72,0,73,0,"UPSCALE_MODEL"],[106,77,0,75,1,"VAE"],[107,77,0,76,1,"VAE"],[108,73,0,75,0,"IMAGE"],[115,56,0,79,0,"*"],[116,57,0,80,0,"*"],[117,59,0,77,0,"*"],[120,78,0,83,0,"MODEL"],[121,79,0,83,1,"CONDITIONING"],[122,80,0,83,2,"CONDITIONING"],[123,75,0,83,3,"LATENT"],[124,83,0,76,0,"LATENT"],[126,84,0,68,0,"CLIP"],[131,88,0,63,0,"MODEL"],[134,48,0,49,0,"MODEL"],[137,89,0,46,0,"CLIP"],[138,89,0,47,0,"CLIP"],[140,89,0,84,0,"*"],[141,90,0,55,0,"*"],[142,44,0,88,0,"*"],[143,88,0,78,0,"*"],[150,48,0,90,0,"*"],[152,48,1,89,0,"*"],[153,76,0,94,0,"IMAGE"],[156,98,0,111,2,"CONTROL_NET"],[157,56,0,111,0,"CONDITIONING"],[158,57,0,111,1,"CONDITIONING"],[159,111,0,63,1,"CONDITIONING"],[160,111,1,63,2,"CONDITIONING"],[161,112,0,114,0,"IMAGE"],[162,114,0,111,3,"IMAGE"],[163,115,0,116,0,"IMAGE"],[164,116,0,58,0,"*"],[165,112,0,115,0,"IMAGE"],[166,59,0,116,1,"VAE"],[169,69,0,65,0,"IMAGE"],[171,88,0,65,1,"MODEL"],[183,65,0,73,1,"IMAGE"]],"groups":[{"title":"FaceId","bounding":[336,926,1134,671],"color":"#3f789e","font_size":24,"locked":false},{"title":"\u57fa\u7840","bounding":[-1160,922,1437,1027],"color":"#3f789e","font_size":24,"locked":false},{"title":"\u9884\u89c8","bounding":[1538,936,1676,1770],"color":"#3f789e","font_size":24,"locked":false},{"title":"\u7b2c\u4e00\u6b65\u751f\u6210\u56fe\u7247","bounding":[1088,1628,379,658],"color":"#3f789e","font_size":24,"locked":false},{"title":"\u8138\u90e8\u4fee\u590d","bounding":[-913,1979,1042,989],"color":"#3f789e","font_size":24,"locked":false},{"title":"\u56fe\u7247\u653e\u5927","bounding":[163,2312,1351,569],"color":"#3f789e","font_size":24,"locked":false},{"title":"\u4e8c\u6b21\u5143\u8f6c\u7ed8","bounding":[332,1625,721,548],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}