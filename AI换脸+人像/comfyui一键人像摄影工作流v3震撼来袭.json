{"last_node_id":208,"last_link_id":429,"nodes":[{"id":39,"type":"PreviewImage","pos":[-270,-840],"size":{"0":340,"1":440},"flags":{},"order":21,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":67,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":22,"type":"InstantIDFaceAnalysis","pos":[-930,720],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":0,"mode":0,"outputs":[{"name":"FACEANALYSIS","type":"FACEANALYSIS","links":[28],"shape":3,"label":"FACEANALYSIS","slot_index":0}],"properties":{"Node name for S&R":"InstantIDFaceAnalysis","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["CUDA"],"color":"rgba(0,0,0,.8)"},{"id":23,"type":"DiffControlNetLoader","pos":[-930,750],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":14,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":38,"slot_index":0}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[29],"shape":3,"label":"ControlNet","slot_index":0}],"properties":{"Node name for S&R":"DiffControlNetLoader","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["instantid\\diffusion_pytorch_model.safetensors"],"color":"rgba(0,0,0,.8)"},{"id":54,"type":"PreviewImage","pos":[-270,-310],"size":{"0":350,"1":480},"flags":{},"order":36,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":81,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":109,"type":"PreviewImage","pos":[110,-310],"size":{"0":370,"1":480},"flags":{},"order":35,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":242,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":7,"type":"CLIPTextEncode","pos":[-1170,760],"size":{"0":210,"1":62.70165252685547},"flags":{"collapsed":true},"order":16,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":5,"label":"CLIP"},{"name":"text","type":"STRING","link":17,"widget":{"name":"text"},"label":"文本"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[34],"slot_index":0,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["(worst quality, low quality:1.4),(malformed hands:1.4),(poorly drawn hands:1.4),(mutated fingers:1.4),(extra limbs:1.35),(poorly drawn face:1.4),missing legs,(extra legs:1.4),missing arms,extra arm,ugly,huge eyes,fat,worst face,(close shot:1.1),text,watermark,blurry eyes,extra fingers,embedding:EasyNegativeV2, embedding:ng_deepnegative_v1_75t,Many people, many people"],"color":"rgba(0,0,0,.8)"},{"id":152,"type":"GrowMask","pos":[-1610,990],"size":{"0":315,"1":82},"flags":{"collapsed":true},"order":22,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":314,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[313],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"GrowMask","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[10,true],"color":"rgba(0,0,0,.8)"},{"id":134,"type":"ConstrainImage|pysssss","pos":[-610,60],"size":{"0":315,"1":154},"flags":{},"order":9,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":270,"label":"图像"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"shape":6,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"ConstrainImage|pysssss","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[1024,1024,0,0,"no"],"color":"rgba(0,0,0,.8)"},{"id":141,"type":"KSampler","pos":[540,-530],"size":{"0":310,"1":470},"flags":{},"order":49,"mode":4,"inputs":[{"name":"model","type":"MODEL","link":381,"label":"模型","slot_index":0},{"name":"positive","type":"CONDITIONING","link":400,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":379,"label":"负面条件"},{"name":"latent_image","type":"LATENT","link":289,"label":"Latent"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[291],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"KSampler","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[576826031729745,"randomize",20,2,"dpmpp_2m_sde","karras",0.44],"color":"rgba(0,0,0,.8)"},{"id":143,"type":"VAEDecode","pos":[540,-750],"size":{"0":310,"1":50},"flags":{},"order":50,"mode":4,"inputs":[{"name":"samples","type":"LATENT","link":291,"label":"Latent"},{"name":"vae","type":"VAE","link":382,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[375],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":186,"type":"ImageToMask","pos":[-1140,850],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":45,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":399,"label":"图像","slot_index":0}],"outputs":[{"name":"MASK","type":"MASK","links":[401],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"ImageToMask","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["red"],"color":"rgba(0,0,0,.8)"},{"id":191,"type":"EmptyImage","pos":[-1270,850],"size":{"0":320,"1":130},"flags":{"collapsed":true},"order":44,"mode":0,"inputs":[{"name":"width","type":"INT","link":397,"widget":{"name":"width"},"label":"宽度"},{"name":"height","type":"INT","link":398,"widget":{"name":"height"},"label":"高度"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[399],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"EmptyImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[512,512,1,16777215],"color":"rgba(0,0,0,.8)"},{"id":21,"type":"InstantIDModelLoader","pos":[-930,690],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":1,"mode":0,"outputs":[{"name":"INSTANTID","type":"INSTANTID","links":[27],"shape":3,"label":"INSTANTID","slot_index":0}],"properties":{"Node name for S&R":"InstantIDModelLoader","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["ip-adapter.bin"],"color":"rgba(0,0,0,.8)"},{"id":194,"type":"VAEEncode","pos":[10,930],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":40,"mode":4,"inputs":[{"name":"pixels","type":"IMAGE","link":403,"label":"图像"},{"name":"vae","type":"VAE","link":404,"label":"VAE"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[405],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":108,"type":"Bounded Image Crop with Mask","pos":[-610,-310],"size":{"0":315,"1":150},"flags":{},"order":31,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":326,"label":"图像","slot_index":0},{"name":"mask","type":"MASK","link":423,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[242],"shape":3,"label":"图像","slot_index":0},{"name":"IMAGE_BOUNDS","type":"IMAGE_BOUNDS","links":[],"shape":3,"label":"边界","slot_index":1}],"properties":{"Node name for S&R":"Bounded Image Crop with Mask","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[10,10,10,10],"color":"rgba(0,0,0,.8)"},{"id":53,"type":"Bounded Image Crop with Mask","pos":[-610,-120],"size":{"0":315,"1":150},"flags":{},"order":34,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":107,"label":"图像","slot_index":0},{"name":"mask","type":"MASK","link":427,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[81,237,303],"shape":3,"label":"图像","slot_index":0},{"name":"IMAGE_BOUNDS","type":"IMAGE_BOUNDS","links":null,"shape":3,"label":"边界","slot_index":1}],"properties":{"Node name for S&R":"Bounded Image Crop with Mask","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[10,10,10,10],"color":"rgba(0,0,0,.8)"},{"id":138,"type":"Reroute","pos":[-1590,930],"size":[75,26],"flags":{},"order":13,"mode":0,"inputs":[{"name":"","type":"*","link":316}],"outputs":[{"name":"","type":"MASK","links":[314],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false,"ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":156,"type":"MaskToImage","pos":[-1610,1070],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":28,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":418,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[321],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":137,"type":"Reroute","pos":[-1060,930],"size":[75,26],"flags":{},"order":11,"mode":0,"inputs":[{"name":"","type":"*","link":287}],"outputs":[{"name":"","type":"MASK","links":[310],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false,"ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":153,"type":"ImpactGaussianBlurMask","pos":[-1610,1030],"size":{"0":315,"1":82},"flags":{"collapsed":true},"order":25,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":313,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[418,425],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"ImpactGaussianBlurMask","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[100,30],"color":"rgba(0,0,0,.8)"},{"id":28,"type":"CLIPSeg","pos":[-610,-820],"size":{"0":315,"1":170},"flags":{},"order":12,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":91,"label":"图像"}],"outputs":[{"name":"Mask","type":"MASK","links":[426],"shape":3,"label":"遮罩","slot_index":0},{"name":"Heatmap Mask","type":"IMAGE","links":[67],"shape":3,"label":"热度图","slot_index":1},{"name":"BW Mask","type":"IMAGE","links":null,"shape":3,"label":"灰度图","slot_index":2}],"properties":{"Node name for S&R":"CLIPSeg","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["face,head",7,0.4,10],"color":"rgba(0,0,0,.8)"},{"id":157,"type":"PreviewImage","pos":[-1430,920],"size":{"0":210,"1":250},"flags":{},"order":33,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":321,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":207,"type":"ImpactSwitch","pos":[-1550,770],"size":{"0":210,"1":120},"flags":{"collapsed":true},"order":29,"mode":0,"inputs":[{"name":"input1","type":"MASK","link":425,"label":"输入1"},{"name":"input2","type":"MASK","link":426,"label":"输入2"},{"name":"select","type":"INT","link":428,"widget":{"name":"select"},"label":"选择","slot_index":2},{"name":"input3","type":"MASK","link":null,"label":"输入3"}],"outputs":[{"name":"MASK","type":"MASK","links":[427],"shape":3,"label":"MASK","slot_index":0},{"name":"selected_label","type":"STRING","links":null,"shape":3,"label":"标签"},{"name":"selected_index","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"ImpactSwitch"},"widgets_values":[1,true],"color":"#346434"},{"id":6,"type":"CLIPTextEncode","pos":[-1270,130],"size":{"0":630,"1":110},"flags":{},"order":15,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":3,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[235],"slot_index":0,"label":"条件"}],"properties":{"Node name for S&R":"CLIPTextEncode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["beautiful girl"],"color":"rgba(0,0,0,.8)"},{"id":155,"type":"PreviewImage","pos":[-890,920],"size":{"0":190,"1":250},"flags":{},"order":30,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":319,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":147,"type":"Image Comparer (rgthree)","pos":{"0":940,"1":250,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":700,"1":870},"flags":{},"order":53,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":307,"dir":3,"label":"image_a"},{"name":"image_b","type":"IMAGE","link":308,"dir":3,"label":"image_b"}],"outputs":[],"properties":{"comparer_mode":"Slide","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[["/view?filename=rgthree.compare._temp_uenzz_00203_.png&type=temp&subfolder=&rand=0.23441728327218248","/view?filename=rgthree.compare._temp_uenzz_00204_.png&type=temp&subfolder=&rand=0.4601865867577952"]],"color":"rgba(0,0,0,.8)"},{"id":144,"type":"SaveImage","pos":[190,260],"size":{"0":670,"1":870},"flags":{},"order":52,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":299,"label":"图像"}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["ComfyUI"],"color":"#1f1f48"},{"id":145,"type":"Any Switch (rgthree)","pos":[-890,790],"size":{"0":210,"1":106},"flags":{"collapsed":true},"order":51,"mode":0,"inputs":[{"name":"any_01","type":"IMAGE","link":375,"label":"输入_01","dir":3},{"name":"any_02","type":"IMAGE","link":376,"label":"输入_02","dir":3},{"name":"any_03","type":"IMAGE","link":306,"label":"输入_03","dir":3},{"name":"any_04","type":"IMAGE","link":null,"label":"输入_04","dir":3},{"name":"any_05","type":"IMAGE","link":null,"label":"输入_05","dir":3}],"outputs":[{"name":"*","type":"IMAGE","links":[299,308],"shape":3,"label":"IMAGE","dir":4,"slot_index":0}],"properties":{"Node name for S&R":"Any Switch (rgthree)","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":169,"type":"VAEEncode","pos":[-210,870],"size":{"0":210,"1":46},"flags":{"collapsed":false},"order":18,"mode":4,"inputs":[{"name":"pixels","type":"IMAGE","link":344,"label":"图像"},{"name":"vae","type":"VAE","link":345,"label":"VAE"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[346],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":170,"type":"VAEDecode","pos":[-210,960],"size":{"0":210,"1":46},"flags":{"collapsed":false},"order":23,"mode":4,"inputs":[{"name":"samples","type":"LATENT","link":346,"label":"Latent"},{"name":"vae","type":"VAE","link":348,"label":"VAE","slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[371],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":20,"type":"ApplyInstantID","pos":[-610,260],"size":{"0":315,"1":266},"flags":{},"order":37,"mode":0,"inputs":[{"name":"instantid","type":"INSTANTID","link":27,"label":"instantid","slot_index":0},{"name":"insightface","type":"FACEANALYSIS","link":28,"label":"insightface","slot_index":1},{"name":"control_net","type":"CONTROL_NET","link":29,"label":"control_net","slot_index":2},{"name":"image","type":"IMAGE","link":237,"label":"image","slot_index":3},{"name":"model","type":"MODEL","link":39,"label":"model","slot_index":4},{"name":"positive","type":"CONDITIONING","link":235,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":34,"label":"negative"},{"name":"image_kps","type":"IMAGE","link":324,"label":"image_kps","slot_index":7},{"name":"mask","type":"MASK","link":null,"label":"mask"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[96,381],"shape":3,"label":"MODEL","slot_index":0},{"name":"positive","type":"CONDITIONING","links":[36,400],"shape":3,"label":"positive","slot_index":1},{"name":"negative","type":"CONDITIONING","links":[37,379],"shape":3,"label":"negative","slot_index":2}],"properties":{"Node name for S&R":"ApplyInstantID","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[0.8,0,1],"color":"rgba(0,0,0,.8)"},{"id":150,"type":"GrowMask","pos":[-1080,990],"size":{"0":315,"1":82},"flags":{"collapsed":true},"order":20,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":310,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[311],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"GrowMask","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[10,true],"color":"rgba(0,0,0,.8)"},{"id":151,"type":"ImpactGaussianBlurMask","pos":[-1090,1020],"size":{"0":315,"1":82},"flags":{"collapsed":true},"order":24,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":311,"label":"遮罩"}],"outputs":[{"name":"MASK","type":"MASK","links":[318,419],"shape":3,"label":"遮罩","slot_index":0}],"properties":{"Node name for S&R":"ImpactGaussianBlurMask","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[100,30],"color":"rgba(0,0,0,.8)"},{"id":154,"type":"MaskToImage","pos":[-1080,1050],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":26,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":318,"label":"遮罩"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[319],"shape":3,"label":"图像","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":185,"type":"SetLatentNoiseMask","pos":[-980,850],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":46,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":384,"label":"Latent"},{"name":"mask","type":"MASK","link":401,"label":"遮罩","slot_index":1}],"outputs":[{"name":"LATENT","type":"LATENT","links":[406],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"SetLatentNoiseMask","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":148,"type":"ReActorFaceSwap","pos":[-230,280],"size":{"0":370,"1":420},"flags":{},"order":38,"mode":4,"inputs":[{"name":"input_image","type":"IMAGE","link":371,"label":"目标图像"},{"name":"source_image","type":"IMAGE","link":303,"label":"源图像"},{"name":"face_model","type":"FACE_MODEL","link":null,"label":"面部模型"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[372,376,403],"shape":3,"label":"图像","slot_index":0},{"name":"FACE_MODEL","type":"FACE_MODEL","links":null,"shape":3,"label":"面部模型"}],"properties":{"Node name for S&R":"ReActorFaceSwap","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[true,"inswapper_128.onnx","retinaface_resnet50","codeformer-v0.1.0.pth",1,0.5,"no","no","0","0",1],"color":"rgba(0,0,0,.8)"},{"id":184,"type":"Any Switch (rgthree)","pos":[-1020,800],"size":{"0":210,"1":106},"flags":{"collapsed":true},"order":42,"mode":0,"inputs":[{"name":"any_01","type":"IMAGE","link":372,"label":"输入_01","dir":3},{"name":"any_02","type":"IMAGE","link":373,"label":"输入_02","dir":3},{"name":"any_03","type":"IMAGE","link":null,"label":"输入_03","dir":3},{"name":"any_04","type":"IMAGE","link":null,"label":"输入_04","dir":3},{"name":"any_05","type":"IMAGE","link":null,"label":"输入_05","dir":3}],"outputs":[{"name":"*","type":"IMAGE","links":[],"shape":3,"label":"IMAGE","dir":4,"slot_index":0}],"properties":{"Node name for S&R":"Any Switch (rgthree)","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":204,"type":"ImpactSwitch","pos":[-1570,810],"size":{"0":210,"1":120},"flags":{"collapsed":true},"order":27,"mode":0,"inputs":[{"name":"input1","type":"MASK","link":419,"label":"输入1"},{"name":"input2","type":"MASK","link":422,"label":"输入2"},{"name":"select","type":"INT","link":421,"widget":{"name":"select"},"label":"选择","slot_index":2},{"name":"input3","type":"MASK","link":null,"label":"输入3"}],"outputs":[{"name":"MASK","type":"MASK","links":[423,424],"shape":3,"label":"MASK","slot_index":0},{"name":"selected_label","type":"STRING","links":null,"shape":3,"label":"标签"},{"name":"selected_index","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"ImpactSwitch"},"widgets_values":[1,true],"color":"#c09430"},{"id":11,"type":"VAEEncode","pos":[-1160,790],"size":{"0":140,"1":46},"flags":{"collapsed":true},"order":17,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":322,"label":"图像"},{"name":"vae","type":"VAE","link":14,"label":"VAE"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[13],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":15,"type":"PresetText|pysssss","pos":[-1160,730],"size":{"0":210,"1":82},"flags":{"collapsed":true},"order":2,"mode":0,"outputs":[{"name":"text","type":"STRING","links":[17],"slot_index":0,"label":"文本"}],"properties":{"ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["default negative","Manage"],"color":"rgba(0,0,0,.8)"},{"id":192,"type":"ImageSizeAndBatchSize","pos":[-1450,840],"size":{"0":210,"1":66},"flags":{"collapsed":true},"order":43,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":394,"label":"图像"}],"outputs":[{"name":"width","type":"INT","links":[397],"shape":3,"label":"宽度","slot_index":0},{"name":"height","type":"INT","links":[398],"shape":3,"label":"高度","slot_index":1},{"name":"batch_size","type":"INT","links":null,"shape":3,"label":"批次大小"}],"properties":{"Node name for S&R":"ImageSizeAndBatchSize","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":8,"type":"VAEDecode","pos":[-1420,810],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":41,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":7,"label":"Latent"},{"name":"vae","type":"VAE","link":8,"label":"VAE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[306,373,394],"slot_index":0,"label":"图像"}],"properties":{"Node name for S&R":"VAEDecode","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":13,"type":"SetLatentNoiseMask","pos":[-1430,780],"size":{"0":140,"1":46},"flags":{"collapsed":true},"order":32,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":13,"label":"Latent"},{"name":"mask","type":"MASK","link":424,"label":"遮罩"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[223],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"SetLatentNoiseMask","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":3,"type":"KSampler","pos":[-610,570],"size":{"0":329.5974426269531,"1":499.39678955078125},"flags":{},"order":39,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":96,"label":"模型"},{"name":"positive","type":"CONDITIONING","link":36,"label":"正面条件"},{"name":"negative","type":"CONDITIONING","link":37,"label":"负面条件"},{"name":"latent_image","type":"LATENT","link":223,"label":"Latent"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[7,384],"slot_index":0,"label":"Latent"}],"properties":{"Node name for S&R":"KSampler","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":[164843826903040,"randomize",8,2,"dpmpp_sde","karras",1],"color":"rgba(0,0,0,.8)"},{"id":140,"type":"LatentUpscaleBy","pos":[540,-650],"size":{"0":310,"1":82},"flags":{},"order":48,"mode":4,"inputs":[{"name":"samples","type":"LATENT","link":407,"label":"Latent","slot_index":0}],"outputs":[{"name":"LATENT","type":"LATENT","links":[289],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"LatentUpscaleBy","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["nearest-exact",1.5],"color":"rgba(0,0,0,.8)"},{"id":195,"type":"Any Switch (rgthree)","pos":[-790,850],"size":{"0":210,"1":106},"flags":{"collapsed":true},"order":47,"mode":0,"inputs":[{"name":"any_01","type":"LATENT","link":405,"label":"输入_01","dir":3},{"name":"any_02","type":"LATENT","link":406,"label":"输入_02","dir":3},{"name":"any_03","type":"LATENT","link":null,"label":"输入_03","dir":3},{"name":"any_04","type":"LATENT","link":null,"label":"输入_04","dir":3},{"name":"any_05","type":"LATENT","link":null,"label":"输入_05","dir":3}],"outputs":[{"name":"*","type":"LATENT","links":[407],"shape":3,"label":"LATENT","dir":4,"slot_index":0}],"properties":{"Node name for S&R":"Any Switch (rgthree)","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":104,"type":"LoadImage","pos":[-1140,-830],"size":{"0":490,"1":730},"flags":{"collapsed":false},"order":3,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[270,275,307,322,324,326,344],"shape":3,"label":"图像","slot_index":0},{"name":"MASK","type":"MASK","links":[287],"shape":3,"label":"遮罩","slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["clipspace/clipspace-mask-28726406.199999988.png [input]","image"],"color":"#c09430"},{"id":105,"type":"CLIPSeg","pos":[-610,-590],"size":{"0":315,"1":170},"flags":{},"order":10,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":275,"label":"图像"}],"outputs":[{"name":"Mask","type":"MASK","links":[422],"shape":3,"label":"遮罩","slot_index":0},{"name":"Heatmap Mask","type":"IMAGE","links":[240],"shape":3,"label":"热度图","slot_index":1},{"name":"BW Mask","type":"IMAGE","links":null,"shape":3,"label":"灰度图"}],"properties":{"Node name for S&R":"CLIPSeg","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["face,head",7,0.4,10],"color":"rgba(0,0,0,.8)"},{"id":10,"type":"LoadImage","pos":[-1670,-830],"size":{"0":500,"1":730},"flags":{"collapsed":false},"order":4,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[91,107],"shape":3,"label":"图像","slot_index":0},{"name":"MASK","type":"MASK","links":[316],"shape":3,"label":"遮罩","slot_index":1}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["clipspace/clipspace-mask-28709830.199999988.png [input]","image"],"color":"#346434"},{"id":206,"type":"easy int","pos":[-850,-50],"size":{"0":210,"1":140},"flags":{},"order":5,"mode":0,"outputs":[{"name":"int","type":"INT","links":[421,428],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"easy int"},"widgets_values":[2],"color":"#008181"},{"id":107,"type":"PreviewImage","pos":[100,-840],"size":{"0":340,"1":440},"flags":{},"order":19,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":240,"label":"图像"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":4,"type":"CheckpointLoaderSimple","pos":[-1270,-50],"size":{"0":380,"1":140},"flags":{},"order":6,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[38,39],"slot_index":0,"label":"模型"},{"name":"CLIP","type":"CLIP","links":[3,5],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[8,14,345,348,382,404],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"widgets_values":["turbovisionxlSuperFastXLBasedOnNew_tvxlV431Bakedvae.safetensors"],"color":"rgba(0,0,0,.8)"},{"id":136,"type":"Fast Groups Bypasser (rgthree)","pos":{"0":-1630,"1":-40,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":340,"1":290},"flags":{},"order":7,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null,"label":"OPT_CONNECTION"}],"properties":{"matchColors":"","matchTitle":"","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default","ttNbgOverride":{"color":"rgba(0,0,0,.8)","groupcolor":"#444"}},"color":"rgba(0,0,0,.8)"},{"id":149,"type":"Note","pos":[-1630,300],"size":{"0":960,"1":310},"flags":{},"order":8,"mode":0,"properties":{"text":""},"widgets_values":["开发作者：Rick早点睡\nB站主页：https://space.bilibili.com/11954986\n\n说明：\n- 第一张图片上传需要换脸的人，第二张照片上传目标脸部替换照片。\n- 自动蒙版切换设置为1采用手动蒙版，设置为2表示自动蒙版。\n- 高清放大和reactor都是可选功能，可以开启或者关闭"],"color":"#c09430"}],"links":[[3,4,1,6,0,"CLIP"],[5,4,1,7,0,"CLIP"],[7,3,0,8,0,"LATENT"],[8,4,2,8,1,"VAE"],[13,11,0,13,0,"LATENT"],[14,4,2,11,1,"VAE"],[17,15,0,7,1,"STRING"],[27,21,0,20,0,"INSTANTID"],[28,22,0,20,1,"FACEANALYSIS"],[29,23,0,20,2,"CONTROL_NET"],[34,7,0,20,6,"CONDITIONING"],[36,20,1,3,1,"CONDITIONING"],[37,20,2,3,2,"CONDITIONING"],[38,4,0,23,0,"MODEL"],[39,4,0,20,4,"MODEL"],[67,28,1,39,0,"IMAGE"],[81,53,0,54,0,"IMAGE"],[91,10,0,28,0,"IMAGE"],[96,20,0,3,0,"MODEL"],[107,10,0,53,0,"IMAGE"],[223,13,0,3,3,"LATENT"],[235,6,0,20,5,"CONDITIONING"],[237,53,0,20,3,"IMAGE"],[240,105,1,107,0,"IMAGE"],[242,108,0,109,0,"IMAGE"],[270,104,0,134,0,"IMAGE"],[275,104,0,105,0,"IMAGE"],[287,104,1,137,0,"*"],[289,140,0,141,3,"LATENT"],[291,141,0,143,0,"LATENT"],[299,145,0,144,0,"IMAGE"],[303,53,0,148,1,"IMAGE"],[306,8,0,145,2,"IMAGE"],[307,104,0,147,0,"IMAGE"],[308,145,0,147,1,"IMAGE"],[310,137,0,150,0,"MASK"],[311,150,0,151,0,"MASK"],[313,152,0,153,0,"MASK"],[314,138,0,152,0,"MASK"],[316,10,1,138,0,"*"],[318,151,0,154,0,"MASK"],[319,154,0,155,0,"IMAGE"],[321,156,0,157,0,"IMAGE"],[322,104,0,11,0,"IMAGE"],[324,104,0,20,7,"IMAGE"],[326,104,0,108,0,"IMAGE"],[344,104,0,169,0,"IMAGE"],[345,4,2,169,1,"VAE"],[346,169,0,170,0,"LATENT"],[348,4,2,170,1,"VAE"],[371,170,0,148,0,"IMAGE"],[372,148,0,184,0,"*"],[373,8,0,184,1,"IMAGE"],[375,143,0,145,0,"IMAGE"],[376,148,0,145,1,"IMAGE"],[379,20,2,141,2,"CONDITIONING"],[381,20,0,141,0,"MODEL"],[382,4,2,143,1,"VAE"],[384,3,0,185,0,"LATENT"],[394,8,0,192,0,"IMAGE"],[397,192,0,191,0,"INT"],[398,192,1,191,1,"INT"],[399,191,0,186,0,"IMAGE"],[400,20,1,141,1,"CONDITIONING"],[401,186,0,185,1,"MASK"],[403,148,0,194,0,"IMAGE"],[404,4,2,194,1,"VAE"],[405,194,0,195,0,"*"],[406,185,0,195,1,"LATENT"],[407,195,0,140,0,"LATENT"],[418,153,0,156,0,"MASK"],[419,151,0,204,0,"*"],[421,206,0,204,2,"INT"],[422,105,0,204,1,"MASK"],[423,204,0,108,1,"MASK"],[424,204,0,13,1,"MASK"],[425,153,0,207,0,"MASK"],[426,28,0,207,1,"MASK"],[427,207,0,53,1,"MASK"],[428,206,0,207,2,"INT"]],"groups":[{"title":"【B站Rick不想上班】一键人像换脸工作流V2","bounding":[-1024,-1074,1216,80],"color":"#444","font_size":60,"locked":false},{"title":"手动蒙版","bounding":[-1634,884,966,295],"color":"#b06634","font_size":24,"locked":false},{"title":"功能区","bounding":[-1628,620,962,244],"color":"#8AA","font_size":24,"locked":false},{"title":"高清放大","bounding":[491,-874,414,1033],"color":"#a1309b","font_size":24,"locked":false},{"title":"输入区","bounding":[-1676,-898,1048,808],"color":"#3f789e","font_size":24,"locked":false},{"title":"最终结果预览","bounding":[165,185,1501,946],"color":"#b06634","font_size":24,"locked":false},{"title":"自动遮罩","bounding":[-620,-894,1087,514],"color":"#8A8","font_size":24,"locked":false},{"title":"Reactor增强换脸","bounding":[-248,184,392,950],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}