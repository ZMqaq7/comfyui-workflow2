{"last_node_id": 213, "last_link_id": 393, "nodes": [{"id": 117, "type": "ControlNetApplyAdvanced", "pos": [2042.568508652344, 2580.820797968751], "size": {"0": 315, "1": 166}, "flags": {}, "order": 29, "mode": 0, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": 221}, {"name": "negative", "type": "CONDITIONING", "link": 220}, {"name": "control_net", "type": "CONTROL_NET", "link": 182, "slot_index": 2}, {"name": "image", "type": "IMAGE", "link": 183, "slot_index": 3}], "outputs": [{"name": "positive", "type": "CONDITIONING", "links": [242], "shape": 3, "slot_index": 0}, {"name": "negative", "type": "CONDITIONING", "links": [239], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "ControlNetApplyAdvanced"}, "widgets_values": [1, 0, 1], "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 118, "type": "ControlNetLoader", "pos": [1682.568508652344, 2820.820797968751], "size": {"0": 315, "1": 58}, "flags": {}, "order": 0, "mode": 0, "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [182], "shape": 3}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["ControlNet-v1-1\\control_v11p_sd15_inpaint.pth"], "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 137, "type": "VAEDecode", "pos": [3252.568508652344, 2470.820797968751], "size": {"0": 210, "1": 46}, "flags": {}, "order": 32, "mode": 0, "inputs": [{"name": "samples", "type": "LATENT", "link": 215}, {"name": "vae", "type": "VAE", "link": 216}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [270], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "VAEDecode"}}, {"id": 73, "type": "YamlConfigLoader", "pos": [139.12680078613278, 1990], "size": {"0": 315, "1": 58}, "flags": {}, "order": 1, "mode": 0, "outputs": [{"name": "YAML_CONFIG", "type": "YAML_CONFIG", "links": [97], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "YamlConfigLoader"}, "widgets_values": ["config.yaml"], "color": "#232", "bgcolor": "#353"}, {"id": 151, "type": "WD14Tagger|pysssss", "pos": [1282.568508652344, 2260.820797968751], "size": {"0": 320, "1": 172}, "flags": {}, "order": 23, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 296}], "outputs": [{"name": "STRING", "type": "STRING", "links": [243], "shape": 6, "slot_index": 0}], "properties": {"Node name for S&R": "WD14Tagger|pysssss"}, "widgets_values": ["wd-v1-4-convnextv2-tagger-v2", 0.35, 0.85, "", "monochrome, greyscale, outdoors, water, tree, no_humans, traditional_media, plant, nature, scenery, forest, rain, rock"], "color": "#322", "bgcolor": "#533"}, {"id": 173, "type": "Reroute", "pos": [1082.568508652344, 2180.820797968751], "size": [75, 26], "flags": {}, "order": 22, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 376}], "outputs": [{"name": "", "type": "IMAGE", "links": [296, 298, 374], "slot_index": 0}], "properties": {"showOutputText": false, "horizontal": false}, "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 189, "type": "SAMModelLoader (segment anything)", "pos": [-674, 1197], "size": {"0": 315, "1": 58}, "flags": {}, "order": 2, "mode": 0, "outputs": [{"name": "SAM_MODEL", "type": "SAM_MODEL", "links": [335, 345], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "SAMModelLoader (segment anything)"}, "widgets_values": ["sam_hq_vit_h (2.57GB)"], "color": "#332922", "bgcolor": "#593930"}, {"id": 184, "type": "GroundingDinoModelLoader (segment anything)", "pos": [-718, 1306], "size": {"0": 361.20001220703125, "1": 58}, "flags": {}, "order": 3, "mode": 0, "outputs": [{"name": "GROUNDING_DINO_MODEL", "type": "GROUNDING_DINO_MODEL", "links": [331, 346], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "GroundingDinoModelLoader (segment anything)"}, "widgets_values": ["GroundingDINO_SwinT_OGC (694MB)"], "color": "#332922", "bgcolor": "#593930"}, {"id": 198, "type": "AddMask", "pos": [159.12680078613278, 1870], "size": {"0": 210, "1": 46}, "flags": {}, "order": 13, "mode": 0, "inputs": [{"name": "mask1", "type": "MASK", "link": 351}, {"name": "mask2", "type": "MASK", "link": 352}], "outputs": [{"name": "MASK", "type": "MASK", "links": [353], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "AddMask"}}, {"id": 72, "type": "LamaModelLoader", "pos": [489.12680078613306, 1990], "size": {"0": 229.20001220703125, "1": 46}, "flags": {}, "order": 8, "mode": 0, "inputs": [{"name": "config", "type": "YAML_CONFIG", "link": 97, "slot_index": 0}], "outputs": [{"name": "LAMA", "type": "LAMA", "links": [102], "shape": 3, "slot_index": 0}, {"name": "YAML_CONFIG", "type": "YAML_CONFIG", "links": [103], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "LamaModelLoader"}, "color": "#232", "bgcolor": "#353"}, {"id": 68, "type": "LamaApply", "pos": [788.1268007861331, 1794], "size": {"0": 210, "1": 86}, "flags": {}, "order": 19, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 88}, {"name": "mask", "type": "MASK", "link": 267, "slot_index": 1}, {"name": "lama", "type": "LAMA", "link": 102, "slot_index": 2}, {"name": "config", "type": "YAML_CONFIG", "link": 103, "slot_index": 3}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [92, 376], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "LamaApply"}, "color": "#232", "bgcolor": "#353"}, {"id": 115, "type": "KSampler", "pos": [2912.568508652344, 2470.820797968751], "size": {"0": 315, "1": 474.00006103515625}, "flags": {}, "order": 31, "mode": 0, "inputs": [{"name": "model", "type": "MODEL", "link": 287, "slot_index": 0}, {"name": "positive", "type": "CONDITIONING", "link": 240}, {"name": "negative", "type": "CONDITIONING", "link": 241}, {"name": "latent_image", "type": "LATENT", "link": 213}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [215], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "KSampler"}, "widgets_values": [1125114034827448, "randomize", 25, 7, "dpmpp_2m", "karras", 1]}, {"id": 172, "type": "Reroute", "pos": [2291.568508652344, 2186.820797968751], "size": [75, 26], "flags": {}, "order": 24, "mode": 0, "inputs": [{"name": "", "type": "*", "link": 298}], "outputs": [{"name": "", "type": "IMAGE", "links": [292, 299], "slot_index": 0}], "properties": {"showOutputText": false, "horizontal": false}, "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 135, "type": "VAEEncode", "pos": [2502.568508652344, 2850.820797968751], "size": {"0": 210, "1": 46}, "flags": {}, "order": 27, "mode": 0, "inputs": [{"name": "pixels", "type": "IMAGE", "link": 299}, {"name": "vae", "type": "VAE", "link": 214, "slot_index": 1}], "outputs": [{"name": "LATENT", "type": "LATENT", "links": [213], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "VAEEncode"}}, {"id": 204, "type": "InvertMask", "pos": [199, 1607], "size": {"0": 210, "1": 26}, "flags": {"collapsed": true}, "order": 14, "mode": 0, "inputs": [{"name": "mask", "type": "MASK", "link": 369}], "outputs": [{"name": "MASK", "type": "MASK", "links": [370], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "InvertMask"}}, {"id": 149, "type": "ControlNetApplyAdvanced", "pos": [2471.568508652344, 2583.820797968751], "size": {"0": 315, "1": 166}, "flags": {}, "order": 30, "mode": 0, "inputs": [{"name": "positive", "type": "CONDITIONING", "link": 242}, {"name": "negative", "type": "CONDITIONING", "link": 239}, {"name": "control_net", "type": "CONTROL_NET", "link": 236, "slot_index": 2}, {"name": "image", "type": "IMAGE", "link": 292}], "outputs": [{"name": "positive", "type": "CONDITIONING", "links": [240], "shape": 3, "slot_index": 0}, {"name": "negative", "type": "CONDITIONING", "links": [241], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "ControlNetApplyAdvanced"}, "widgets_values": [0.8, 0, 0.4], "color": "#233", "bgcolor": "#355"}, {"id": 150, "type": "ControlNetLoader", "pos": [2067.568508652344, 2820.820797968751], "size": {"0": 315, "1": 58}, "flags": {}, "order": 4, "mode": 0, "outputs": [{"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [236], "shape": 3}], "properties": {"Node name for S&R": "ControlNetLoader"}, "widgets_values": ["ControlNet-v1-1\\control_v11f1e_sd15_tile.pth"], "color": "#233", "bgcolor": "#355"}, {"id": 136, "type": "VAELoader", "pos": [2500.568508652344, 2949.820797968751], "size": {"0": 315, "1": 58}, "flags": {"collapsed": true}, "order": 5, "mode": 0, "outputs": [{"name": "VAE", "type": "VAE", "links": [214, 216], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "VAELoader"}, "widgets_values": ["vae-ft-mse-840000-ema-pruned.safetensors"]}, {"id": 134, "type": "CheckpointLoaderSimple", "pos": [726.568508652344, 2445.820797968751], "size": {"0": 315, "1": 98}, "flags": {}, "order": 6, "mode": 0, "outputs": [{"name": "MODEL", "type": "MODEL", "links": [287], "shape": 3, "slot_index": 0}, {"name": "CLIP", "type": "CLIP", "links": [218, 219], "shape": 3, "slot_index": 1}, {"name": "VAE", "type": "VAE", "links": null, "shape": 3}], "properties": {"Node name for S&R": "CheckpointLoaderSimple"}, "widgets_values": ["\ud83d\ude0e-v1.x\\meinamix_meinaV11.safetensors"]}, {"id": 45, "type": "PreviewImage", "pos": [1077.1268007861331, 1794], "size": {"0": 297.4424133300781, "1": 282.6348571777344}, "flags": {}, "order": 21, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 92}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 195, "type": "SaveImage", "pos": [1470, 1600], "size": {"0": 315, "1": 270}, "flags": {}, "order": 20, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 363}], "properties": {}, "widgets_values": ["ComfyUI"]}, {"id": 207, "type": "SaveImage", "pos": [1469, 1271], "size": {"0": 315, "1": 270}, "flags": {}, "order": 18, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 393}], "properties": {}, "widgets_values": ["ComfyUI"]}, {"id": 208, "type": "PreviewImage", "pos": [1401, 2833], "size": [252.916132719218, 246], "flags": {}, "order": 28, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 382}], "properties": {"Node name for S&R": "PreviewImage"}}, {"id": 119, "type": "InpaintPreprocessor", "pos": [1197, 2742], "size": {"0": 168, "1": 46}, "flags": {}, "order": 25, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 374}, {"name": "mask", "type": "MASK", "link": 279}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [183, 382], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "InpaintPreprocessor"}, "color": "#2a363b", "bgcolor": "#3f5159"}, {"id": 157, "type": "SaveImage", "pos": [3490, 2470], "size": [572.0191894531235, 603.9863759765617], "flags": {}, "order": 33, "mode": 0, "inputs": [{"name": "images", "type": "IMAGE", "link": 270}], "properties": {}, "widgets_values": ["ComfyUI"]}, {"id": 201, "type": "JoinImageWithAlpha", "pos": [400, 1560], "size": {"0": 210, "1": 46}, "flags": {}, "order": 17, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 358}, {"name": "alpha", "type": "MASK", "link": 370}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [363], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "JoinImageWithAlpha"}}, {"id": 185, "type": "GroundingDinoSAMSegment (segment anything)", "pos": [-302, 1384], "size": {"0": 352.79998779296875, "1": 122}, "flags": {}, "order": 10, "mode": 0, "inputs": [{"name": "sam_model", "type": "SAM_MODEL", "link": 335, "slot_index": 0}, {"name": "grounding_dino_model", "type": "GROUNDING_DINO_MODEL", "link": 331}, {"name": "image", "type": "IMAGE", "link": 338}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [391], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": [351, 387], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "GroundingDinoSAMSegment (segment anything)"}, "widgets_values": ["human", 0.3], "color": "#332922", "bgcolor": "#593930"}, {"id": 205, "type": "InvertMask", "pos": [199, 1440], "size": {"0": 210, "1": 26}, "flags": {"collapsed": true}, "order": 12, "mode": 0, "inputs": [{"name": "mask", "type": "MASK", "link": 387}], "outputs": [{"name": "MASK", "type": "MASK", "links": [392], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "InvertMask"}}, {"id": 194, "type": "GroundingDinoSAMSegment (segment anything)", "pos": [-301, 1554], "size": {"0": 352.79998779296875, "1": 122}, "flags": {}, "order": 11, "mode": 0, "inputs": [{"name": "sam_model", "type": "SAM_MODEL", "link": 345, "slot_index": 0}, {"name": "grounding_dino_model", "type": "GROUNDING_DINO_MODEL", "link": 346}, {"name": "image", "type": "IMAGE", "link": 347}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [358], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": [352, 369], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "GroundingDinoSAMSegment (segment anything)"}, "widgets_values": ["trunk of a tree", 0.3], "color": "#332922", "bgcolor": "#593930"}, {"id": 213, "type": "JoinImageWithAlpha", "pos": [397, 1392], "size": {"0": 210, "1": 46}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": 391}, {"name": "alpha", "type": "MASK", "link": 392}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [393], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "JoinImageWithAlpha"}}, {"id": 2, "type": "LoadImage", "pos": [-1350, 1390], "size": [546.7373437499984, 639.5499999999979], "flags": {}, "order": 7, "mode": 0, "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [88, 338, 347], "shape": 3, "slot_index": 0}, {"name": "MASK", "type": "MASK", "links": [], "shape": 3, "slot_index": 1}], "properties": {"Node name for S&R": "LoadImage"}, "widgets_values": ["river.jpg", "image"], "color": "#913030", "bgcolor": "#7d1c1c"}, {"id": 75, "type": "ImpactDilateMask", "pos": [409.12680078613306, 1870], "size": {"0": 315, "1": 58}, "flags": {}, "order": 16, "mode": 0, "inputs": [{"name": "mask", "type": "MASK", "link": 353}], "outputs": [{"name": "MASK", "type": "MASK", "links": [267, 279], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "ImpactDilateMask"}, "widgets_values": [40], "color": "#232", "bgcolor": "#353"}, {"id": 140, "type": "CLIPTextEncode", "pos": [1623, 2661], "size": {"0": 227.86183166503906, "1": 76.00006103515625}, "flags": {}, "order": 9, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 219}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [220], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["(worst quality:1.1)"], "color": "#223", "bgcolor": "#335"}, {"id": 139, "type": "CLIPTextEncode", "pos": [1624, 2550], "size": {"0": 224.7010040283203, "1": 54}, "flags": {}, "order": 26, "mode": 0, "inputs": [{"name": "clip", "type": "CLIP", "link": 218}, {"name": "text", "type": "STRING", "link": 243, "widget": {"name": "text"}}], "outputs": [{"name": "CONDITIONING", "type": "CONDITIONING", "links": [221], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "CLIPTextEncode"}, "widgets_values": ["background"], "color": "#322", "bgcolor": "#533"}], "links": [[88, 2, 0, 68, 0, "IMAGE"], [92, 68, 0, 45, 0, "IMAGE"], [97, 73, 0, 72, 0, "YAML_CONFIG"], [102, 72, 0, 68, 2, "LAMA"], [103, 72, 1, 68, 3, "YAML_CONFIG"], [182, 118, 0, 117, 2, "CONTROL_NET"], [183, 119, 0, 117, 3, "IMAGE"], [213, 135, 0, 115, 3, "LATENT"], [214, 136, 0, 135, 1, "VAE"], [215, 115, 0, 137, 0, "LATENT"], [216, 136, 0, 137, 1, "VAE"], [218, 134, 1, 139, 0, "CLIP"], [219, 134, 1, 140, 0, "CLIP"], [220, 140, 0, 117, 1, "CONDITIONING"], [221, 139, 0, 117, 0, "CONDITIONING"], [236, 150, 0, 149, 2, "CONTROL_NET"], [239, 117, 1, 149, 1, "CONDITIONING"], [240, 149, 0, 115, 1, "CONDITIONING"], [241, 149, 1, 115, 2, "CONDITIONING"], [242, 117, 0, 149, 0, "CONDITIONING"], [243, 151, 0, 139, 1, "STRING"], [267, 75, 0, 68, 1, "MASK"], [270, 137, 0, 157, 0, "IMAGE"], [279, 75, 0, 119, 1, "MASK"], [287, 134, 0, 115, 0, "MODEL"], [292, 172, 0, 149, 3, "IMAGE"], [296, 173, 0, 151, 0, "IMAGE"], [298, 173, 0, 172, 0, "*"], [299, 172, 0, 135, 0, "IMAGE"], [331, 184, 0, 185, 1, "GROUNDING_DINO_MODEL"], [335, 189, 0, 185, 0, "SAM_MODEL"], [338, 2, 0, 185, 2, "IMAGE"], [345, 189, 0, 194, 0, "SAM_MODEL"], [346, 184, 0, 194, 1, "GROUNDING_DINO_MODEL"], [347, 2, 0, 194, 2, "IMAGE"], [351, 185, 1, 198, 0, "MASK"], [352, 194, 1, 198, 1, "MASK"], [353, 198, 0, 75, 0, "MASK"], [358, 194, 0, 201, 0, "IMAGE"], [363, 201, 0, 195, 0, "IMAGE"], [369, 194, 1, 204, 0, "MASK"], [370, 204, 0, 201, 1, "MASK"], [374, 173, 0, 119, 0, "IMAGE"], [376, 68, 0, 173, 0, "*"], [382, 119, 0, 208, 0, "IMAGE"], [387, 185, 1, 205, 0, "MASK"], [391, 185, 0, 213, 0, "IMAGE"], [392, 205, 0, 213, 1, "MASK"], [393, 213, 0, 207, 0, "IMAGE"]], "groups": [{"title": "HQ-SAM", "bounding": [-728, 1116, 798, 571], "color": "#b06634", "font_size": 24, "locked": false}, {"title": "LaMa", "bounding": [129, 1720, 1255, 367], "color": "#8A8", "font_size": 24, "locked": false}, {"title": "Pseudo-Generative Fill", "bounding": [717, 2137, 3376, 962], "color": "#88A", "font_size": 24, "locked": false}], "config": {}, "extra": {"groupNodes": {"Join Image with Alpha": {"nodes": [{"type": "InvertMask", "pos": [201, 1438], "size": {"0": 210, "1": 26}, "flags": {"collapsed": true}, "order": 12, "mode": 0, "inputs": [{"name": "mask", "type": "MASK", "link": null}], "outputs": [{"name": "MASK", "type": "MASK", "links": [], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "InvertMask"}, "index": 0}, {"type": "JoinImageWithAlpha", "pos": [400, 1390], "size": {"0": 210, "1": 46}, "flags": {}, "order": 15, "mode": 0, "inputs": [{"name": "image", "type": "IMAGE", "link": null}, {"name": "alpha", "type": "MASK", "link": null}], "outputs": [{"name": "IMAGE", "type": "IMAGE", "links": [], "shape": 3, "slot_index": 0}], "properties": {"Node name for S&R": "JoinImageWithAlpha"}, "index": 1}], "links": [[null, 1, 0, 0, 185, "MASK"], [null, 0, 1, 0, 185, "IMAGE"], [0, 0, 1, 1, 205, "MASK"]], "external": [[1, 0, "IMAGE"]]}}}, "version": 0.4}