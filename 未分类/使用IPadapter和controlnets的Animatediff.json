{"last_node_id":659,"last_link_id":1443,"nodes":[{"id":281,"type":"Reroute","pos":[-4360,630],"size":[75,26],"flags":{},"order":29,"mode":0,"inputs":[{"name":"","type":"*","link":645}],"outputs":[{"name":"VAE","type":"VAE","links":[650],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":299,"type":"Reroute","pos":[-1740.0489121456023,-1662.3320348889154],"size":[75,26],"flags":{},"order":81,"mode":0,"inputs":[{"name":"","type":"*","link":814}],"outputs":[{"name":"CLIP","type":"CLIP","links":[683,684],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":291,"type":"Reroute","pos":[5240,680],"size":[75,26],"flags":{},"order":69,"mode":0,"inputs":[{"name":"","type":"*","link":744}],"outputs":[{"name":"VAE","type":"VAE","links":[873],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":393,"type":"Reroute","pos":[5701.725109727964,-453.21611218408316],"size":[75,26],"flags":{},"order":67,"mode":0,"inputs":[{"name":"","type":"*","link":863}],"outputs":[{"name":"CLIP","type":"CLIP","links":[872,878],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":286,"type":"Reroute","pos":[5240,630],"size":[75,26],"flags":{},"order":53,"mode":0,"inputs":[{"name":"","type":"*","link":652}],"outputs":[{"name":"CLIP","type":"CLIP","links":[863],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":285,"type":"Reroute","pos":[5230,590],"size":[82,26],"flags":{},"order":51,"mode":0,"inputs":[{"name":"","type":"*","link":1285}],"outputs":[{"name":"MODEL","type":"MODEL","links":[862],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":397,"type":"Reroute","pos":[6168.189533697949,-362.2160948546211],"size":[75,26],"flags":{},"order":80,"mode":0,"inputs":[{"name":"","type":"*","link":878}],"outputs":[{"name":"CLIP","type":"CLIP","links":[879,880],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":322,"type":"Reroute","pos":[-990.048912145605,-1632.3320348889154],"size":[140.8,26],"flags":{},"order":103,"mode":0,"inputs":[{"name":"","type":"*","link":739}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[767,903],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":323,"type":"Reroute","pos":[-990.048912145605,-1602.3320348889154],"size":[140.8,26],"flags":{},"order":104,"mode":0,"inputs":[{"name":"","type":"*","link":740}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[768,904],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":321,"type":"Reroute","pos":[-5220,-1500],"size":[75,26],"flags":{},"order":41,"mode":0,"inputs":[{"name":"","type":"*","link":737}],"outputs":[{"name":"CLIP","type":"CLIP","links":[812],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":429,"type":"Reroute","pos":[1450.7412724243816,-2220.92988917537],"size":[82,26],"flags":{},"order":161,"mode":0,"inputs":[{"name":"","type":"*","link":1423}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[920]}],"properties":{"showOutputText":true,"horizontal":false}},{"id":223,"type":"Reroute","pos":[-4360,670],"size":[75,26],"flags":{},"order":31,"mode":0,"inputs":[{"name":"","type":"*","link":720,"slot_index":0,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[717],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":300,"type":"VAEDecode","pos":[4596.76808278331,-702.9803234728244],"size":{"0":210,"1":46},"flags":{},"order":177,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":688},{"name":"vae","type":"VAE","link":745}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[691,1002],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":402,"type":"Reroute","pos":[3140,-2640],"size":[140.8,26],"flags":{},"order":172,"mode":0,"inputs":[{"name":"","type":"*","link":886,"slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[938],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":417,"type":"Reroute","pos":[760,-1390],"size":[140.8,26],"flags":{},"order":123,"mode":0,"inputs":[{"name":"","type":"*","link":905}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[907],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":269,"type":"FaceDetailer","pos":[6766.751649904372,-510.4029874135636],"size":{"0":477.3741760253906,"1":1032.52734375},"flags":{},"order":182,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1006},{"name":"model","type":"MODEL","link":871},{"name":"clip","type":"CLIP","link":872},{"name":"vae","type":"VAE","link":874},{"name":"positive","type":"CONDITIONING","link":620},{"name":"negative","type":"CONDITIONING","link":621},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":622},{"name":"sam_model_opt","type":"SAM_MODEL","link":623,"slot_index":7},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null,"slot_index":8},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null},{"name":"seed","type":"INT","link":860,"widget":{"name":"seed"}}],"outputs":[{"name":"image","type":"IMAGE","links":[638],"shape":3,"slot_index":0},{"name":"cropped_refined","type":"IMAGE","links":null,"shape":6},{"name":"cropped_enhanced_alpha","type":"IMAGE","links":null,"shape":6},{"name":"mask","type":"MASK","links":null,"shape":3},{"name":"detailer_pipe","type":"DETAILER_PIPE","links":null,"shape":3},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6}],"properties":{"Node name for S&R":"FaceDetailer"},"widgets_values":[256,true,768,390092866782650,"randomize",20,5,"dpmpp_2m","karras",0.5,5,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"",1]},{"id":390,"type":"Reroute","pos":[5906.751649904367,-307.40298741356366],"size":[75,26],"flags":{},"order":96,"mode":0,"inputs":[{"name":"","type":"*","link":866,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[860],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":395,"type":"Reroute","pos":[5707.751649904365,-418.40298741356366],"size":[75,26],"flags":{},"order":82,"mode":0,"inputs":[{"name":"","type":"*","link":873}],"outputs":[{"name":"VAE","type":"VAE","links":[874],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":394,"type":"Reroute","pos":[5709.751649904365,-374.40298741356366],"size":[75,26],"flags":{},"order":83,"mode":0,"inputs":[{"name":"","type":"*","link":864,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[866],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":392,"type":"Reroute","pos":[5705.751649904365,-492.40298741356366],"size":[82,26],"flags":{},"order":65,"mode":0,"inputs":[{"name":"","type":"*","link":862}],"outputs":[{"name":"MODEL","type":"MODEL","links":[871],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":274,"type":"CLIPTextEncode","pos":[6326.75164990437,-329.40298741356366],"size":{"0":416.369140625,"1":165.28814697265625},"flags":{"collapsed":true},"order":93,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":880}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[621],"slot_index":0}],"title":"Negative Prompt","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["drawing, sketch, painting, art, cartoon, 3d, render, amine, blurry"]},{"id":271,"type":"SAMLoader","pos":[6177.1895336979505,-6.216094854622935],"size":{"0":315,"1":82},"flags":{"collapsed":false},"order":0,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[623],"shape":3}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","AUTO"]},{"id":270,"type":"UltralyticsDetectorProvider","pos":[6191.75164990437,-139.40298741356364],"size":{"0":315,"1":78},"flags":{"collapsed":false},"order":1,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[622],"shape":3,"slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":null,"shape":3}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/face_yolov8m.pt"]},{"id":503,"type":"Reroute","pos":[-2783.734146714238,188.42113250143973],"size":[75,26],"flags":{},"order":110,"mode":0,"inputs":[{"name":"","type":"*","link":1058}],"outputs":[{"name":"BOOL","type":"BOOL","links":[1059]}],"properties":{"showOutputText":true,"horizontal":false}},{"id":456,"type":"InvertMask","pos":[-2363.734146714234,-211.57886749856027],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":105,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":972}],"outputs":[{"name":"MASK","type":"MASK","links":[1010],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"InvertMask"}},{"id":505,"type":"Reroute","pos":[-3143.7341467142396,28.421132501439732],"size":[82,26],"flags":{},"order":87,"mode":0,"inputs":[{"name":"","type":"*","link":1067}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1068,1069],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":483,"type":"ImageCrop+","pos":[-2723.734146714237,328.42113250143973],"size":{"0":210,"1":146},"flags":{},"order":99,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1069},{"name":"width","type":"INT","link":1065,"widget":{"name":"width"}},{"name":"height","type":"INT","link":1045,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1030],"shape":3,"slot_index":0},{"name":"x","type":"INT","links":null,"shape":3},{"name":"y","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"ImageCrop+"},"widgets_values":[512,768,"bottom-center",0,0]},{"id":501,"type":"Reroute","pos":[-2873.7341467142382,448.42113250143973],"size":[75,26],"flags":{},"order":102,"mode":0,"inputs":[{"name":"","type":"*","link":1055}],"outputs":[{"name":"BOOL","type":"BOOL","links":[1058]}],"properties":{"showOutputText":true,"horizontal":false}},{"id":479,"type":"Reroute","pos":[-3643.7341467142337,358.42113250143973],"size":[75,26],"flags":{},"order":59,"mode":0,"inputs":[{"name":"","type":"*","link":1071,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[1034,1044,1082],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":514,"type":"CM_IntToBool","pos":[-2993.734146714239,-211.57886749856027],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":101,"mode":0,"inputs":[{"name":"a","type":"INT","link":1087,"widget":{"name":"a"}}],"outputs":[{"name":"BOOL","type":"BOOL","links":[1088],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntToBool"},"widgets_values":[0]},{"id":513,"type":"CM_BoolToInt","pos":[-3153.7341467142396,-211.57886749856027],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":89,"mode":0,"inputs":[{"name":"a","type":"BOOL","link":1091}],"outputs":[{"name":"INT","type":"INT","links":[1087],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_BoolToInt"}},{"id":508,"type":"CM_IntBinaryOperation","pos":[-3783.7341467142332,-221.57886749856027],"size":{"0":315,"1":106},"flags":{"collapsed":true},"order":60,"mode":0,"inputs":[{"name":"a","type":"INT","link":1077,"widget":{"name":"a"}}],"outputs":[{"name":"INT","type":"INT","links":[1078],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Div",768,2]},{"id":448,"type":"SolidMask","pos":[-3593.7341467142337,-311.57886749856027],"size":{"0":210,"1":101.11248016357422},"flags":{},"order":74,"mode":0,"inputs":[{"name":"width","type":"INT","link":1079,"widget":{"name":"width"}},{"name":"height","type":"INT","link":1078,"widget":{"name":"height"}}],"outputs":[{"name":"MASK","type":"MASK","links":[958],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SolidMask"},"widgets_values":[1,512,384]},{"id":447,"type":"SolidMask","pos":[-3603.7341467142337,-451.57886749856027],"size":{"0":210,"1":93.92669677734375},"flags":{},"order":63,"mode":0,"inputs":[{"name":"width","type":"INT","link":1074,"widget":{"name":"width"}},{"name":"height","type":"INT","link":1075,"widget":{"name":"height"}}],"outputs":[{"name":"MASK","type":"MASK","links":[957],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SolidMask"},"widgets_values":[0,512,768]},{"id":506,"type":"Reroute","pos":[-3873.7341467142332,-371.57886749856027],"size":[75,26],"flags":{},"order":46,"mode":0,"inputs":[{"name":"","type":"*","link":1070,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[1071,1075,1077],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":519,"type":"Reroute","pos":[-3753.7341467142337,28.421132501439732],"size":[75,26],"flags":{},"order":44,"mode":0,"inputs":[{"name":"","type":"*","link":1107}],"outputs":[{"name":"","type":"IMAGE","links":[1108],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":478,"type":"Reroute","pos":[-3653.7341467142337,168.42113250143973],"size":[75,26],"flags":{},"order":62,"mode":0,"inputs":[{"name":"","type":"*","link":1073,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[1021,1033,1064],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":499,"type":"CM_BoolToInt","pos":[-2563.7341467142364,218.42113250143973],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":122,"mode":0,"inputs":[{"name":"a","type":"BOOL","link":1059}],"outputs":[{"name":"INT","type":"INT","links":[1057],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_BoolToInt"}},{"id":502,"type":"CM_IntToBool","pos":[-2333.7341467142337,218.42113250143973],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":129,"mode":0,"inputs":[{"name":"a","type":"INT","link":1057,"widget":{"name":"a"}}],"outputs":[{"name":"BOOL","type":"BOOL","links":[1060],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntToBool"},"widgets_values":[0]},{"id":440,"type":"Image scale to side","pos":[-3483.734146714236,28.421132501439732],"size":{"0":210,"1":126},"flags":{},"order":76,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1108},{"name":"side_length","type":"INT","link":1021,"widget":{"name":"side_length"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1067],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Image scale to side"},"widgets_values":[512,"Width","nearest-exact","center"]},{"id":504,"type":"Reroute","pos":[-3323.73414671424,168.42113250143973],"size":[75,26],"flags":{},"order":78,"mode":0,"inputs":[{"name":"","type":"*","link":1064,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[1065,1066],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":517,"type":"Reroute","pos":[-3213.73414671424,-541.5788674985603],"size":[75,26],"flags":{},"order":79,"mode":0,"inputs":[{"name":"","type":"*","link":1103,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[1099,1100],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":515,"type":"SolidMask","pos":[-3003.734146714239,-551.5788674985603],"size":{"0":210,"1":78},"flags":{},"order":91,"mode":0,"inputs":[{"name":"width","type":"INT","link":1099,"widget":{"name":"width"}},{"name":"height","type":"INT","link":1100,"widget":{"name":"height"}}],"outputs":[{"name":"MASK","type":"MASK","links":[1095],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"SolidMask"},"widgets_values":[1,512,768]},{"id":451,"type":"Reroute","pos":[-2333.7341467142337,-771.5788674985603],"size":[115.6,26],"flags":{},"order":15,"mode":0,"inputs":[{"name":"","type":"*","link":1104}],"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[963],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":449,"type":"MaskComposite","pos":[-3303.7341467142405,-451.57886749856027],"size":{"0":212.8653106689453,"1":126},"flags":{},"order":84,"mode":0,"inputs":[{"name":"destination","type":"MASK","link":957},{"name":"source","type":"MASK","link":958}],"outputs":[{"name":"MASK","type":"MASK","links":[969,1094],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskComposite"},"widgets_values":[0,0,"add"]},{"id":516,"type":"Reroute","pos":[-3653.7341467142337,-541.5788674985603],"size":[75,26],"flags":{},"order":64,"mode":0,"inputs":[{"name":"","type":"*","link":1096,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[1103],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":507,"type":"Reroute","pos":[-3873.7341467142332,-441.57886749856027],"size":[75,26],"flags":{},"order":49,"mode":0,"inputs":[{"name":"","type":"*","link":1072,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[1073,1074,1079,1096],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":453,"type":"Reroute","pos":[-2263.734146714233,-831.5788674985603],"size":[132.39999999999998,26],"flags":{},"order":30,"mode":0,"inputs":[{"name":"","type":"*","link":966}],"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[967],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":500,"type":"Reroute","pos":[-3193.7341467142396,448.42113250143973],"size":[75,26],"flags":{},"order":90,"mode":0,"inputs":[{"name":"","type":"*","link":1102}],"outputs":[{"name":"BOOL","type":"BOOL","links":[1055]}],"properties":{"showOutputText":true,"horizontal":false}},{"id":487,"type":"CM_IntBinaryCondition","pos":[-3543.7341467142337,258.42113250143973],"size":{"0":315,"1":106},"flags":{},"order":77,"mode":0,"inputs":[{"name":"a","type":"INT","link":1033,"widget":{"name":"a"}},{"name":"b","type":"INT","link":1034,"widget":{"name":"b"}}],"outputs":[{"name":"BOOL","type":"BOOL","links":[1035,1091,1102],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryCondition"},"widgets_values":["Eq",0,0]},{"id":489,"type":"If ANY execute A else B","pos":[-3153.7341467142396,368.42113250143973],"size":{"0":210,"1":66},"flags":{},"order":88,"mode":0,"inputs":[{"name":"ANY","type":"*","link":1035},{"name":"IF_TRUE","type":"*","link":1081},{"name":"IF_FALSE","type":"*","link":1043}],"outputs":[{"name":"?","type":"*","links":[1045,1046],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"If ANY execute A else B"}},{"id":439,"type":"ImageCrop+","pos":[-2893.7341467142387,28.421132501439732],"size":{"0":210,"1":146},"flags":{},"order":100,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1068},{"name":"width","type":"INT","link":1066,"widget":{"name":"width"}},{"name":"height","type":"INT","link":1046,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1029],"shape":3,"slot_index":0},{"name":"x","type":"INT","links":null,"shape":3},{"name":"y","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"ImageCrop+"},"widgets_values":[512,768,"top-center",0,0]},{"id":391,"type":"Reroute","pos":[5702.751649904365,-520.2589847868758],"size":[82,26],"flags":{},"order":181,"mode":0,"inputs":[{"name":"","type":"*","link":1258,"slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1006],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":596,"type":"Reroute","pos":[-5740,-2050],"size":[75,26],"flags":{},"order":22,"mode":0,"inputs":[{"name":"","type":"*","link":1441}],"outputs":[{"name":"","type":"IMAGE","links":[1265]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":454,"type":"Reroute","pos":[-2743.7341467142373,-231.57886749856027],"size":[75,26],"flags":{},"order":97,"mode":0,"inputs":[{"name":"","type":"*","link":969}],"outputs":[{"name":"MASK","type":"MASK","links":[972],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":600,"type":"MaskToImage","pos":[-2393.7341467142346,-111.57886749856027],"size":{"0":210,"1":26},"flags":{},"order":120,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1280}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1279],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":509,"type":"If ANY execute A else B","pos":[-2703.734146714237,-481.57886749856027],"size":{"0":210,"1":66},"flags":{},"order":109,"mode":0,"inputs":[{"name":"ANY","type":"*","link":1088,"slot_index":0},{"name":"IF_TRUE","type":"*","link":1095},{"name":"IF_FALSE","type":"*","link":1094}],"outputs":[{"name":"?","type":"*","links":[1101,1280,1283],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"If ANY execute A else B"}},{"id":518,"type":"Reroute","pos":[-4050,-1040],"size":[82,26],"flags":{},"order":52,"mode":0,"inputs":[{"name":"","type":"*","link":1296}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1427],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":495,"type":"If ANY execute A else B","pos":[-1903.734146714231,-351.57886749856027],"size":{"0":210,"1":66},"flags":{},"order":134,"mode":0,"inputs":[{"name":"ANY","type":"*","link":1060},{"name":"IF_TRUE","type":"*","link":1061},{"name":"IF_FALSE","type":"*","link":1062}],"outputs":[{"name":"?","type":"*","links":[1216],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"If ANY execute A else B"}},{"id":151,"type":"IPAdapterModelLoader","pos":[-2873.7341467142382,-771.5788674985603],"size":{"0":350.09619140625,"1":84.68727111816406},"flags":{},"order":2,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[964,1104],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-plus_sd15.safetensors"]},{"id":452,"type":"Reroute","pos":[-3053.7341467142396,-821.5788674985603],"size":[132.39999999999998,26],"flags":{},"order":19,"mode":0,"inputs":[{"name":"","type":"*","link":965}],"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[966],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":101,"type":"ADE_EmptyLatentImageLarge","pos":[1262.332625622943,-1233.4954212896976],"size":{"0":315,"1":106},"flags":{},"order":71,"mode":0,"inputs":[{"name":"width","type":"INT","link":1218,"widget":{"name":"width"},"slot_index":0},{"name":"height","type":"INT","link":1220,"widget":{"name":"height"},"slot_index":1},{"name":"batch_size","type":"INT","link":1275,"widget":{"name":"batch_size"},"slot_index":2}],"outputs":[{"name":"LATENT","type":"LATENT","links":[685],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ADE_EmptyLatentImageLarge"},"widgets_values":[512,768,50]},{"id":494,"type":"CM_IntBinaryOperation","pos":[-3513.7341467142346,398.42113250143973],"size":{"0":315,"1":106},"flags":{"collapsed":true},"order":73,"mode":0,"inputs":[{"name":"a","type":"INT","link":1082,"widget":{"name":"a"}}],"outputs":[{"name":"INT","type":"INT","links":[1081],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Mul",768,1]},{"id":482,"type":"CM_IntBinaryOperation","pos":[-3503.734146714235,448.42113250143973],"size":{"0":315,"1":106},"flags":{"collapsed":true},"order":72,"mode":0,"inputs":[{"name":"a","type":"INT","link":1044,"widget":{"name":"a"}}],"outputs":[{"name":"INT","type":"INT","links":[1043],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CM_IntBinaryOperation"},"widgets_values":["Div",768,2]},{"id":94,"type":"ADE_AnimateDiffUniformContextOptions","pos":[-1084.3065010832586,-434.8998169563235],"size":{"0":315,"1":154},"flags":{"collapsed":false},"order":3,"mode":0,"outputs":[{"name":"CONTEXT_OPTIONS","type":"CONTEXT_OPTIONS","links":[206],"shape":3}],"properties":{"Node name for S&R":"ADE_AnimateDiffUniformContextOptions"},"widgets_values":[16,1,4,"uniform",false]},{"id":484,"type":"PrepImageForClipVision","pos":[-2673.7341467142364,28.421132501439732],"size":{"0":243.60000610351562,"1":106},"flags":{},"order":108,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1029}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1032,1298],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","center",0.05]},{"id":485,"type":"PrepImageForClipVision","pos":[-2403.734146714235,328.42113250143973],"size":{"0":243.60000610351562,"1":107.56800842285156},"flags":{},"order":107,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1030}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1031,1276],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","center",0.05]},{"id":604,"type":"DebugPrint","pos":[-2343.734146714234,-341.57886749856027],"size":{"0":210,"1":26},"flags":{},"order":121,"mode":0,"inputs":[{"name":"ANY","type":"{}","link":1283}],"properties":{"Node name for S&R":"DebugPrint"}},{"id":292,"type":"LoraLoaderModelOnly","pos":[-4862.520584112333,-842.095907313402],"size":{"0":315,"1":82},"flags":{"collapsed":false},"order":39,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":666}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1296],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LoraLoaderModelOnly"},"widgets_values":["v3_sd15_adapter.ckpt",1]},{"id":272,"type":"SaveImage","pos":[7632.751649904374,-295.2589847868758],"size":{"0":315,"1":270.0000305175781},"flags":{},"order":184,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":639}],"properties":{},"widgets_values":["animatediff_project/facefixed/img"]},{"id":279,"type":"ImageListToImageBatch","pos":[7294.751649904372,-468.2589847868758],"size":{"0":210,"1":26},"flags":{},"order":183,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":638}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[639,855],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageListToImageBatch"}},{"id":150,"type":"IPAdapterApply","pos":[-2373.7341467142346,-701.5788674985603],"size":{"0":223.45022583007812,"1":278},"flags":{},"order":119,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":964,"slot_index":0},{"name":"clip_vision","type":"CLIP_VISION","link":317,"slot_index":1},{"name":"image","type":"IMAGE","link":1032,"slot_index":2},{"name":"model","type":"MODEL","link":1290},{"name":"attn_mask","type":"MASK","link":1101},{"name":"insightface","type":"INSIGHTFACE","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[968,1061],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterApply"},"widgets_values":[0.5,0.2,"original",0,1,false]},{"id":445,"type":"IPAdapterApply","pos":[-2053.734146714232,-761.5788674985603],"size":{"0":222.3622589111328,"1":278},"flags":{},"order":127,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":963,"slot_index":0},{"name":"clip_vision","type":"CLIP_VISION","link":967,"slot_index":1},{"name":"image","type":"IMAGE","link":1031,"slot_index":2},{"name":"model","type":"MODEL","link":968},{"name":"attn_mask","type":"MASK","link":1011},{"name":"insightface","type":"INSIGHTFACE","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1062],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterApply"},"widgets_values":[0.5,0.2,"original",0,1,false]},{"id":160,"type":"CheckpointLoaderSimple","pos":[-6172,-576],"size":{"0":315,"1":98},"flags":{"collapsed":false},"order":4,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[1287],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[1366],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":[644],"shape":3,"slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["realistic_vision_v5.1.safetensors"]},{"id":647,"type":"Reroute","pos":[462.48663447970966,-3084.0341336919796],"size":[82,26],"flags":{},"order":146,"mode":0,"inputs":[{"name":"","type":"*","link":1388}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1424],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":473,"type":"Reroute","pos":[-2203.7341467142323,-241.57886749856027],"size":[75,26],"flags":{},"order":115,"mode":0,"inputs":[{"name":"","type":"*","link":1010}],"outputs":[{"name":"MASK","type":"MASK","links":[1011,1402],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":652,"type":"MaskToImage","pos":[-2073.734146714232,-231.57886749856027],"size":{"0":210,"1":26},"flags":{"collapsed":true},"order":125,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1402}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1403],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":601,"type":"PreviewImage","pos":[-1973.7341467142312,-201.57886749856027],"size":{"0":210,"1":246},"flags":{"collapsed":false},"order":128,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1279}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":653,"type":"PreviewImage","pos":[-1753.7341467142305,-221.57886749856027],"size":{"0":210,"1":246},"flags":{},"order":132,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1403}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":466,"type":"LineArtPreprocessor","pos":[-164.51336552028528,-3043.0341336919796],"size":{"0":315,"1":82},"flags":{},"order":140,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1406}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1407],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LineArtPreprocessor"},"widgets_values":["disable",512]},{"id":6,"type":"CLIPTextEncode","pos":[-1550.0489121456012,-1532.3320348889154],"size":{"0":457.007080078125,"1":117.50372314453125},"flags":{},"order":95,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":684}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[740],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["drawing, painting, illustration, art, cartoon, 3d, cgi, render, anime, blurry, hanging cloths, sun, DeviantArt, fat legs, long dress"],"color":"#322","bgcolor":"#533"},{"id":598,"type":"PreviewImage","pos":[-1983.7341467142312,308.42113250143973],"size":{"0":210,"1":246},"flags":{"collapsed":false},"order":117,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1276}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":342,"type":"Image scale to side","pos":[-5070.523574441436,-2051.7711617218765],"size":{"0":315,"1":130},"flags":{},"order":61,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1265},{"name":"side_length","type":"INT","link":845,"widget":{"name":"side_length"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[782],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Image scale to side"},"widgets_values":[512,"Width","nearest-exact","center"]},{"id":136,"type":"CLIPTextEncode","pos":[-1550.0489121456012,-1772.3320348889154],"size":{"0":456.62603759765625,"1":138.61959838867188},"flags":{"collapsed":false},"order":94,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":683}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[739],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["25 year old Salma Hayek dancing on beach, white skin tone, ((wearing mini blue cotton frock)), mini cotton frock, (green reebok shoes:1.15), brunette, waves on shore, (blue sky:1.15), infinite blue ocean in the background, waves, bright scene, sunny, well lit, point light on girl, slim legs"],"color":"#322","bgcolor":"#533"},{"id":644,"type":"ImageCompositeMasked","pos":[-2988.827971311237,-1781],"size":{"0":315,"1":146},"flags":{},"order":116,"mode":0,"inputs":[{"name":"destination","type":"IMAGE","link":1372},{"name":"source","type":"IMAGE","link":1380},{"name":"mask","type":"MASK","link":1382}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1411],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageCompositeMasked"},"widgets_values":[0,0,false]},{"id":355,"type":"Reroute","pos":[-2607.827971311237,-1689],"size":[82,26],"flags":{},"order":126,"mode":0,"inputs":[{"name":"","type":"*","link":1411}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1412],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":341,"type":"ImageCrop+","pos":[-4697.523574441436,-1761.211071798528],"size":{"0":315,"1":194},"flags":{},"order":75,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":782},{"name":"width","type":"INT","link":801,"widget":{"name":"width"}},{"name":"height","type":"INT","link":808,"widget":{"name":"height"},"slot_index":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1409,1410],"shape":3,"slot_index":0},{"name":"x","type":"INT","links":null,"shape":3},{"name":"y","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"ImageCrop+"},"widgets_values":[512,768,"center",0,0]},{"id":152,"type":"CLIPVisionLoader","pos":[-3443.7341467142373,-671.5788674985603],"size":{"0":343.71148681640625,"1":60.79451370239258},"flags":{},"order":5,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[317,965],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["clip_vision_model_sd15.safetensors"]},{"id":415,"type":"Reroute","pos":[-710,-1400],"size":[140.8,26],"flags":{},"order":112,"mode":0,"inputs":[{"name":"","type":"*","link":903}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[905],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":357,"type":"Reroute","pos":[-1064,-3038],"size":[82,26],"flags":{},"order":137,"mode":0,"inputs":[{"name":"","type":"*","link":1421}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[819,1406],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":237,"type":"Reroute","pos":[-2607,-1050],"size":[82,26],"flags":{},"order":66,"mode":0,"inputs":[{"name":"","type":"*","link":1427}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1290],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":599,"type":"PreviewImage","pos":[-1986,88],"size":{"0":210,"1":246},"flags":{"collapsed":false},"order":118,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1298}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":655,"type":"Reroute","pos":[-2163,-1690],"size":[75,26],"flags":{},"order":133,"mode":0,"inputs":[{"name":"","type":"*","link":1412}],"outputs":[{"name":"","type":"IMAGE","links":[1421],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":350,"type":"Reroute","pos":[-2150,-1477],"size":[75,26],"flags":{},"order":54,"mode":0,"inputs":[{"name":"","type":"*","link":812}],"outputs":[{"name":"CLIP","type":"CLIP","links":[813],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":351,"type":"Reroute","pos":[-1921,-1666],"size":[75,26],"flags":{},"order":68,"mode":0,"inputs":[{"name":"","type":"*","link":813}],"outputs":[{"name":"CLIP","type":"CLIP","links":[814],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":416,"type":"Reroute","pos":[-710,-1370],"size":[140.8,26],"flags":{},"order":114,"mode":0,"inputs":[{"name":"","type":"*","link":904}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[906],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":337,"type":"Reroute","pos":[-710,-1656],"size":[140.8,26],"flags":{},"order":113,"mode":0,"inputs":[{"name":"","type":"*","link":768}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[770],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":358,"type":"Reroute","pos":[-700,-2143],"size":[82,26],"flags":{},"order":139,"mode":0,"inputs":[{"name":"","type":"*","link":819}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[821],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":352,"type":"DWPreprocessor","pos":[-445,-2143],"size":{"0":315,"1":178},"flags":{},"order":142,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":821}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[940],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"DWPreprocessor"},"widgets_values":["enable","enable","enable",512,"yolox_l.onnx","dw-ll_ucoco_384.onnx"]},{"id":329,"type":"ControlNetApplyAdvanced","pos":[109,-1686],"size":{"0":315,"1":166},"flags":{},"order":151,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":771},{"name":"negative","type":"CONDITIONING","link":770},{"name":"control_net","type":"CONTROL_NET","link":750},{"name":"image","type":"IMAGE","link":943}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[830],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[829],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.7000000000000001,0,1]},{"id":436,"type":"Reroute","pos":[-106,-2143],"size":[82,26],"flags":{},"order":145,"mode":0,"inputs":[{"name":"","type":"*","link":940}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[941,942,943],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":243,"type":"PreviewImage","pos":[192,-2136],"size":{"0":210,"1":246},"flags":{"collapsed":false},"order":150,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":942}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":418,"type":"Reroute","pos":[760,-1360],"size":[140.8,26],"flags":{},"order":124,"mode":0,"inputs":[{"name":"","type":"*","link":906}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[908],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":459,"type":"Reroute","pos":[1490,-1630],"size":[140.8,26],"flags":{},"order":166,"mode":0,"inputs":[{"name":"","type":"*","link":982}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[983],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":458,"type":"Reroute","pos":[1500,-1670],"size":[140.8,26],"flags":{},"order":165,"mode":0,"inputs":[{"name":"","type":"*","link":981}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[984],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":404,"type":"ControlNetLoaderAdvanced","pos":[1537.612715748224,-2599.4940254832673],"size":{"0":484.1082458496094,"1":72.02012634277344},"flags":{},"order":6,"mode":0,"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[887],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["sd1.5/controlnet_16fp_models/control_v11p_sd15_lineart_fp16.safetensors"]},{"id":424,"type":"ControlNetLoaderAdvanced","pos":[1422.9642015348747,-2080.215255696742],"size":{"0":484.1082458496094,"1":72.02012634277344},"flags":{},"order":7,"mode":0,"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[914],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["sd1.5/controlnet_16fp_models/control_v11p_sd15_openpose_fp16.safetensors"]},{"id":432,"type":"Reroute","pos":[789,-2215],"size":[82,26],"flags":{},"order":157,"mode":0,"inputs":[{"name":"","type":"*","link":1440}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1423],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":419,"type":"Reroute","pos":[993,-1904],"size":[140.8,26],"flags":{},"order":130,"mode":0,"inputs":[{"name":"","type":"*","link":907}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[932],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":420,"type":"Reroute","pos":[994,-1878],"size":[140.8,26],"flags":{},"order":131,"mode":0,"inputs":[{"name":"","type":"*","link":908}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[931],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":434,"type":"Reroute","pos":[1455,-1878],"size":[140.8,26],"flags":{},"order":136,"mode":0,"inputs":[{"name":"","type":"*","link":931}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[929],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":433,"type":"Reroute","pos":[1455,-1905],"size":[140.8,26],"flags":{},"order":135,"mode":0,"inputs":[{"name":"","type":"*","link":932}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[928],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":406,"type":"Reroute","pos":[3140,-2610],"size":[140.8,26],"flags":{},"order":173,"mode":0,"inputs":[{"name":"","type":"*","link":889,"slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[939],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":378,"type":"VHS_VideoCombine","pos":[8136.934034984008,-483.42657297729903],"size":[315,270],"flags":{},"order":185,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":855},{"name":"audio","type":"VHS_AUDIO","link":null}],"outputs":[{"name":"Filenames","type":"VHS_FILENAMES","links":null,"shape":3}],"properties":{"Node name for S&R":"VHS_VideoCombine"},"widgets_values":{"frame_rate":5,"loop_count":0,"filename_prefix":"animatediff_project/movie","format":"video/h264-mp4","pix_fmt":"yuv420p","crf":20,"save_metadata":true,"pingpong":false,"save_output":false,"videopreview":{"hidden":false,"paused":false,"params":{"filename":"movie_00002.mp4","subfolder":"animatediff_project","type":"temp","format":"video/h264-mp4"}}}},{"id":93,"type":"ADE_AnimateDiffLoaderWithContext","pos":[-700.928078751885,-697.1053471831966],"size":{"0":315,"1":210},"flags":{},"order":144,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1435},{"name":"context_options","type":"CONTEXT_OPTIONS","link":206,"slot_index":1},{"name":"motion_lora","type":"MOTION_LORA","link":null},{"name":"motion_model_settings","type":"MOTION_MODEL_SETTINGS","link":null},{"name":"sample_settings","type":"sample_settings","link":null,"slot_index":4}],"outputs":[{"name":"MODEL","type":"MODEL","links":[668],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ADE_AnimateDiffLoaderWithContext"},"widgets_values":["v3_sd15_mm.ckpt","sqrt_linear (AnimateDiff)",1.2,false]},{"id":235,"type":"FreeU_V2","pos":[-290.53594224096133,-862.1053471831966],"size":{"0":315,"1":130},"flags":{},"order":148,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":668}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1420],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"FreeU_V2"},"widgets_values":[1.3,1.4,1,1]},{"id":320,"type":"Reroute","pos":[3237,-215],"size":[82,26],"flags":{},"order":160,"mode":0,"inputs":[{"name":"","type":"*","link":735}],"outputs":[{"name":"MODEL","type":"MODEL","links":[736],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":324,"type":"Reroute","pos":[4278,677],"size":[75,26],"flags":{},"order":55,"mode":0,"inputs":[{"name":"","type":"*","link":743}],"outputs":[{"name":"VAE","type":"VAE","links":[744,745],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":224,"type":"Reroute","pos":[3447,717],"size":[75,26],"flags":{},"order":56,"mode":0,"inputs":[{"name":"","type":"*","link":716,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[704,710],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":284,"type":"Reroute","pos":[2014,667],"size":[75,26],"flags":{},"order":42,"mode":0,"inputs":[{"name":"","type":"*","link":650}],"outputs":[{"name":"VAE","type":"VAE","links":[743,746],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":294,"type":"Reroute","pos":[1380,712],"size":[75,26],"flags":{},"order":43,"mode":0,"inputs":[{"name":"","type":"*","link":717,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[687,716],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":368,"type":"Reroute","pos":[-5856,-1870],"size":[75,26],"flags":{},"order":23,"mode":0,"inputs":[{"name":"","type":"*","link":1442,"pos":[37.5,0],"slot_index":0,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[843],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":true}},{"id":370,"type":"Reroute","pos":[-5353,-2030],"size":[75,26],"flags":{},"order":48,"mode":0,"inputs":[{"name":"","type":"*","link":844,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[845],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":349,"type":"Reroute","pos":[-5427,-1712],"size":[75,26],"flags":{},"order":34,"mode":0,"inputs":[{"name":"","type":"*","link":809,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[808],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":639,"type":"OneFormer-COCO-SemSegPreprocessor","pos":[-4279,-2031],"size":{"0":315,"1":58},"flags":{},"order":85,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1409}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1369],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"OneFormer-COCO-SemSegPreprocessor"},"widgets_values":[512]},{"id":640,"type":"MaskFromColor+","pos":[-3945,-1911],"size":{"0":315,"1":130},"flags":{},"order":98,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1369}],"outputs":[{"name":"MASK","type":"MASK","links":[1418],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskFromColor+"},"widgets_values":[220,20,60,1]},{"id":642,"type":"MaskBlur+","pos":[-3574,-1914],"size":{"0":315,"1":58},"flags":{},"order":106,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":1418}],"outputs":[{"name":"MASK","type":"MASK","links":[1382],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"MaskBlur+"},"widgets_values":[1.5]},{"id":643,"type":"EmptyImage","pos":[-3579,-1684],"size":{"0":315,"1":130},"flags":{"collapsed":false},"order":58,"mode":0,"inputs":[{"name":"width","type":"INT","link":1432,"widget":{"name":"width"}},{"name":"height","type":"INT","link":1433,"widget":{"name":"height"}},{"name":"batch_size","type":"INT","link":1434,"widget":{"name":"batch_size"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1372],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"EmptyImage"},"widgets_values":[1024,576,1,0]},{"id":645,"type":"Reroute","pos":[-4201,-1757],"size":[75,26],"flags":{},"order":86,"mode":0,"inputs":[{"name":"","type":"*","link":1410}],"outputs":[{"name":"","type":"IMAGE","links":[1380],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":576,"type":"Reroute","pos":[-149,-1209],"size":[75,26],"flags":{},"order":47,"mode":0,"inputs":[{"name":"","type":"*","link":1219,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"INT","links":[1220],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":575,"type":"Reroute","pos":[-150,-1240],"size":[75,26],"flags":{},"order":50,"mode":0,"inputs":[{"name":"","type":"*","link":1217,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"INT","links":[1218],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":597,"type":"Reroute","pos":[-150,-1177],"size":[75,26],"flags":{},"order":57,"mode":0,"inputs":[{"name":"","type":"*","link":1274,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"INT","links":[1275],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":312,"type":"Reroute","pos":[-4268,-1169],"size":[75,26],"flags":{},"order":45,"mode":0,"inputs":[{"name":"","type":"*","link":1430,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[1274,1434],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":347,"type":"Reroute","pos":[-4270,-1204],"size":[75,26],"flags":{},"order":35,"mode":0,"inputs":[{"name":"","type":"*","link":1429,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[1070,1219,1433],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":346,"type":"Reroute","pos":[-4269,-1242],"size":[75,26],"flags":{},"order":37,"mode":0,"inputs":[{"name":"","type":"*","link":1431,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[1072,1217,1432],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":344,"type":"Reroute","pos":[-5750,-1233],"size":[75,26],"flags":{},"order":25,"mode":0,"inputs":[{"name":"","type":"*","link":856,"slot_index":0,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[803,1431],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":345,"type":"Reroute","pos":[-5750,-1196],"size":[75,26],"flags":{},"order":24,"mode":0,"inputs":[{"name":"","type":"*","link":857,"slot_index":0,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[809,1429],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":367,"type":"Reroute","pos":[-5750,-1156],"size":[75,26],"flags":{},"order":33,"mode":0,"inputs":[{"name":"","type":"*","link":843,"slot_index":0,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[1430],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":469,"type":"Reroute","pos":[-5749,-1116],"size":[82,26],"flags":{},"order":21,"mode":0,"inputs":[{"name":"","type":"*","link":1297}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1428],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":470,"type":"Reroute","pos":[-4380,-1131],"size":[82,26],"flags":{},"order":32,"mode":0,"inputs":[{"name":"","type":"*","link":1428}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1107],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":646,"type":"Reroute","pos":[252,-3042],"size":[82,26],"flags":{},"order":143,"mode":0,"inputs":[{"name":"","type":"*","link":1407}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1388,1391,1399],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":413,"type":"ImageScaleBy","pos":[1541,-3076],"size":{"0":315,"1":82},"flags":{},"order":152,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1424}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[901],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["nearest-exact",1.25]},{"id":218,"type":"Reroute","pos":[1333,-1630],"size":[140.8,26],"flags":{},"order":163,"mode":0,"inputs":[{"name":"","type":"*","link":834,"slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[982],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":217,"type":"Reroute","pos":[1354,-1669],"size":[140.8,26],"flags":{},"order":162,"mode":0,"inputs":[{"name":"","type":"*","link":820}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[981],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":363,"type":"Reroute","pos":[972,-2546],"size":[140.8,26],"flags":{},"order":159,"mode":0,"inputs":[{"name":"","type":"*","link":835,"slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[834]}],"properties":{"showOutputText":true,"horizontal":false}},{"id":334,"type":"Reroute","pos":[998,-2570],"size":[140.8,26],"flags":{},"order":158,"mode":0,"inputs":[{"name":"","type":"*","link":833,"slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[820],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":623,"type":"Reroute","pos":[431,-867],"size":[75,26],"flags":{},"order":153,"mode":0,"inputs":[{"name":"","type":"*","link":1420}],"outputs":[{"name":"","type":"MODEL","links":[1436,1437],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":622,"type":"Reroute","pos":[-1382,-702],"size":[75,26],"flags":{},"order":141,"mode":0,"inputs":[{"name":"","type":"*","link":1365}],"outputs":[{"name":"*","type":"*","links":[1435],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":457,"type":"Reroute","pos":[-1626,-703],"size":[75,26],"flags":{},"order":138,"mode":0,"inputs":[{"name":"","type":"*","link":1216}],"outputs":[{"name":"*","type":"*","links":[1365],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":317,"type":"Reroute","pos":[766,-223],"size":[82,26],"flags":{},"order":156,"mode":0,"inputs":[{"name":"","type":"*","link":1437}],"outputs":[{"name":"MODEL","type":"MODEL","links":[735],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":328,"type":"ControlNetLoaderAdvanced","pos":[-455,-1562],"size":{"0":484.1082458496094,"1":72.02012634277344},"flags":{},"order":8,"mode":0,"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[750],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["sd1.5/controlnet_16fp_models/control_v11p_sd15_openpose_fp16.safetensors"]},{"id":5,"type":"PrimitiveNode","pos":[-6129,-438],"size":{"0":210,"1":82},"flags":{},"order":9,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[881],"slot_index":0,"widget":{"name":"value"}}],"title":"Seed","properties":{"Run widget replace on values":false},"widgets_values":[390092866782650,"fixed"],"color":"#2a363b","bgcolor":"#3f5159"},{"id":293,"type":"Reroute","pos":[-5246,-583],"size":[82,26],"flags":{},"order":27,"mode":0,"inputs":[{"name":"","type":"*","link":665}],"outputs":[{"name":"MODEL","type":"MODEL","links":[666],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":638,"type":"CLIPSetLastLayer","pos":[-5788,-522],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":17,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":1366}],"outputs":[{"name":"CLIP","type":"CLIP","links":[1367],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPSetLastLayer"},"widgets_values":[-1]},{"id":202,"type":"Reroute","pos":[-5504,-574],"size":[82,26],"flags":{},"order":16,"mode":0,"inputs":[{"name":"","type":"*","link":1287}],"outputs":[{"name":"MODEL","type":"MODEL","links":[642,665],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":205,"type":"Reroute","pos":[-5493,-493],"size":[75,26],"flags":{},"order":18,"mode":0,"inputs":[{"name":"","type":"*","link":644}],"outputs":[{"name":"VAE","type":"VAE","links":[645],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":295,"type":"Reroute","pos":[-5488,-453],"size":[75,26],"flags":{},"order":20,"mode":0,"inputs":[{"name":"","type":"*","link":881,"slot_index":0,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[720]}],"properties":{"showOutputText":true,"horizontal":false}},{"id":109,"type":"Reroute","pos":[-5493,-536],"size":[75,26],"flags":{},"order":28,"mode":0,"inputs":[{"name":"","type":"*","link":1367}],"outputs":[{"name":"CLIP","type":"CLIP","links":[646,737],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":282,"type":"Reroute","pos":[-4366,588],"size":[75,26],"flags":{},"order":40,"mode":0,"inputs":[{"name":"","type":"*","link":646}],"outputs":[{"name":"CLIP","type":"CLIP","links":[652],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":280,"type":"Reroute","pos":[-4375,554],"size":[82,26],"flags":{},"order":26,"mode":0,"inputs":[{"name":"","type":"*","link":642}],"outputs":[{"name":"MODEL","type":"MODEL","links":[1284],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":605,"type":"Reroute","pos":[1863,571],"size":[75,26],"flags":{},"order":38,"mode":0,"inputs":[{"name":"","type":"*","link":1284}],"outputs":[{"name":"","type":"MODEL","links":[1285],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":314,"type":"Reroute","pos":[5246,730],"size":[75,26],"flags":{},"order":70,"mode":0,"inputs":[{"name":"","type":"*","link":710,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[864],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":10,"type":"VAEDecode","pos":[2308,-667],"size":{"0":210,"1":46},"flags":{},"order":170,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":680},{"name":"vae","type":"VAE","link":746}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[653],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":287,"type":"SaveImage","pos":[2597,-670],"size":{"0":315,"1":270.0000305175781},"flags":{"collapsed":false},"order":174,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":653}],"properties":{},"widgets_values":["animatediff_project/pass1/img"]},{"id":304,"type":"KSampler","pos":[3890,-925],"size":{"0":315,"1":446},"flags":{},"order":176,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":736},{"name":"positive","type":"CONDITIONING","link":938},{"name":"negative","type":"CONDITIONING","link":939},{"name":"latent_image","type":"LATENT","link":774},{"name":"seed","type":"INT","link":704,"widget":{"name":"seed"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[688],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[390092866782650,"randomize",25,5,"dpmpp_2m","karras",0.5]},{"id":430,"type":"ImageScaleBy","pos":[1586.7412724243802,-2220.92988917537],"size":{"0":315,"1":82},"flags":{},"order":164,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":920}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[915],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["nearest-exact",1.25]},{"id":297,"type":"KSampler","pos":[1826,-870.673766984866],"size":{"0":315,"1":446},"flags":{},"order":168,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1436},{"name":"positive","type":"CONDITIONING","link":984},{"name":"negative","type":"CONDITIONING","link":983},{"name":"latent_image","type":"LATENT","link":685},{"name":"seed","type":"INT","link":687,"widget":{"name":"seed"}}],"outputs":[{"name":"LATENT","type":"LATENT","links":[680,698],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[390092866782650,"randomize",30,6,"dpmpp_sde","karras",1]},{"id":338,"type":"LatentUpscaleBy","pos":[3310,-870],"size":{"0":315,"1":82},"flags":{},"order":175,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":1439}],"outputs":[{"name":"LATENT","type":"LATENT","links":[774],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LatentUpscaleBy"},"widgets_values":["nearest-exact",1.25]},{"id":425,"type":"ControlNetApplyAdvanced","pos":[2030,-1898],"size":{"0":315,"1":166},"flags":{},"order":167,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":928},{"name":"negative","type":"CONDITIONING","link":929},{"name":"control_net","type":"CONTROL_NET","link":914},{"name":"image","type":"IMAGE","link":915}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[934],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[935],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.5,0,0.995]},{"id":405,"type":"ControlNetApplyAdvanced","pos":[2479.612715748223,-2639.4940254832673],"size":{"0":315,"1":166},"flags":{},"order":169,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":934},{"name":"negative","type":"CONDITIONING","link":935},{"name":"control_net","type":"CONTROL_NET","link":887},{"name":"image","type":"IMAGE","link":901}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[886],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[889],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.4,0,0.995]},{"id":348,"type":"Reroute","pos":[-5521,-1744],"size":[75,26],"flags":{},"order":36,"mode":0,"inputs":[{"name":"","type":"*","link":803,"widget":{"name":"value"}}],"outputs":[{"name":"INT","type":"INT","links":[801,844],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":336,"type":"Reroute","pos":[-709,-1685],"size":[140.8,26],"flags":{},"order":111,"mode":0,"inputs":[{"name":"","type":"*","link":767}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[771],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":361,"type":"ControlNetLoaderAdvanced","pos":[-216,-2786],"size":{"0":484.1082458496094,"1":72.02012634277344},"flags":{},"order":10,"mode":0,"inputs":[{"name":"timestep_keyframe","type":"TIMESTEP_KEYFRAME","link":null}],"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[826],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoaderAdvanced"},"widgets_values":["sd1.5/controlnet_16fp_models/control_v11p_sd15_lineart_fp16.safetensors"]},{"id":308,"type":"Reroute","pos":[2767,-867],"size":[90.4,26],"flags":{},"order":171,"mode":0,"inputs":[{"name":"","type":"*","link":698}],"outputs":[{"name":"LATENT","type":"LATENT","links":[1439],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":331,"type":"PreviewImage","pos":[564,-3030],"size":{"0":210,"1":246},"flags":{"collapsed":false},"order":147,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":1391}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":362,"type":"ControlNetApplyAdvanced","pos":[606,-2568],"size":{"0":315,"1":166},"flags":{},"order":155,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":830},{"name":"negative","type":"CONDITIONING","link":829},{"name":"control_net","type":"CONTROL_NET","link":826},{"name":"image","type":"IMAGE","link":1399,"slot_index":3}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[833],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[835],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.6,0,1]},{"id":658,"type":"Reroute","pos":[684,-2213.5290628120283],"size":[75,26],"flags":{},"order":154,"mode":0,"inputs":[{"name":"","type":"*","link":1443}],"outputs":[{"name":"","type":"IMAGE","links":[1440]}],"properties":{"showOutputText":false,"horizontal":false}},{"id":273,"type":"CLIPTextEncode","pos":[6332,-377],"size":{"0":422.84503173828125,"1":164.31304931640625},"flags":{"collapsed":true},"order":92,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":879}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[620],"slot_index":0}],"title":"Positive Prompt","properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["Beautiful facial features, beautiful face, sharp eyes, highly detailed face"]},{"id":288,"type":"SaveImage","pos":[5020,-837],"size":{"0":315,"1":270},"flags":{"collapsed":false},"order":178,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":691}],"properties":{},"widgets_values":["animatediff_project/pass2/img"]},{"id":472,"type":"ImpactImageBatchToImageList","pos":[5128,-507],"size":{"0":210,"1":26},"flags":{},"order":180,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":1004}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1258],"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"ImpactImageBatchToImageList"}},{"id":471,"type":"Reroute","pos":[4974,-512],"size":[82,26],"flags":{},"order":179,"mode":0,"inputs":[{"name":"","type":"*","link":1002}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1004],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":468,"type":"LoadImage","pos":[-6127,-1092],"size":{"0":228.53170776367188,"1":370.6583251953125},"flags":{"collapsed":false},"order":11,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1297],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"slot_index":1}],"title":"Reference Image","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["img_00038_.png","image"]},{"id":659,"type":"VHS_LoadVideo","pos":[-6160,-2048],"size":[235.1999969482422,242],"flags":{},"order":12,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1441],"shape":3,"slot_index":0},{"name":"frame_count","type":"INT","links":[1442],"shape":3,"slot_index":1},{"name":"audio","type":"VHS_AUDIO","links":null,"shape":3}],"properties":{"Node name for S&R":"VHS_LoadVideo"},"widgets_values":{"video":"slow_dance.mp4","force_rate":0,"force_size":"Disabled","custom_width":512,"custom_height":512,"frame_load_cap":0,"skip_first_frames":0,"select_every_nth":1,"choose video to upload":"image","videopreview":{"hidden":true,"paused":true,"params":{"frame_load_cap":0,"skip_first_frames":0,"force_rate":0,"filename":"slow_dance.mp4","type":"input","format":"video/mp4","select_every_nth":1}}}},{"id":431,"type":"Reroute","pos":[209.78201967828736,-2210.0363309859385],"size":[82,26],"flags":{},"order":149,"mode":0,"inputs":[{"name":"","type":"*","link":941}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[1443],"slot_index":0}],"properties":{"showOutputText":true,"horizontal":false}},{"id":383,"type":"Integer","pos":[-6127,-1195],"size":{"0":210,"1":60.67848205566406},"flags":{"pinned":false},"order":13,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[857],"shape":3}],"title":"Height","properties":{"Node name for S&R":"Integer"},"widgets_values":[768],"color":"#322","bgcolor":"#533","shape":4},{"id":382,"type":"Integer","pos":[-6126,-1299],"size":{"0":210,"1":58},"flags":{"pinned":false},"order":14,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[856],"shape":3}],"title":"Width","properties":{"Node name for S&R":"Integer"},"widgets_values":[512],"color":"#322","bgcolor":"#533","shape":4}],"links":[[206,94,0,93,1,"CONTEXT_OPTIONS"],[317,152,0,150,1,"CLIP_VISION"],[620,273,0,269,4,"CONDITIONING"],[621,274,0,269,5,"CONDITIONING"],[622,270,0,269,6,"BBOX_DETECTOR"],[623,271,0,269,7,"SAM_MODEL"],[638,269,0,279,0,"IMAGE"],[639,279,0,272,0,"IMAGE"],[642,202,0,280,0,"*"],[644,160,2,205,0,"*"],[645,205,0,281,0,"*"],[646,109,0,282,0,"*"],[650,281,0,284,0,"*"],[652,282,0,286,0,"*"],[653,10,0,287,0,"IMAGE"],[665,202,0,293,0,"*"],[666,293,0,292,0,"MODEL"],[668,93,0,235,0,"MODEL"],[680,297,0,10,0,"LATENT"],[683,299,0,136,0,"CLIP"],[684,299,0,6,0,"CLIP"],[685,101,0,297,3,"LATENT"],[687,294,0,297,4,"INT"],[688,304,0,300,0,"LATENT"],[691,300,0,288,0,"IMAGE"],[698,297,0,308,0,"*"],[704,224,0,304,4,"INT"],[710,224,0,314,0,"*"],[716,294,0,224,0,"*"],[717,223,0,294,0,"*"],[720,295,0,223,0,"*"],[735,317,0,320,0,"*"],[736,320,0,304,0,"MODEL"],[737,109,0,321,0,"*"],[739,136,0,322,0,"*"],[740,6,0,323,0,"*"],[743,284,0,324,0,"*"],[744,324,0,291,0,"*"],[745,324,0,300,1,"VAE"],[746,284,0,10,1,"VAE"],[750,328,0,329,2,"CONTROL_NET"],[767,322,0,336,0,"*"],[768,323,0,337,0,"*"],[770,337,0,329,1,"CONDITIONING"],[771,336,0,329,0,"CONDITIONING"],[774,338,0,304,3,"LATENT"],[782,342,0,341,0,"IMAGE"],[801,348,0,341,1,"INT"],[803,344,0,348,0,"*"],[808,349,0,341,2,"INT"],[809,345,0,349,0,"*"],[812,321,0,350,0,"*"],[813,350,0,351,0,"*"],[814,351,0,299,0,"*"],[819,357,0,358,0,"*"],[820,334,0,217,0,"*"],[821,358,0,352,0,"IMAGE"],[826,361,0,362,2,"CONTROL_NET"],[829,329,1,362,1,"CONDITIONING"],[830,329,0,362,0,"CONDITIONING"],[833,362,0,334,0,"*"],[834,363,0,218,0,"*"],[835,362,1,363,0,"*"],[843,368,0,367,0,"*"],[844,348,0,370,0,"*"],[845,370,0,342,1,"INT"],[855,279,0,378,0,"IMAGE"],[856,382,0,344,0,"*"],[857,383,0,345,0,"*"],[860,390,0,269,10,"INT"],[862,285,0,392,0,"*"],[863,286,0,393,0,"*"],[864,314,0,394,0,"*"],[866,394,0,390,0,"*"],[871,392,0,269,1,"MODEL"],[872,393,0,269,2,"CLIP"],[873,291,0,395,0,"*"],[874,395,0,269,3,"VAE"],[878,393,0,397,0,"*"],[879,397,0,273,0,"CLIP"],[880,397,0,274,0,"CLIP"],[881,5,0,295,0,"*"],[886,405,0,402,0,"*"],[887,404,0,405,2,"CONTROL_NET"],[889,405,1,406,0,"*"],[901,413,0,405,3,"IMAGE"],[903,322,0,415,0,"*"],[904,323,0,416,0,"*"],[905,415,0,417,0,"*"],[906,416,0,418,0,"*"],[907,417,0,419,0,"*"],[908,418,0,420,0,"*"],[914,424,0,425,2,"CONTROL_NET"],[915,430,0,425,3,"IMAGE"],[920,429,0,430,0,"IMAGE"],[928,433,0,425,0,"CONDITIONING"],[929,434,0,425,1,"CONDITIONING"],[931,420,0,434,0,"*"],[932,419,0,433,0,"*"],[934,425,0,405,0,"CONDITIONING"],[935,425,1,405,1,"CONDITIONING"],[938,402,0,304,1,"CONDITIONING"],[939,406,0,304,2,"CONDITIONING"],[940,352,0,436,0,"*"],[941,436,0,431,0,"*"],[942,436,0,243,0,"IMAGE"],[943,436,0,329,3,"IMAGE"],[957,447,0,449,0,"MASK"],[958,448,0,449,1,"MASK"],[963,451,0,445,0,"IPADAPTER"],[964,151,0,150,0,"IPADAPTER"],[965,152,0,452,0,"*"],[966,452,0,453,0,"*"],[967,453,0,445,1,"CLIP_VISION"],[968,150,0,445,3,"MODEL"],[969,449,0,454,0,"*"],[972,454,0,456,0,"MASK"],[981,217,0,458,0,"*"],[982,218,0,459,0,"*"],[983,459,0,297,2,"CONDITIONING"],[984,458,0,297,1,"CONDITIONING"],[1002,300,0,471,0,"*"],[1004,471,0,472,0,"IMAGE"],[1006,391,0,269,0,"IMAGE"],[1010,456,0,473,0,"*"],[1011,473,0,445,4,"MASK"],[1021,478,0,440,1,"INT"],[1029,439,0,484,0,"IMAGE"],[1030,483,0,485,0,"IMAGE"],[1031,485,0,445,2,"IMAGE"],[1032,484,0,150,2,"IMAGE"],[1033,478,0,487,0,"INT"],[1034,479,0,487,1,"INT"],[1035,487,0,489,0,"*"],[1043,482,0,489,2,"*"],[1044,479,0,482,0,"INT"],[1045,489,0,483,2,"INT"],[1046,489,0,439,2,"INT"],[1055,500,0,501,0,"*"],[1057,499,0,502,0,"INT"],[1058,501,0,503,0,"*"],[1059,503,0,499,0,"BOOL"],[1060,502,0,495,0,"*"],[1061,150,0,495,1,"*"],[1062,445,0,495,2,"*"],[1064,478,0,504,0,"*"],[1065,504,0,483,1,"INT"],[1066,504,0,439,1,"INT"],[1067,440,0,505,0,"*"],[1068,505,0,439,0,"IMAGE"],[1069,505,0,483,0,"IMAGE"],[1070,347,0,506,0,"*"],[1071,506,0,479,0,"*"],[1072,346,0,507,0,"*"],[1073,507,0,478,0,"*"],[1074,507,0,447,0,"INT"],[1075,506,0,447,1,"INT"],[1077,506,0,508,0,"INT"],[1078,508,0,448,1,"INT"],[1079,507,0,448,0,"INT"],[1081,494,0,489,1,"*"],[1082,479,0,494,0,"INT"],[1087,513,0,514,0,"INT"],[1088,514,0,509,0,"*"],[1091,487,0,513,0,"BOOL"],[1094,449,0,509,2,"*"],[1095,515,0,509,1,"*"],[1096,507,0,516,0,"*"],[1099,517,0,515,0,"INT"],[1100,517,0,515,1,"INT"],[1101,509,0,150,4,"MASK"],[1102,487,0,500,0,"*"],[1103,516,0,517,0,"*"],[1104,151,0,451,0,"*"],[1107,470,0,519,0,"*"],[1108,519,0,440,0,"IMAGE"],[1216,495,0,457,0,"*"],[1217,346,0,575,0,"*"],[1218,575,0,101,0,"INT"],[1219,347,0,576,0,"*"],[1220,576,0,101,1,"INT"],[1258,472,0,391,0,"*"],[1265,596,0,342,0,"IMAGE"],[1274,312,0,597,0,"*"],[1275,597,0,101,2,"INT"],[1276,485,0,598,0,"IMAGE"],[1279,600,0,601,0,"IMAGE"],[1280,509,0,600,0,"MASK"],[1283,509,0,604,0,"{}"],[1284,280,0,605,0,"*"],[1285,605,0,285,0,"*"],[1287,160,0,202,0,"*"],[1290,237,0,150,3,"MODEL"],[1296,292,0,518,0,"*"],[1297,468,0,469,0,"*"],[1298,484,0,599,0,"IMAGE"],[1365,457,0,622,0,"*"],[1366,160,1,638,0,"CLIP"],[1367,638,0,109,0,"*"],[1369,639,0,640,0,"IMAGE"],[1372,643,0,644,0,"IMAGE"],[1380,645,0,644,1,"IMAGE"],[1382,642,0,644,2,"MASK"],[1388,646,0,647,0,"*"],[1391,646,0,331,0,"IMAGE"],[1399,646,0,362,3,"IMAGE"],[1402,473,0,652,0,"MASK"],[1403,652,0,653,0,"IMAGE"],[1406,357,0,466,0,"IMAGE"],[1407,466,0,646,0,"*"],[1409,341,0,639,0,"IMAGE"],[1410,341,0,645,0,"*"],[1411,644,0,355,0,"*"],[1412,355,0,655,0,"*"],[1418,640,0,642,0,"MASK"],[1420,235,0,623,0,"*"],[1421,655,0,357,0,"*"],[1423,432,0,429,0,"*"],[1424,647,0,413,0,"IMAGE"],[1427,518,0,237,0,"*"],[1428,469,0,470,0,"*"],[1429,345,0,347,0,"*"],[1430,367,0,312,0,"*"],[1431,344,0,346,0,"*"],[1432,346,0,643,0,"INT"],[1433,347,0,643,1,"INT"],[1434,312,0,643,2,"INT"],[1435,622,0,93,0,"MODEL"],[1436,623,0,297,0,"MODEL"],[1437,623,0,317,0,"*"],[1439,308,0,338,0,"LATENT"],[1440,658,0,432,0,"*"],[1441,659,0,596,0,"*"],[1442,659,1,368,0,"*"],[1443,431,0,658,0,"*"]],"groups":[{"title":"Inputs","bounding":[-6198,-2193,346,1911],"color":"#8A8","font_size":70},{"title":"First Pass","bounding":[1244,-1398,1899,1054],"color":"#a1309b","font_size":70},{"title":"Prompt","bounding":[-1747,-1920,927,590],"color":"#8AA","font_size":70},{"title":"AnimateDiff Nodes","bounding":[-1154,-1028,1299,858],"color":"#b58b2a","font_size":70},{"title":"Controlnet Openpose - Pass1","bounding":[-496,-2332,1105,878],"color":"#444","font_size":70},{"title":"IPadapter for Reference/Style","bounding":[-3828,-980,2338,1526],"color":"#88A","font_size":70},{"title":"FaceDetailer","bounding":[5626,-1080,2417,1654],"color":"#3f789e","font_size":70},{"title":"V3_Adapter_lora","bounding":[-4977,-1034,559,456],"color":"#A88","font_size":70},{"title":"Second Pass with Latent Upscale","bounding":[3269,-1110,2216,740],"color":"#a1309b","font_size":70},{"title":"Controlnet Lineart- Pass1","bounding":[-244,-3198,1191,841],"color":"#444","font_size":70},{"title":"Resize Frames","bounding":[-5135,-2233,797,698],"color":"#3f789e","font_size":70},{"title":"Create Movie","bounding":[8062,-1074,469,1653],"color":"#3f789e","font_size":70},{"title":"Save Frames","bounding":[2264,-804,674,425],"color":"#3f789e","font_size":60},{"title":"Save Frames","bounding":[4527,-946,922,547],"color":"#3f789e","font_size":60},{"title":"Controlnet Lineart- Pass2","bounding":[1481,-3216,1344,797],"color":"#444","font_size":70},{"title":"Controlnet Openpose - Pass2","bounding":[1412,-2371,1204,674],"color":"#444","font_size":70},{"title":"Exatract Subject","bounding":[-4303,-2227,2095,693],"color":"#3f789e","font_size":75}],"config":{},"extra":{},"version":0.4}