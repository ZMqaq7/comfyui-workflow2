{"last_node_id":132,"last_link_id":244,"nodes":[{"id":45,"type":"CR Apply LoRA Stack","pos":[1725.581207694348,985.2866927273338],"size":{"0":309.8322448730469,"1":66.52723693847656},"flags":{},"order":28,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":49,"slot_index":0,"label":"model"},{"name":"clip","type":"CLIP","link":50,"slot_index":1,"label":"clip"},{"name":"lora_stack","type":"LORA_STACK","link":47,"label":"lora_stack"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[148],"shape":3,"slot_index":0,"label":"MODEL"},{"name":"CLIP","type":"CLIP","links":[144],"shape":3,"slot_index":1,"label":"CLIP"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR Apply LoRA Stack","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"color":"#322","bgcolor":"#533"},{"id":105,"type":"CLIPSetLastLayer","pos":[1727.581207694348,1108.286692727335],"size":{"0":303.7650146484375,"1":58},"flags":{},"order":38,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":144,"label":"clip"}],"outputs":[{"name":"CLIP","type":"CLIP","links":[149],"shape":3,"label":"CLIP","slot_index":0}],"properties":{"Node name for S&R":"CLIPSetLastLayer","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":[-2],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":106,"type":"Anything Everywhere3","pos":[2060.581207694348,1046.286692727335],"size":{"0":210,"1":66},"flags":{"collapsed":true},"order":45,"mode":0,"inputs":[{"name":"VAE","type":"*","link":150,"label":"VAE","color_on":"#FF6E6E"},{"name":"MODEL","type":"*","link":148,"label":"MODEL","color_on":"#B39DDB"},{"name":"CLIP","type":"*","link":149,"label":"CLIP","color_on":"#FFD500"}],"properties":{"Node name for S&R":"Anything Everywhere3","group_restricted":0,"color_restricted":0,"ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"color":"#322","bgcolor":"#533"},{"id":59,"type":"SDXLPromptStyler","pos":[2396.0838121666293,926.9510647229492],"size":{"0":400,"1":242},"flags":{},"order":0,"mode":0,"outputs":[{"name":"text_positive","type":"STRING","links":[70],"shape":3,"slot_index":0,"label":"text_positive"},{"name":"text_negative","type":"STRING","links":[71],"shape":3,"slot_index":1,"label":"text_negative"}],"properties":{"Node name for S&R":"SDXLPromptStyler","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["1girl,","embedding:EasyNegative, embedding:negative_hand, ","sai-photographic",true],"color":"#322","bgcolor":"#533","serialize_values":["1girl,","embedding:EasyNegative, embedding:negative_hand, ",null,null]},{"id":21,"type":"CLIPTextEncode","pos":[2935.0838121666293,753.9510647229492],"size":{"0":400,"1":200},"flags":{},"order":21,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"clip"},{"name":"text","type":"STRING","link":70,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[151],"shape":3,"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["1girl,White wedding dress，"],"color":"#322","bgcolor":"#533","serialize_values":["1girl,White wedding dress，"]},{"id":22,"type":"CLIPTextEncode","pos":[2927.0838121666293,1005.9510647229487],"size":{"0":400,"1":200},"flags":{},"order":22,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"clip"},{"name":"text","type":"STRING","link":71,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[152],"shape":3,"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":[""],"color":"#322","bgcolor":"#533","serialize_values":[""]},{"id":107,"type":"Prompts Everywhere","pos":[3399.816810815957,950.1786488268355],"size":{"0":210,"1":46},"flags":{"collapsed":true},"order":33,"mode":0,"inputs":[{"name":"CONDITIONING","type":"*","link":151,"label":"CONDITIONING","color_on":"#FFA931"},{"name":"CONDITIONING","type":"*","link":152,"label":"CONDITIONING","color_on":"#FFA931"}],"properties":{"Node name for S&R":"Prompts Everywhere","group_restricted":0,"color_restricted":0,"ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"color":"#322","bgcolor":"#533"},{"id":69,"type":"ACN_AdvancedControlNetApply","pos":[5424.947486701414,958.0796564486684],"size":{"0":355.20001220703125,"1":266},"flags":{},"order":34,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":null,"slot_index":0,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":null,"slot_index":1,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":87,"label":"control_net"},{"name":"image","type":"IMAGE","link":155,"label":"image"},{"name":"mask_optional","type":"MASK","link":null,"label":"mask_optional"},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":96,"slot_index":5,"label":"timestep_kf"},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null,"label":"latent_kf_override"},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null,"label":"weights_override"},{"name":"model_optional","type":"MODEL","link":168,"slot_index":8,"label":"model_optional"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[92],"shape":3,"slot_index":0,"label":"positive"},{"name":"negative","type":"CONDITIONING","links":[93],"shape":3,"slot_index":1,"label":"negative"},{"name":"model_opt","type":"MODEL","links":[169],"shape":3,"slot_index":2,"label":"model_opt"}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":[1,0,1],"color":"#322","bgcolor":"#533","serialize_values":[null,null,null]},{"id":29,"type":"IPAdapterUnifiedLoader","pos":[5075.995998093735,-846.4946928938012],"size":{"0":315,"1":78},"flags":{},"order":1,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":null,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","link":null,"label":"ipadapter"}],"outputs":[{"name":"model","type":"MODEL","links":[30],"shape":3,"slot_index":0,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","links":[31],"shape":3,"slot_index":1,"label":"ipadapter"}],"properties":{"Node name for S&R":"IPAdapterUnifiedLoader"},"widgets_values":["STANDARD (medium strength)"],"serialize_values":[null]},{"id":120,"type":"GetNode","pos":[4726.995998093735,-821.4946928938011],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":2,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[166],"slot_index":0,"label":"IMAGE"}],"title":"Get_LoadClothesImage","properties":{"ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["LoadClothesImage"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":109,"type":"GetNode","pos":[4710.947486701414,1052.0796564486693],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":3,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[156],"slot_index":0,"label":"IMAGE"}],"title":"Get_LoadPersonImage","properties":{"ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["LoadPersonImage"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":97,"type":"OpenposePreprocessor","pos":[4996.947486701414,1022.0796564486683],"size":{"0":315,"1":150},"flags":{},"order":24,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":156,"slot_index":0,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[155],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"POSE_KEYPOINT","type":"POSE_KEYPOINT","links":null,"shape":3,"label":"POSE_KEYPOINT"}],"properties":{"Node name for S&R":"OpenposePreprocessor","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["enable","enable","enable",512],"color":"#322","bgcolor":"#533","serialize_values":[null,null,null,null]},{"id":121,"type":"SetNode","pos":[5862.9959980937365,-819.4946928938011],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":46,"mode":0,"inputs":[{"name":"MODEL","type":"MODEL","link":167,"label":"MODEL"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_IpadapterModel","properties":{"previousName":"IpadapterModel","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["IpadapterModel"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":70,"type":"TimestepKeyframe","pos":[4239.947486701414,1063.0796564486693],"size":{"0":355.20001220703125,"1":214},"flags":{},"order":25,"mode":0,"inputs":[{"name":"prev_timestep_kf","type":"TIMESTEP_KEYFRAME","link":97,"label":"prev_timestep_kf"},{"name":"cn_weights","type":"CONTROL_NET_WEIGHTS","link":null,"label":"cn_weights"},{"name":"latent_keyframe","type":"LATENT_KEYFRAME","link":null,"label":"latent_keyframe"},{"name":"mask_optional","type":"MASK","link":null,"label":"mask_optional"}],"outputs":[{"name":"TIMESTEP_KF","type":"TIMESTEP_KEYFRAME","links":[96],"shape":3,"label":"TIMESTEP_KF"}],"properties":{"Node name for S&R":"TimestepKeyframe","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":[0.6,0.6,0,true,true],"color":"#322","bgcolor":"#533","serialize_values":[null,null,null,null,null]},{"id":122,"type":"GetNode","pos":[5140.947486701415,1231.0796564486693],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":4,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[168],"slot_index":0,"label":"MODEL"}],"title":"Get_IpadapterModel","properties":{"ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["IpadapterModel"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":71,"type":"TimestepKeyframe","pos":[3816.9474867014155,1064.0796564486693],"size":{"0":355.20001220703125,"1":214},"flags":{},"order":5,"mode":0,"inputs":[{"name":"prev_timestep_kf","type":"TIMESTEP_KEYFRAME","link":null,"label":"prev_timestep_kf"},{"name":"cn_weights","type":"CONTROL_NET_WEIGHTS","link":null,"label":"cn_weights"},{"name":"latent_keyframe","type":"LATENT_KEYFRAME","link":null,"label":"latent_keyframe"},{"name":"mask_optional","type":"MASK","link":null,"label":"mask_optional"}],"outputs":[{"name":"TIMESTEP_KF","type":"TIMESTEP_KEYFRAME","links":[97],"shape":3,"slot_index":0,"label":"TIMESTEP_KF"}],"properties":{"Node name for S&R":"TimestepKeyframe","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":[0,0.7000000000000001,0,true,true],"color":"#322","bgcolor":"#533","serialize_values":[null,null,null,null,null]},{"id":123,"type":"Reroute","pos":[5788.7248892079215,903.2225961188054],"size":[75,26],"flags":{},"order":43,"mode":0,"inputs":[{"name":"","type":"*","link":169,"label":""}],"outputs":[{"name":"","type":"MODEL","links":[170],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false,"ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"color":"#322","bgcolor":"#533"},{"id":116,"type":"GetNode","pos":[6047.7248892079215,909.2225961188054],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":6,"mode":0,"outputs":[{"name":"SEGS","type":"SEGS","links":[163],"slot_index":0,"label":"SEGS"}],"title":"Get_DetailSegs","properties":{"ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["DetailSegs"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":112,"type":"GetNode","pos":[6006.7248892079215,862.2225961188055],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":7,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[159],"slot_index":0,"label":"IMAGE"}],"title":"Get_LoadPersonImage","properties":{"ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["LoadPersonImage"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":27,"type":"DetailerForEachDebug","pos":[6265.724889207921,862.2225961188055],"size":{"0":443.4000244140625,"1":820},"flags":{},"order":48,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":159,"label":"image"},{"name":"segs","type":"SEGS","link":163,"label":"segs"},{"name":"model","type":"MODEL","link":170,"label":"model"},{"name":"clip","type":"CLIP","link":null,"slot_index":3,"label":"clip"},{"name":"vae","type":"VAE","link":null,"slot_index":4,"label":"vae"},{"name":"positive","type":"CONDITIONING","link":92,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":93,"label":"negative"},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"detailer_hook"}],"outputs":[{"name":"image","type":"IMAGE","links":[171],"shape":3,"slot_index":0,"label":"image"},{"name":"cropped","type":"IMAGE","links":[],"shape":6,"slot_index":1,"label":"cropped"},{"name":"cropped_refined","type":"IMAGE","links":null,"shape":6,"label":"cropped_refined"},{"name":"cropped_refined_alpha","type":"IMAGE","links":null,"shape":6,"label":"cropped_refined_alpha"},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6,"label":"cnet_images"}],"properties":{"Node name for S&R":"DetailerForEachDebug","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":[384,true,1024,58167554391249,"randomize",8,1.5,"lcm","normal",0.8,5,true,true,"",1,false,20],"color":"#322","bgcolor":"#533","serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,"",null,null,null]},{"id":124,"type":"SetNode","pos":[6865.724889207922,892.2225961188054],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":51,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":171,"label":"IMAGE"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[176],"label":"IMAGE"}],"title":"Set_DetailerDebugImage","properties":{"previousName":"DetailerDebugImage","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["DetailerDebugImage"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":72,"type":"MeshGraphormer-DepthMapPreprocessor","pos":[4108.200858974043,2110.5778830303034],"size":{"0":315,"1":174},"flags":{},"order":26,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":172,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[102,128],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"INPAINTING_MASK","type":"MASK","links":[119],"shape":3,"slot_index":1,"label":"INPAINTING_MASK"}],"properties":{"Node name for S&R":"MeshGraphormer-DepthMapPreprocessor","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":[30,512,"based_on_depth",5,66],"color":"#322","bgcolor":"#533","serialize_values":[null,null,null,null,null]},{"id":76,"type":"PreviewImage","pos":[4116.200858974042,2338.5778830303034],"size":{"0":302.6730651855469,"1":422.1733703613281},"flags":{},"order":35,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":102,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"color":"#322","bgcolor":"#533"},{"id":125,"type":"GetNode","pos":[3824.200858974043,2137.5778830303034],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":8,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[172],"slot_index":0,"label":"IMAGE"}],"title":"Get_DetailerDebugImage","properties":{"ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["DetailerDebugImage"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":73,"type":"ACN_AdvancedControlNetApply","pos":[4867.20085897404,2050.5778830303034],"size":{"0":355.20001220703125,"1":266},"flags":{},"order":37,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":null,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":null,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":109,"slot_index":2,"label":"control_net"},{"name":"image","type":"IMAGE","link":128,"label":"image"},{"name":"mask_optional","type":"MASK","link":null,"slot_index":4,"label":"mask_optional"},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":129,"slot_index":5,"label":"timestep_kf"},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null,"slot_index":6,"label":"latent_kf_override"},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null,"slot_index":7,"label":"weights_override"},{"name":"model_optional","type":"MODEL","link":null,"label":"model_optional"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[115],"shape":3,"slot_index":0,"label":"positive"},{"name":"negative","type":"CONDITIONING","links":[116],"shape":3,"slot_index":1,"label":"negative"},{"name":"model_opt","type":"MODEL","links":[173],"shape":3,"label":"model_opt"}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":[1,0,1],"color":"#322","bgcolor":"#533","serialize_values":[null,null,null]},{"id":93,"type":"TimestepKeyframe","pos":[4458.200858974041,2150.5778830303034],"size":{"0":355.20001220703125,"1":214},"flags":{},"order":27,"mode":0,"inputs":[{"name":"prev_timestep_kf","type":"TIMESTEP_KEYFRAME","link":130,"label":"prev_timestep_kf"},{"name":"cn_weights","type":"CONTROL_NET_WEIGHTS","link":null,"label":"cn_weights"},{"name":"latent_keyframe","type":"LATENT_KEYFRAME","link":null,"label":"latent_keyframe"},{"name":"mask_optional","type":"MASK","link":null,"label":"mask_optional"}],"outputs":[{"name":"TIMESTEP_KF","type":"TIMESTEP_KEYFRAME","links":[129],"shape":3,"label":"TIMESTEP_KF"}],"properties":{"Node name for S&R":"TimestepKeyframe","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":[0.8,0.4,0,true,true],"color":"#322","bgcolor":"#533","serialize_values":[null,null,null,null,null]},{"id":94,"type":"TimestepKeyframe","pos":[4461.200858974041,2415.577883030304],"size":{"0":355.20001220703125,"1":214},"flags":{},"order":9,"mode":0,"inputs":[{"name":"prev_timestep_kf","type":"TIMESTEP_KEYFRAME","link":null,"label":"prev_timestep_kf"},{"name":"cn_weights","type":"CONTROL_NET_WEIGHTS","link":null,"label":"cn_weights"},{"name":"latent_keyframe","type":"LATENT_KEYFRAME","link":null,"label":"latent_keyframe"},{"name":"mask_optional","type":"MASK","link":null,"label":"mask_optional"}],"outputs":[{"name":"TIMESTEP_KF","type":"TIMESTEP_KEYFRAME","links":[130],"shape":3,"slot_index":0,"label":"TIMESTEP_KF"}],"properties":{"Node name for S&R":"TimestepKeyframe","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":[0,0.8,0,true,true],"color":"#322","bgcolor":"#533","serialize_values":[null,null,null,null,null]},{"id":126,"type":"Reroute","pos":[5229.20085897404,2024.5778830303032],"size":[75,26],"flags":{},"order":44,"mode":0,"inputs":[{"name":"","type":"*","link":173,"label":""}],"outputs":[{"name":"","type":"MODEL","links":[174],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false,"ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"color":"#322","bgcolor":"#533"},{"id":87,"type":"KSampler","pos":[6145.200858974041,2021.5778830303032],"size":{"0":315,"1":474},"flags":{},"order":49,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":174,"slot_index":0,"label":"model"},{"name":"positive","type":"CONDITIONING","link":115,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":116,"label":"negative"},{"name":"latent_image","type":"LATENT","link":121,"label":"latent_image"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[122],"shape":3,"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"KSampler","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":[732425474828755,"randomize",8,1.5,"lcm","normal",1],"color":"#322","bgcolor":"#533","serialize_values":[null,null,null,null,null,null,null]},{"id":88,"type":"VAEEncodeForInpaint","pos":[5821.200858974041,2092.5778830303034],"size":{"0":315,"1":98},"flags":{"collapsed":false},"order":36,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":175,"slot_index":0,"label":"pixels"},{"name":"vae","type":"VAE","link":null,"label":"vae"},{"name":"mask","type":"MASK","link":119,"label":"mask"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[121],"shape":3,"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"VAEEncodeForInpaint","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":[6],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":127,"type":"GetNode","pos":[5599.200858974041,2122.5778830303034],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":10,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[175],"slot_index":0,"label":"IMAGE"}],"title":"Get_DetailerDebugImage","properties":{"ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["DetailerDebugImage"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":89,"type":"VAEDecode","pos":[6548.20085897404,2023.5778830303032],"size":{"0":210,"1":46},"flags":{},"order":52,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":122,"label":"samples"},{"name":"vae","type":"VAE","link":null,"slot_index":1,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[124],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"color":"#322","bgcolor":"#533"},{"id":90,"type":"PreviewImage","pos":[6838.20085897404,2025.5778830303032],"size":{"0":774.5452880859375,"1":805.8104248046875},"flags":{},"order":55,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":124,"label":"images"}],"title":"手部修复后","properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"color":"#322","bgcolor":"#533"},{"id":54,"type":"ConstrainImage|pysssss","pos":[574.2752358600197,554.8660905598922],"size":{"0":315,"1":154},"flags":{},"order":30,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":58,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[153],"shape":6,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ConstrainImage|pysssss","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":[1024,1024,0,0,"no"],"color":"#322","bgcolor":"#533","serialize_values":[null,null,null,null,null]},{"id":108,"type":"SetNode","pos":[993.2752358600196,582.8660905598922],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":41,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":153,"slot_index":0,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":[],"slot_index":0,"label":"*"}],"title":"Set_LoadPersonImage","properties":{"previousName":"LoadPersonImage","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["LoadPersonImage"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":117,"type":"SetNode","pos":[616.2752358600197,1049.8660905598924],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":31,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":164,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_LoadClothesImage","properties":{"previousName":"LoadClothesImage","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["LoadClothesImage"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":61,"type":"IPAdapterNoise","pos":[4730.995998093735,-777.4946928938009],"size":{"0":315,"1":106},"flags":{},"order":23,"mode":0,"inputs":[{"name":"image_optional","type":"IMAGE","link":166,"label":"image_optional"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[74],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"IPAdapterNoise"},"widgets_values":["fade",0.7000000000000001,0],"serialize_values":[null,null,null]},{"id":84,"type":"ControlNetLoader","pos":[4622,2105],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":11,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[109],"shape":3,"label":"CONTROL_NET"}],"properties":{"Node name for S&R":"ControlNetLoader","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["control_sd15_inpaint_depth_hand_fp16.safetensors"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":44,"type":"CR LoRA Stack","pos":[1364.581207694348,1028.286692727335],"size":{"0":315,"1":342},"flags":{},"order":12,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"label":"lora_stack"}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[47],"shape":3,"slot_index":0,"label":"LORA_STACK"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR LoRA Stack","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["On","LCM-LoRA for基础模型1.5(v1.0)",1,1,"On","Add More Details - Detail Enhancer / Twe(v1)",1,1,"Off","None",1,1],"color":"#322","bgcolor":"#533","serialize_values":[null,"lcm_15@8f90d840e0.safetensors",null,null,null,"3402_5137_6006@d9cf2f88de.safetensors",null,null,null,null,null,null]},{"id":19,"type":"CheckpointLoaderSimple","pos":[1720.581207694348,834.2866927273333],"size":{"0":315,"1":98},"flags":{},"order":13,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[49],"shape":3,"slot_index":0,"label":"MODEL"},{"name":"CLIP","type":"CLIP","links":[50],"shape":3,"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[],"shape":3,"label":"VAE","slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["majicMIX realistic(v7)"],"color":"#322","bgcolor":"#533","serialize_values":["192_3750_4424@7c819b6d13.safetensors"]},{"id":56,"type":"VAELoader","pos":[1720.581207694348,726.2866927273335],"size":{"0":315,"1":58},"flags":{},"order":14,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[150],"shape":3,"slot_index":0,"label":"VAE"}],"properties":{"Node name for S&R":"VAELoader","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["vae-ft-mse-840000-ema-pruned.ckpt"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":67,"type":"ControlNetLoader","pos":[5127,960],"size":{"0":315,"1":58},"flags":{"collapsed":true},"order":15,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[87],"shape":3,"slot_index":0,"label":"CONTROL_NET"}],"properties":{"Node name for S&R":"ControlNetLoader","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["control_v11p_sd15_openpose.pth"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":32,"type":"IPAdapterAdvanced","pos":[5496.995998093736,-848.4946928938012],"size":{"0":315,"1":278},"flags":{},"order":40,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":30,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","link":31,"label":"ipadapter"},{"name":"image","type":"IMAGE","link":213,"label":"image","slot_index":2},{"name":"image_negative","type":"IMAGE","link":74,"label":"image_negative"},{"name":"attn_mask","type":"MASK","link":217,"label":"attn_mask"},{"name":"clip_vision","type":"CLIP_VISION","link":214,"label":"clip_vision"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[167],"shape":3,"slot_index":0,"label":"MODEL"}],"properties":{"Node name for S&R":"IPAdapterAdvanced"},"widgets_values":[1,"linear","concat",0,1,"V only"],"serialize_values":[null,null,null,null,null,null]},{"id":128,"type":"CLIPVisionLoader","pos":[5089,-719],"size":{"0":315,"1":58},"flags":{},"order":16,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[214],"shape":3,"label":"CLIP_VISION","slot_index":0}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["CLIP-ViT-H-14-laion2B-s32B-b79K.safetensors"],"serialize_values":[null]},{"id":119,"type":"GetNode","pos":[3843,-751],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":17,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[213,215],"slot_index":0,"label":"IMAGE"}],"title":"Get_LoadClothesImage","properties":{"ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["LoadClothesImage"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":103,"type":"PreviewImage","pos":[7186,862],"size":{"0":789.3401489257812,"1":811.3900756835938},"flags":{},"order":54,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":176,"label":"images","slot_index":0}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"color":"#322","bgcolor":"#533"},{"id":28,"type":"LoadImage","pos":[112,553],"size":{"0":342.1023864746094,"1":411.5208435058594},"flags":{},"order":18,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[58],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"title":"上传人物","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/2e0cca23e744c036b3905c4b6167371632942e1c.png@1536w_1536h_0e","image"],"color":"#322","bgcolor":"#533","serialize_values":[null,null]},{"id":20,"type":"LoadImage","pos":[113.27523586001962,1021.8660905598924],"size":{"0":340.8703308105469,"1":505.1885070800781},"flags":{},"order":19,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[164],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"title":"上传衣服，可以是人物穿着的衣服","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/2046721f0915daba8c52ee0e1522d7d0a7bf54c7.png@1536w_1536h_0e","image"],"color":"#232","bgcolor":"#353","serialize_values":[null,null]},{"id":110,"type":"GetNode","pos":[3838.6815021787766,148.6723492376614],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":20,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[218],"slot_index":0,"label":"IMAGE"}],"title":"Get_LoadPersonImage","properties":{"ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["LoadPersonImage"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":130,"type":"LayerMask: PersonMaskUltra V2","pos":[4148.681502178777,120.67234923766128],"size":{"0":315,"1":366},"flags":{},"order":32,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":218,"label":"images","slot_index":0}],"outputs":[{"name":"image","type":"IMAGE","links":null,"shape":3,"label":"image"},{"name":"mask","type":"MASK","links":[219],"shape":3,"label":"mask","slot_index":1}],"properties":{"Node name for S&R":"LayerMask: PersonMaskUltra V2"},"widgets_values":[false,false,false,true,false,false,0.4,"PyMatting",50,20,0.01,0.99,true],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null]},{"id":131,"type":"MaskToSEGS","pos":[4558.681502178774,140.67234923766136],"size":{"0":315,"1":154},"flags":{},"order":42,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":219,"label":"mask"}],"outputs":[{"name":"SEGS","type":"SEGS","links":[220],"shape":3,"label":"SEGS","slot_index":0}],"properties":{"Node name for S&R":"MaskToSEGS"},"widgets_values":[false,3,false,10,false],"serialize_values":[null,null,null,null,null]},{"id":113,"type":"SetNode","pos":[4933.681502178774,171.67234923766142],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":47,"mode":0,"inputs":[{"name":"SEGS","type":"SEGS","link":220,"label":"SEGS"}],"outputs":[{"name":"SEGS","type":"SEGS","links":[161],"slot_index":0,"label":"SEGS"}],"title":"Set_DetailSegs","properties":{"previousName":"DetailSegs","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"widgets_values":["DetailSegs"],"color":"#322","bgcolor":"#533","serialize_values":[null]},{"id":114,"type":"SegsToCombinedMask","pos":[5127.681502178774,143.67234923766136],"size":{"0":210,"1":26},"flags":{},"order":50,"mode":0,"inputs":[{"name":"segs","type":"SEGS","link":161,"label":"segs"}],"outputs":[{"name":"MASK","type":"MASK","links":[162],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"SegsToCombinedMask","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"color":"#322","bgcolor":"#533"},{"id":115,"type":"MaskPreview+","pos":[5377.681502178774,143.67234923766136],"size":{"0":210,"1":246},"flags":{},"order":53,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":162,"label":"mask"}],"properties":{"Node name for S&R":"MaskPreview+","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"color":"#322","bgcolor":"#533"},{"id":60,"type":"PreviewImage","pos":[4380,-684],"size":{"0":346.0045166015625,"1":376.5259094238281},"flags":{},"order":39,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":216,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage","ttNbgOverride":{"color":"#322","bgcolor":"#533","groupcolor":"#A88"}},"color":"#322","bgcolor":"#533"},{"id":129,"type":"LayerMask: PersonMaskUltra V2","pos":[4059,-777],"size":{"0":315,"1":366},"flags":{},"order":29,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":215,"label":"images","slot_index":0}],"outputs":[{"name":"image","type":"IMAGE","links":[216],"shape":3,"label":"image","slot_index":0},{"name":"mask","type":"MASK","links":[217],"shape":3,"label":"mask","slot_index":1}],"properties":{"Node name for S&R":"LayerMask: PersonMaskUltra V2"},"widgets_values":[false,false,false,true,false,false,0.4,"PyMatting",50,20,0.01,0.99,true],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null]}],"links":[[30,29,0,32,0,"MODEL"],[31,29,1,32,1,"IPADAPTER"],[47,44,0,45,2,"LORA_STACK"],[49,19,0,45,0,"MODEL"],[50,19,1,45,1,"CLIP"],[58,28,0,54,0,"IMAGE"],[70,59,0,21,1,"STRING"],[71,59,1,22,1,"STRING"],[74,61,0,32,3,"IMAGE"],[87,67,0,69,2,"CONTROL_NET"],[92,69,0,27,5,"CONDITIONING"],[93,69,1,27,6,"CONDITIONING"],[96,70,0,69,5,"TIMESTEP_KEYFRAME"],[97,71,0,70,0,"TIMESTEP_KEYFRAME"],[102,72,0,76,0,"IMAGE"],[109,84,0,73,2,"CONTROL_NET"],[115,73,0,87,1,"CONDITIONING"],[116,73,1,87,2,"CONDITIONING"],[119,72,1,88,2,"MASK"],[121,88,0,87,3,"LATENT"],[122,87,0,89,0,"LATENT"],[124,89,0,90,0,"IMAGE"],[128,72,0,73,3,"IMAGE"],[129,93,0,73,5,"TIMESTEP_KEYFRAME"],[130,94,0,93,0,"TIMESTEP_KEYFRAME"],[144,45,1,105,0,"CLIP"],[148,45,0,106,1,"MODEL"],[149,105,0,106,2,"CLIP"],[150,56,0,106,0,"VAE"],[151,21,0,107,0,"CONDITIONING"],[152,22,0,107,1,"CONDITIONING"],[153,54,0,108,0,"*"],[155,97,0,69,3,"IMAGE"],[156,109,0,97,0,"IMAGE"],[159,112,0,27,0,"IMAGE"],[161,113,0,114,0,"SEGS"],[162,114,0,115,0,"MASK"],[163,116,0,27,1,"SEGS"],[164,20,0,117,0,"*"],[166,120,0,61,0,"IMAGE"],[167,32,0,121,0,"*"],[168,122,0,69,8,"MODEL"],[169,69,2,123,0,"*"],[170,123,0,27,2,"MODEL"],[171,27,0,124,0,"*"],[172,125,0,72,0,"IMAGE"],[173,73,2,126,0,"*"],[174,126,0,87,0,"MODEL"],[175,127,0,88,0,"IMAGE"],[176,124,0,103,0,"IMAGE"],[177,105,0,21,0,"CLIP"],[178,105,0,22,0,"CLIP"],[179,21,0,69,0,"CONDITIONING"],[180,22,0,69,1,"CONDITIONING"],[181,45,0,29,0,"MODEL"],[182,105,0,27,3,"CLIP"],[183,56,0,27,4,"VAE"],[184,21,0,73,0,"CONDITIONING"],[185,22,0,73,1,"CONDITIONING"],[186,45,0,73,8,"MODEL"],[187,56,0,88,1,"VAE"],[188,56,0,89,1,"VAE"],[189,105,0,21,0,"CLIP"],[190,105,0,22,0,"CLIP"],[191,21,0,69,0,"CONDITIONING"],[192,22,0,69,1,"CONDITIONING"],[193,45,0,29,0,"MODEL"],[194,105,0,27,3,"CLIP"],[195,56,0,27,4,"VAE"],[196,21,0,73,0,"CONDITIONING"],[197,22,0,73,1,"CONDITIONING"],[198,45,0,73,8,"MODEL"],[199,56,0,88,1,"VAE"],[200,56,0,89,1,"VAE"],[201,105,0,21,0,"CLIP"],[202,105,0,22,0,"CLIP"],[203,21,0,69,0,"CONDITIONING"],[204,22,0,69,1,"CONDITIONING"],[205,45,0,29,0,"MODEL"],[206,105,0,27,3,"CLIP"],[207,56,0,27,4,"VAE"],[208,21,0,73,0,"CONDITIONING"],[209,22,0,73,1,"CONDITIONING"],[210,45,0,73,8,"MODEL"],[211,56,0,88,1,"VAE"],[212,56,0,89,1,"VAE"],[213,119,0,32,2,"IMAGE"],[214,128,0,32,5,"CLIP_VISION"],[215,119,0,129,0,"IMAGE"],[216,129,0,60,0,"IMAGE"],[217,129,1,32,4,"MASK"],[218,110,0,130,0,"IMAGE"],[219,130,1,131,0,"MASK"],[220,131,0,113,0,"SEGS"],[221,105,0,21,0,"CLIP"],[222,105,0,22,0,"CLIP"],[223,21,0,69,0,"CONDITIONING"],[224,22,0,69,1,"CONDITIONING"],[225,45,0,29,0,"MODEL"],[226,105,0,27,3,"CLIP"],[227,56,0,27,4,"VAE"],[228,21,0,73,0,"CONDITIONING"],[229,22,0,73,1,"CONDITIONING"],[230,45,0,73,8,"MODEL"],[231,56,0,88,1,"VAE"],[232,56,0,89,1,"VAE"],[233,105,0,21,0,"CLIP"],[234,105,0,22,0,"CLIP"],[235,21,0,69,0,"CONDITIONING"],[236,22,0,69,1,"CONDITIONING"],[237,45,0,29,0,"MODEL"],[238,105,0,27,3,"CLIP"],[239,56,0,27,4,"VAE"],[240,21,0,73,0,"CONDITIONING"],[241,22,0,73,1,"CONDITIONING"],[242,45,0,73,8,"MODEL"],[243,56,0,88,1,"VAE"],[244,56,0,89,1,"VAE"]],"groups":[{"title":"Group","bounding":[2314,656,1348,678],"color":"#3f789e","font_size":24,"locked":false},{"title":"Group","bounding":[1273,554,1034,883],"color":"#8AA","font_size":24,"locked":false},{"title":"Group","bounding":[11,381,1258,1222],"color":"#3f789e","font_size":24,"locked":false},{"title":"Group","bounding":[3675,-130,2010,772],"color":"#3f789e","font_size":24,"locked":false},{"title":"Group","bounding":[3672,-1039,2402,902],"color":"#3f789e","font_size":24,"locked":false},{"title":"Group","bounding":[3667,1875,4188,1341],"color":"#3f789e","font_size":24,"locked":false},{"title":"Group","bounding":[3668,658,4486,1209],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}