{"last_node_id":26,"last_link_id":38,"nodes":[{"id":3,"type":"SAMModelLoader (segment anything)","pos":[610,396],"size":{"0":315,"1":58},"flags":{},"order":0,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[1],"shape":3,"label":"SAM_MODEL","slot_index":0}],"properties":{"Node name for S&R":"SAMModelLoader (segment anything)"},"widgets_values":["sam_vit_h (2.56GB)"],"serialize_values":[null]},{"id":4,"type":"GroundingDinoModelLoader (segment anything)","pos":[613,518],"size":{"0":361.20001220703125,"1":58},"flags":{},"order":1,"mode":0,"outputs":[{"name":"GROUNDING_DINO_MODEL","type":"GROUNDING_DINO_MODEL","links":[2],"shape":3,"label":"GROUNDING_DINO_MODEL"}],"properties":{"Node name for S&R":"GroundingDinoModelLoader (segment anything)"},"widgets_values":["GroundingDINO_SwinB (938MB)"],"serialize_values":[null]},{"id":2,"type":"GroundingDinoSAMSegment (segment anything)","pos":[991,245],"size":{"0":352.79998779296875,"1":122},"flags":{},"order":11,"mode":0,"inputs":[{"name":"sam_model","type":"SAM_MODEL","link":1,"label":"sam_model"},{"name":"grounding_dino_model","type":"GROUNDING_DINO_MODEL","link":2,"label":"grounding_dino_model","slot_index":1},{"name":"image","type":"IMAGE","link":3,"label":"image","slot_index":2}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":null,"shape":3,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[4],"shape":3,"label":"MASK","slot_index":1}],"properties":{"Node name for S&R":"GroundingDinoSAMSegment (segment anything)"},"widgets_values":["dress",0.3],"serialize_values":[null,null]},{"id":7,"type":"PreviewImage","pos":[1727,360],"size":{"0":210,"1":246},"flags":{},"order":16,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":6,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":10,"type":"IPAdapterUnifiedLoader","pos":[653,-290],"size":{"0":315,"1":78},"flags":{},"order":8,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":9,"label":"model","slot_index":0},{"name":"ipadapter","type":"IPADAPTER","link":null,"label":"ipadapter"}],"outputs":[{"name":"model","type":"MODEL","links":[7],"shape":3,"label":"model","slot_index":0},{"name":"ipadapter","type":"IPADAPTER","links":[8],"shape":3,"label":"ipadapter","slot_index":1}],"properties":{"Node name for S&R":"IPAdapterUnifiedLoader"},"widgets_values":["PLUS (high strength)"],"serialize_values":[null]},{"id":12,"type":"CLIPVisionLoader","pos":[652,-169],"size":{"0":315,"1":58},"flags":{},"order":2,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[12],"shape":3,"label":"CLIP_VISION"}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["CLIP-ViT-H-14-laion2B-s32B-b79K.safetensors"],"serialize_values":[null]},{"id":15,"type":"CLIPTextEncode","pos":[778,-441],"size":{"0":235.75990295410156,"1":97.49491119384766},"flags":{},"order":10,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":17,"label":"clip","slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[15,33],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"color":"#322","bgcolor":"#533","serialize_values":[""]},{"id":16,"type":"VAEEncodeForInpaint","pos":[653,47],"size":{"0":315,"1":98},"flags":{},"order":15,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":19,"label":"pixels","slot_index":0},{"name":"vae","type":"VAE","link":20,"label":"vae","slot_index":1},{"name":"mask","type":"MASK","link":21,"label":"mask","slot_index":2}],"outputs":[{"name":"LATENT","type":"LATENT","links":[18,22],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"VAEEncodeForInpaint"},"widgets_values":[6],"serialize_values":[null]},{"id":17,"type":"VAEDecode","pos":[1008,47],"size":{"0":210,"1":46},"flags":{},"order":18,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":22,"label":"samples"},{"name":"vae","type":"VAE","link":23,"label":"vae","slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[24],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":18,"type":"PreviewImage","pos":[1491,442],"size":{"0":210,"1":246},"flags":{},"order":20,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":24,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":19,"type":"VAEDecode","pos":[1817,-286],"size":{"0":210,"1":46},"flags":{},"order":19,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":25,"label":"samples"},{"name":"vae","type":"VAE","link":26,"label":"vae","slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[27,28],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":14,"type":"CLIPTextEncode","pos":[779,-594],"size":{"0":235.75990295410156,"1":97.49491119384766},"flags":{},"order":9,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":16,"label":"clip","slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[14,32],"shape":3,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["blue dress with floral print"],"color":"#232","bgcolor":"#353","serialize_values":["blue dress with floral print"]},{"id":23,"type":"SAMLoader","pos":[1558,879],"size":{"0":315,"1":82},"flags":{},"order":3,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[35],"shape":3,"label":"SAM_MODEL"}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_h_4b8939.pth","AUTO"],"serialize_values":[null,null]},{"id":25,"type":"MaskToImage","pos":[2524,126],"size":{"0":210,"1":26},"flags":{},"order":24,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":37,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[38],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":26,"type":"PreviewImage","pos":[2770,127],"size":{"0":210,"1":246},"flags":{},"order":25,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":38,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":20,"type":"PreviewImage","pos":[2080,-494],"size":{"0":435.7867126464844,"1":495.1660461425781},"flags":{},"order":21,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":27,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":5,"type":"FeatherMask","pos":[1377,264],"size":{"0":315,"1":130},"flags":{},"order":12,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":4,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[5,11,21],"shape":3,"label":"MASK","slot_index":0}],"properties":{"Node name for S&R":"FeatherMask"},"widgets_values":[2,2,2,2],"serialize_values":[null,null,null,null]},{"id":6,"type":"MaskToImage","pos":[1721,263],"size":{"0":210,"1":26},"flags":{},"order":13,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":5,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[6],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":24,"type":"PreviewImage","pos":[2556,-494],"size":{"0":389.22442626953125,"1":495.8097229003906},"flags":{},"order":23,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":36,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":9,"type":"IPAdapterAdvanced","pos":[1070,-285],"size":{"0":315,"1":278},"flags":{},"order":14,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":7,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","link":8,"label":"ipadapter"},{"name":"image","type":"IMAGE","link":10,"label":"image","slot_index":2},{"name":"image_negative","type":"IMAGE","link":null,"label":"image_negative"},{"name":"attn_mask","type":"MASK","link":11,"label":"attn_mask","slot_index":4},{"name":"clip_vision","type":"CLIP_VISION","link":12,"label":"clip_vision","slot_index":5}],"outputs":[{"name":"MODEL","type":"MODEL","links":[13],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterAdvanced"},"widgets_values":[1,"style transfer","concat",0,1,"V only"],"serialize_values":[null,null,null,null,null,null]},{"id":13,"type":"KSampler","pos":[1427,-374],"size":{"0":315,"1":474},"flags":{},"order":17,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":13,"label":"model"},{"name":"positive","type":"CONDITIONING","link":14,"label":"positive","slot_index":1},{"name":"negative","type":"CONDITIONING","link":15,"label":"negative"},{"name":"latent_image","type":"LATENT","link":18,"label":"latent_image","slot_index":3}],"outputs":[{"name":"LATENT","type":"LATENT","links":[25],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[75808535078811,"randomize",30,8,"dpmpp_2m","karras",1],"serialize_values":[null,null,null,null,null,null,null]},{"id":21,"type":"FaceDetailer","pos":[1986,66],"size":{"0":506.4000244140625,"1":1100},"flags":{},"order":22,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":28,"label":"image","slot_index":0},{"name":"model","type":"MODEL","link":29,"label":"model","slot_index":1},{"name":"clip","type":"CLIP","link":30,"label":"clip","slot_index":2},{"name":"vae","type":"VAE","link":31,"label":"vae","slot_index":3},{"name":"positive","type":"CONDITIONING","link":32,"label":"positive","slot_index":4},{"name":"negative","type":"CONDITIONING","link":33,"label":"negative","slot_index":5},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":34,"label":"bbox_detector"},{"name":"sam_model_opt","type":"SAM_MODEL","link":35,"label":"sam_model_opt","slot_index":7},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null,"label":"segm_detector_opt"},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"detailer_hook"}],"outputs":[{"name":"image","type":"IMAGE","links":[36],"shape":3,"label":"image","slot_index":0},{"name":"cropped_refined","type":"IMAGE","links":null,"shape":6,"label":"cropped_refined"},{"name":"cropped_enhanced_alpha","type":"IMAGE","links":null,"shape":6,"label":"cropped_enhanced_alpha"},{"name":"mask","type":"MASK","links":[37],"shape":3,"label":"mask","slot_index":3},{"name":"detailer_pipe","type":"DETAILER_PIPE","links":null,"shape":3,"label":"detailer_pipe"},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6,"label":"cnet_images"}],"properties":{"Node name for S&R":"FaceDetailer"},"widgets_values":[384,true,1024,331137411422302,"randomize",20,8,"euler_ancestral","normal",0.3,5,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"",1,false,20],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",null,null,null]},{"id":11,"type":"CheckpointLoaderSimple","pos":[256,80],"size":{"0":315,"1":98},"flags":{},"order":4,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[9,29],"shape":3,"label":"MODEL"},{"name":"CLIP","type":"CLIP","links":[16,17,30],"shape":3,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[20,23,26,31],"shape":3,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["majicMIX realistic(v7)"],"serialize_values":["192_3750_4424@7c819b6d13.safetensors"]},{"id":22,"type":"UltralyticsDetectorProvider","pos":[1556,748],"size":{"0":315,"1":78},"flags":{},"order":5,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[34],"shape":3,"label":"BBOX_DETECTOR","slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":null,"shape":3,"label":"SEGM_DETECTOR"}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["segm/person_yolov8m-seg.pt"],"serialize_values":[null]},{"id":8,"type":"LoadImage","pos":[250,-285],"size":{"0":315,"1":314},"flags":{},"order":6,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[10],"shape":3,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/d4692af232b154e7a2acfc39fcdec1ef78208512.png@1536w_1536h_0e","image"],"serialize_values":[null,null]},{"id":1,"type":"LoadImage","pos":[266,238],"size":{"0":315,"1":314},"flags":{},"order":7,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[3,19],"shape":3,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/d46a1bbc0bee45f2bcc83888109133c8a0264be2.jpg@1536w_1536h_0e","image"],"serialize_values":[null,null]}],"links":[[1,3,0,2,0,"SAM_MODEL"],[2,4,0,2,1,"GROUNDING_DINO_MODEL"],[3,1,0,2,2,"IMAGE"],[4,2,1,5,0,"MASK"],[5,5,0,6,0,"MASK"],[6,6,0,7,0,"IMAGE"],[7,10,0,9,0,"MODEL"],[8,10,1,9,1,"IPADAPTER"],[9,11,0,10,0,"MODEL"],[10,8,0,9,2,"IMAGE"],[11,5,0,9,4,"MASK"],[12,12,0,9,5,"CLIP_VISION"],[13,9,0,13,0,"MODEL"],[14,14,0,13,1,"CONDITIONING"],[15,15,0,13,2,"CONDITIONING"],[16,11,1,14,0,"CLIP"],[17,11,1,15,0,"CLIP"],[18,16,0,13,3,"LATENT"],[19,1,0,16,0,"IMAGE"],[20,11,2,16,1,"VAE"],[21,5,0,16,2,"MASK"],[22,16,0,17,0,"LATENT"],[23,11,2,17,1,"VAE"],[24,17,0,18,0,"IMAGE"],[25,13,0,19,0,"LATENT"],[26,11,2,19,1,"VAE"],[27,19,0,20,0,"IMAGE"],[28,19,0,21,0,"IMAGE"],[29,11,0,21,1,"MODEL"],[30,11,1,21,2,"CLIP"],[31,11,2,21,3,"VAE"],[32,14,0,21,4,"CONDITIONING"],[33,15,0,21,5,"CONDITIONING"],[34,22,0,21,6,"BBOX_DETECTOR"],[35,23,0,21,7,"SAM_MODEL"],[36,21,0,24,0,"IMAGE"],[37,21,3,25,0,"MASK"],[38,25,0,26,0,"IMAGE"]],"groups":[],"config":{},"extra":{},"version":0.4}