{"last_node_id":56,"last_link_id":92,"nodes":[{"id":3,"type":"SAMModelLoader (segment anything)","pos":[1067,103],"size":{"0":315,"1":82},"flags":{},"order":0,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[2],"shape":3,"label":"SAM\u6a21\u578b"}],"properties":"Node name for S&R': 'SAMModelLoader (segment anything)","widgets_values":["sam_hq_vit_h (2.57GB)"],"serialize_values":[null]},{"id":4,"type":"GroundingDinoModelLoader (segment anything)","pos":[1068,233],"size":{"0":361.20001220703125,"1":58},"flags":{},"order":1,"mode":0,"outputs":[{"name":"GROUNDING_DINO_MODEL","type":"GROUNDING_DINO_MODEL","links":[84],"shape":3,"label":"GROUNDING_DINO_MODEL"}],"properties":{"Node name for S&R":"GroundingDinoModelLoader (segment anything)"},"widgets_values":["GroundingDINO_SwinB (938MB)"],"serialize_values":[null]},{"id":13,"type":"CheckpointLoaderSimple","pos":[1040,703],"size":{"0":315,"1":98},"flags":{},"order":2,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[16,35,52],"shape":3,"label":"\u6a21\u578b"},{"name":"CLIP","type":"CLIP","links":[17],"shape":3,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[24,26,50,56],"shape":3,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["majicMIX realistic(v7)"],"serialize_values":["192_3750_4424@7c819b6d13.safetensors"]},{"id":18,"type":"VAEDecode","pos":[1973,719],"size":{"0":210,"1":46},"flags":{},"order":24,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":25,"label":"Latent"},{"name":"vae","type":"VAE","link":26,"label":"VAE","slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[27,49],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":15,"type":"CLIPTextEncode","pos":[1405,767],"size":{"0":210,"1":76},"flags":{},"order":17,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":79,"label":"CLIP","slot_index":0}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[53,64],"shape":3,"label":"\u6761\u4ef6","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"serialize_values":[""]},{"id":12,"type":"Reroute","pos":[1434,571],"size":[75,26],"flags":{},"order":12,"mode":0,"inputs":[{"name":"","type":"*","link":14,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[15],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":30,"type":"PreviewImage","pos":[2159,73],"size":{"0":210,"1":246},"flags":{},"order":22,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":45,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":5,"type":"PreviewImage","pos":[1847,119],"size":{"0":210,"1":246},"flags":{},"order":18,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":4,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":29,"type":"MaskToImage","pos":[1879,52],"size":{"0":210,"1":26},"flags":{},"order":20,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":48,"label":"\u906e\u7f69","slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[45],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":31,"type":"VAEEncode","pos":[2247,705],"size":{"0":210,"1":46},"flags":{},"order":26,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":49,"label":"\u56fe\u50cf"},{"name":"vae","type":"VAE","link":50,"label":"VAE","slot_index":1}],"outputs":[{"name":"LATENT","type":"LATENT","links":[51],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":39,"type":"DWPreprocessor","pos":[2498,423],"size":{"0":315,"1":198},"flags":{},"order":13,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":71,"label":"\u56fe\u50cf"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[70],"shape":3,"label":"\u56fe\u50cf","slot_index":0},{"name":"POSE_KEYPOINT","type":"POSE_KEYPOINT","links":null,"shape":3,"slot_index":1,"label":"POSE_KEYPOINT"}],"properties":{"Node name for S&R":"DWPreprocessor"},"widgets_values":["enable","enable","enable",512,"yolox_l.onnx","dw-ll_ucoco_384.onnx"],"serialize_values":[null,null,null,null,null,null]},{"id":40,"type":"ControlNetLoader","pos":[2502,316],"size":{"0":315,"1":58},"flags":{},"order":3,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[73],"shape":3,"label":"ControlNet"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v11f1p_sd15_depth.pth"],"serialize_values":[null]},{"id":38,"type":"ACN_AdvancedControlNetApply","pos":[2501,30],"size":{"0":342.5999755859375,"1":246},"flags":{},"order":21,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":64,"label":"\u6b63\u9762\u6761\u4ef6","slot_index":0},{"name":"negative","type":"CONDITIONING","link":65,"label":"\u8d1f\u9762\u6761\u4ef6","slot_index":1},{"name":"control_net","type":"CONTROL_NET","link":73,"label":"ControlNet","slot_index":2},{"name":"image","type":"IMAGE","link":70,"label":"\u56fe\u50cf"},{"name":"mask_optional","type":"MASK","link":74,"label":"\u906e\u7f69"},{"name":"timestep_kf","type":"TIMESTEP_KEYFRAME","link":null,"label":"timestep_kf"},{"name":"latent_kf_override","type":"LATENT_KEYFRAME","link":null,"label":"latent_kf_override"},{"name":"weights_override","type":"CONTROL_NET_WEIGHTS","link":null,"label":"weights_override"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[68],"shape":3,"label":"\u6b63\u9762\u6761\u4ef6","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[69],"shape":3,"label":"\u8d1f\u9762\u6761\u4ef6","slot_index":1}],"properties":{"Node name for S&R":"ACN_AdvancedControlNetApply"},"widgets_values":[0.8,0,1],"serialize_values":[null,null,null]},{"id":24,"type":"CLIPVisionLoader","pos":[1016,1291],"size":{"0":315,"1":58},"flags":{},"order":4,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[32],"shape":3,"label":"CLIP\u89c6\u89c9"}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["ip_adaptor_sd15_pytorch_model.bin"],"serialize_values":[null]},{"id":21,"type":"IPAdapterModelLoader","pos":[1012,1196],"size":{"0":315,"1":58},"flags":{},"order":5,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[29],"shape":3,"label":"IP\u9002\u914d"}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-plus_sd15.safetensors"],"serialize_values":[null]},{"id":41,"type":"LoraLoader","pos":[1016,1015],"size":{"0":315,"1":126},"flags":{},"order":14,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":76,"label":"\u6a21\u578b"},{"name":"clip","type":"CLIP","link":77,"label":"CLIP"}],"outputs":[{"name":"MODEL","type":"MODEL","links":null,"shape":3,"label":"\u6a21\u578b"},{"name":"CLIP","type":"CLIP","links":[78,79],"shape":3,"label":"CLIP"}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["ip-adapter-faceid_sd15_lora.safetensors(v1.0)",1,1],"serialize_values":["2913_4454_5215@70699f0dbf.safetensors",null,null]},{"id":16,"type":"CLIPTextEncode","pos":[1399.6344093322755,886.9932164306642],"size":{"0":210,"1":76.00000762939453},"flags":{},"order":16,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":78,"label":"CLIP"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[54,65],"shape":3,"label":"\u6761\u4ef6","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["NSFW,ugly, tiling, poorly drawn hands, poorly drawn feet, poorly drawn face, out of frame, extra limbs, disfigured, deformed, body out of frame, bad anatomy, watermark, signature, cut off, low contrast, underexposed, overexposed, bad art, beginner, amateur, distorted face"],"serialize_values":["NSFW,ugly, tiling, poorly drawn hands, poorly drawn feet, poorly drawn face, out of frame, extra limbs, disfigured, deformed, body out of frame, bad anatomy, watermark, signature, cut off, low contrast, underexposed, overexposed, bad art, beginner, amateur, distorted face"]},{"id":35,"type":"ImageUpscaleWithModel","pos":[2530,1059],"size":{"0":241.79998779296875,"1":46},"flags":{},"order":29,"mode":0,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":59,"label":"\u653e\u5927\u6a21\u578b","slot_index":0},{"name":"image","type":"IMAGE","link":58,"label":"\u56fe\u50cf"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[80],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"ImageUpscaleWithModel"}},{"id":36,"type":"UpscaleModelLoader","pos":[2497,1154],"size":{"0":315,"1":58},"flags":{},"order":6,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[59],"shape":3,"label":"\u653e\u5927\u6a21\u578b"}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["4x-UltraSharp.pth"],"serialize_values":[null]},{"id":42,"type":"SaveImage","pos":[2851,654],"size":{"0":574,"1":676},"flags":{},"order":30,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":80,"label":"\u56fe\u50cf"}],"properties":{},"widgets_values":["ComfyUI"],"serialize_values":["ComfyUI"]},{"id":33,"type":"VAEDecode","pos":[2541,972],"size":{"0":210,"1":46},"flags":{},"order":28,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":55,"label":"Latent"},{"name":"vae","type":"VAE","link":56,"label":"VAE","slot_index":1}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[58],"shape":3,"label":"\u56fe\u50cf","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":1,"type":"GroundingDinoSAMSegment (segment anything)","pos":[1430,135],"size":{"0":352.79998779296875,"1":122},"flags":{},"order":15,"mode":0,"inputs":[{"name":"sam_model","type":"SAM_MODEL","link":2,"label":"sam_model","slot_index":0},{"name":"grounding_dino_model","type":"GROUNDING_DINO_MODEL","link":84,"label":"grounding_dino_model","slot_index":1},{"name":"image","type":"IMAGE","link":15,"label":"image","slot_index":2},{"name":"prompt","type":"STRING","link":92,"widget":{"name":"prompt"},"slot_index":3,"label":"prompt"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[4],"shape":3,"label":"IMAGE","slot_index":0},{"name":"MASK","type":"MASK","links":[47,48,74],"shape":3,"label":"MASK","slot_index":1}],"properties":{"Node name for S&R":"GroundingDinoSAMSegment (segment anything)"},"widgets_values":["clothes",0.3],"serialize_values":["clothes",null]},{"id":8,"type":"VAEEncodeForInpaint","pos":[1382,510],"size":{"0":313.52313232421875,"1":113.40406799316406},"flags":{},"order":19,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":75,"label":"\u56fe\u50cf","slot_index":0},{"name":"vae","type":"VAE","link":24,"label":"VAE","slot_index":1},{"name":"mask","type":"MASK","link":47,"label":"\u906e\u7f69","slot_index":2}],"outputs":[{"name":"LATENT","type":"LATENT","links":[23],"shape":3,"label":"Latent"}],"properties":{"Node name for S&R":"VAEEncodeForInpaint"},"widgets_values":[6],"serialize_values":[null]},{"id":14,"type":"LoraLoader","pos":[1032,847],"size":{"0":315,"1":126},"flags":{},"order":10,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":16,"label":"\u6a21\u578b"},{"name":"clip","type":"CLIP","link":17,"label":"CLIP"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[76],"shape":3,"label":"\u6a21\u578b"},{"name":"CLIP","type":"CLIP","links":[77],"shape":3,"label":"CLIP","slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["abel\u5e05\u54e5\uff0c\u7f51\u7ea2\uff0c\u7537\u81383(0.1)",0.2,0.2],"serialize_values":["3794_5788_6762@6800f193f4.safetensors",null,null]},{"id":32,"type":"KSampler","pos":[2500,667],"size":{"0":315,"1":262},"flags":{},"order":27,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":52,"label":"\u6a21\u578b","slot_index":0},{"name":"positive","type":"CONDITIONING","link":53,"label":"\u6b63\u9762\u63d0\u793a\u8bcd","slot_index":1},{"name":"negative","type":"CONDITIONING","link":54,"label":"\u8d1f\u9762\u63d0\u793a\u8bcd","slot_index":2},{"name":"latent_image","type":"LATENT","link":51,"label":"Latent"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[55],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[856012954684419,"randomize",30,8,"euler_ancestral","normal",0.3],"serialize_values":[null,null,null,null,null,null,null]},{"id":17,"type":"KSampler","pos":[1643,709],"size":{"0":315,"1":262},"flags":{},"order":23,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":36,"label":"\u6a21\u578b","slot_index":0},{"name":"positive","type":"CONDITIONING","link":68,"label":"\u6b63\u9762\u63d0\u793a\u8bcd"},{"name":"negative","type":"CONDITIONING","link":69,"label":"\u8d1f\u9762\u63d0\u793a\u8bcd"},{"name":"latent_image","type":"LATENT","link":23,"label":"Latent","slot_index":3}],"outputs":[{"name":"LATENT","type":"LATENT","links":[25],"shape":3,"label":"Latent","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[1095056787325127,"randomize",20,8,"uni_pc","normal",0.5],"serialize_values":[null,null,null,null,null,null,null]},{"id":20,"type":"IPAdapterAdvanced","pos":[1367,1060],"size":{"0":315,"1":258},"flags":{},"order":11,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":29,"label":"IP\u9002\u914d","slot_index":0},{"name":"clip_vision","type":"CLIP_VISION","link":32,"label":"CLIP\u89c6\u89c9","slot_index":1},{"name":"image","type":"IMAGE","link":40,"label":"\u56fe\u50cf","slot_index":2},{"name":"model","type":"MODEL","link":35,"label":"\u6a21\u578b","slot_index":3},{"name":"attn_mask","type":"MASK","link":null,"slot_index":4,"label":"attn_mask"},{"name":"image_negative","type":"IMAGE","link":"null","label":"image_negative"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[36],"shape":3,"label":"\u6a21\u578b","slot_index":0}],"properties":{"Node name for S&R":"IPAdapterAdvanced"},"widgets_values":[0.8,"linear","concat",0,1,"V only"],"serialize_values":[null,null,null,null,null,null]},{"id":56,"type":"DF_Text","pos":[679,182],"size":{"0":315,"1":58},"flags":{},"order":7,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[92],"shape":3,"label":"\u5b57\u7b26\u4e32"}],"properties":{"Node name for S&R":"Text"},"widgets_values":["pants"],"serialize_values":[null]},{"id":19,"type":"PreviewImage","pos":[1986,821],"size":{"0":472.6730041503906,"1":558.7239990234375},"flags":{},"order":25,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":27,"label":"\u56fe\u50cf"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":25,"type":"LoadImage","pos":[679,1044],"size":{"0":315,"1":314},"flags":{},"order":8,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[40],"shape":3,"label":"\u56fe\u50cf","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"\u906e\u7f69"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/e79f0ae94dd371f6c3ad178d1890b2652425bb0d.jpg@1536w_1536h_0e","image"],"serialize_values":[null,null]},{"id":2,"type":"LoadImage","pos":[1010,338],"size":{"0":315,"1":314},"flags":{},"order":9,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[14,71,75],"shape":3,"label":"\u56fe\u50cf","slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"\u906e\u7f69"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/439721c808b4245e649012676d42b0c14623d21d.jpg@1536w_1536h_0e","image"],"serialize_values":[null,null]}],"links":[[2,3,0,1,0,"SAM_MODEL"],[4,1,0,5,0,"IMAGE"],[14,2,0,12,0,"*"],[15,12,0,1,2,"IMAGE"],[16,13,0,14,0,"MODEL"],[17,13,1,14,1,"CLIP"],[23,8,0,17,3,"LATENT"],[24,13,2,8,1,"VAE"],[25,17,0,18,0,"LATENT"],[26,13,2,18,1,"VAE"],[27,18,0,19,0,"IMAGE"],[29,21,0,20,0,"IPADAPTER"],[32,24,0,20,1,"CLIP_VISION"],[35,13,0,20,3,"MODEL"],[36,20,0,17,0,"MODEL"],[40,25,0,20,2,"IMAGE"],[45,29,0,30,0,"IMAGE"],[47,1,1,8,2,"MASK"],[48,1,1,29,0,"MASK"],[49,18,0,31,0,"IMAGE"],[50,13,2,31,1,"VAE"],[51,31,0,32,3,"LATENT"],[52,13,0,32,0,"MODEL"],[53,15,0,32,1,"CONDITIONING"],[54,16,0,32,2,"CONDITIONING"],[55,32,0,33,0,"LATENT"],[56,13,2,33,1,"VAE"],[58,33,0,35,1,"IMAGE"],[59,36,0,35,0,"UPSCALE_MODEL"],[64,15,0,38,0,"CONDITIONING"],[65,16,0,38,1,"CONDITIONING"],[68,38,0,17,1,"CONDITIONING"],[69,38,1,17,2,"CONDITIONING"],[70,39,0,38,3,"IMAGE"],[71,2,0,39,0,"IMAGE"],[73,40,0,38,2,"CONTROL_NET"],[74,1,1,38,4,"MASK"],[75,2,0,8,0,"IMAGE"],[76,14,0,41,0,"MODEL"],[77,14,1,41,1,"CLIP"],[78,41,1,16,0,"CLIP"],[79,41,1,15,0,"CLIP"],[80,35,0,42,0,"IMAGE"],[84,4,0,1,1,"GROUNDING_DINO_MODEL"],[92,56,0,1,3,"STRING"]],"groups":[],"config":{},"extra":{},"version":0.4}