{"last_node_id":281,"last_link_id":525,"nodes":[{"id":58,"type":"Anything Everywhere","pos":[-2107.9733920161293,640.5865713182736],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":50,"mode":0,"inputs":[{"name":"MODEL","type":"*","link":112,"color_on":"#B39DDB","label":"MODEL"}],"properties":{"Node name for S&R":"Anything Everywhere","group_restricted":0,"color_restricted":0},"widgets_values":[],"serialize_values":[]},{"id":59,"type":"Anything Everywhere","pos":[-2107.9733920161293,720.5865713182732],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":52,"mode":0,"inputs":[{"name":"VAE","type":"*","link":113,"color_on":"#FF6E6E","label":"VAE"}],"properties":{"Node name for S&R":"Anything Everywhere","group_restricted":0,"color_restricted":0},"widgets_values":[],"serialize_values":[]},{"id":95,"type":"Anything Everywhere","pos":[-2107.9733920161293,680.5865713182736],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":51,"mode":0,"inputs":[{"name":"CLIP","type":"*","link":182,"color_on":"#FFD500","label":"CLIP"}],"properties":{"Node name for S&R":"Anything Everywhere","group_restricted":0,"color_restricted":0},"widgets_values":[],"serialize_values":[]},{"id":259,"type":"SetNode","pos":[-1198.1423052154303,1718.6577429942233],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":89,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":461,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_light","properties":{"previousName":"light"},"widgets_values":["light"],"serialize_values":[null]},{"id":203,"type":"BrushNet","pos":[-151.47534083346255,903.3744867832075],"size":{"0":320,"1":230},"flags":{},"order":85,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":420,"label":"model"},{"name":"vae","type":"VAE","link":null,"label":"vae"},{"name":"image","type":"IMAGE","link":343,"label":"image"},{"name":"mask","type":"MASK","link":344,"label":"mask"},{"name":"brushnet","type":"BRMODEL","link":345,"slot_index":4,"label":"brushnet"},{"name":"positive","type":"CONDITIONING","link":353,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":352,"label":"negative"}],"outputs":[{"name":"model","type":"MODEL","links":[348],"shape":3,"slot_index":0,"label":"model"},{"name":"positive","type":"CONDITIONING","links":[423],"shape":3,"slot_index":1,"label":"positive"},{"name":"negative","type":"CONDITIONING","links":[424],"shape":3,"slot_index":2,"label":"negative"},{"name":"latent","type":"LATENT","links":[351],"shape":3,"slot_index":3,"label":"latent"}],"properties":{"Node name for S&R":"BrushNet"},"widgets_values":[1,0,10000],"serialize_values":[null,null,null]},{"id":176,"type":"GetNode","pos":[-481.47534083346255,1323.374486783208],"size":{"0":210,"1":58},"flags":{},"order":0,"mode":0,"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[352],"slot_index":0,"label":"CONDITIONING"}],"title":"Get_negative","properties":{},"widgets_values":["negative"],"serialize_values":[null]},{"id":175,"type":"GetNode","pos":[-481.47534083346255,1183.3744867832079],"size":{"0":210,"1":58},"flags":{},"order":1,"mode":0,"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[353],"slot_index":0,"label":"CONDITIONING"}],"title":"Get_positive","properties":{},"widgets_values":["positive"],"serialize_values":[null]},{"id":204,"type":"GetNode","pos":[-471.47534083346255,1063.3744867832077],"size":{"0":210,"1":58},"flags":{},"order":2,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[344,359],"slot_index":0,"label":"MASK"}],"title":"Get_inpaint_mask","properties":{},"widgets_values":["inpaint_mask"],"serialize_values":[null]},{"id":243,"type":"ControlNetApplyAdvanced","pos":[198.52465916653756,903.3744867832075],"size":{"0":320,"1":170},"flags":{},"order":90,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":423,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":424,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":422,"slot_index":2,"label":"control_net"},{"name":"image","type":"IMAGE","link":428,"label":"image"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[425],"shape":3,"slot_index":0,"label":"positive"},{"name":"negative","type":"CONDITIONING","links":[426],"shape":3,"slot_index":1,"label":"negative"}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1],"serialize_values":[null,null,null]},{"id":177,"type":"VAEDecode","pos":[868.5246591665374,893.3744867832075],"size":{"0":210,"1":50},"flags":{},"order":92,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":294,"label":"samples"},{"name":"vae","type":"VAE","link":null,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[362],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":257,"type":"GetNode","pos":[1438.5246591665375,923.3744867832075],"size":{"0":210,"1":58},"flags":{},"order":3,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[458],"slot_index":0,"label":"MASK"}],"title":"Get_inpaint_mask","properties":{},"widgets_values":["inpaint_mask"],"serialize_values":[null]},{"id":174,"type":"GetNode","pos":[-471.47534083346255,943.3744867832075],"size":{"0":210,"1":58},"flags":{},"order":4,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[343,361,427,456],"slot_index":0,"label":"IMAGE"}],"title":"Get_input","properties":{},"widgets_values":["input"],"serialize_values":[null]},{"id":97,"type":"GetNode","pos":[-500,-70],"size":{"0":210,"1":58},"flags":{"collapsed":false},"order":5,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[184],"slot_index":0,"label":"IMAGE"}],"title":"Get_input_rmbg_mask","properties":{},"widgets_values":["input_rmbg_mask"],"serialize_values":[null]},{"id":64,"type":"VAEEncodeArgMax","pos":[-250,-50],"size":{"0":210,"1":50},"flags":{},"order":40,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":184,"slot_index":0,"label":"pixels"},{"name":"vae","type":"VAE","link":null,"slot_index":1,"label":"vae"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[123],"shape":3,"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"VAEEncodeArgMax"},"color":"#232","bgcolor":"#353"},{"id":65,"type":"ICLightAppply","pos":[30,-220],"size":{"0":210,"1":70},"flags":{},"order":57,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":null,"slot_index":0,"label":"model"},{"name":"ic_model","type":"MODEL","link":122,"label":"ic_model"},{"name":"c_concat","type":"LATENT","link":123,"slot_index":2,"label":"c_concat"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[279],"shape":3,"slot_index":0,"label":"MODEL"}],"properties":{"Node name for S&R":"ICLightAppply"},"color":"#232","bgcolor":"#353"},{"id":125,"type":"GetNode","pos":[10,130],"size":{"0":210,"1":58},"flags":{"collapsed":false},"order":6,"mode":0,"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[225],"slot_index":0,"label":"CONDITIONING"}],"title":"Get_negative","properties":{},"widgets_values":["negative"],"serialize_values":[null]},{"id":122,"type":"GetNode","pos":[20,10],"size":{"0":210,"1":58},"flags":{"collapsed":false},"order":7,"mode":0,"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[224],"slot_index":0,"label":"CONDITIONING"}],"title":"Get_positive","properties":{},"widgets_values":["positive"],"serialize_values":[null]},{"id":126,"type":"GetNode","pos":[330,310],"size":{"0":210,"1":58},"flags":{"collapsed":false},"order":8,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[438],"slot_index":0,"label":"IMAGE"}],"title":"Get_input","properties":{},"widgets_values":["input"],"serialize_values":[null]},{"id":43,"type":"KSampler","pos":[280,-230],"size":{"0":320,"1":262},"flags":{},"order":66,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":279,"label":"model"},{"name":"positive","type":"CONDITIONING","link":224,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":225,"label":"negative"},{"name":"latent_image","type":"LATENT","link":80,"label":"latent_image"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[85],"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[895225452567849,"fixed",20,2,"dpmpp_sde","karras",0.9],"serialize_values":[null,null,null,null,null,null,null]},{"id":262,"type":"Image Comparer (rgthree)","pos":{"0":2000,"1":-350,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":790,"1":720},"flags":{},"order":86,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":467,"dir":3,"label":"image_a"},{"name":"image_b","type":"IMAGE","link":466,"dir":3,"label":"image_b"}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[["/view?filename=https%3A%2F%2Fboss.aikobo.cn%2Faigc-public%2F00817007ce5cdda5cc6abbb639c77b331b383ce7e07da6bdbaf40b0193d5b805.png&type=output&subfolder=&rand=0.9292608909922566","/view?filename=https%3A%2F%2Fboss.aikobo.cn%2Faigc-public%2Fa95b689bb8988b3c7bac38cf295375fc475181033f70b72f107486af151f3da6.png&type=output&subfolder=&rand=0.6504621540965969"]],"serialize_values":[null]},{"id":42,"type":"VAEEncodeArgMax","pos":[-240,130],"size":{"0":210,"1":50},"flags":{},"order":41,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":462,"slot_index":0,"label":"pixels"},{"name":"vae","type":"VAE","link":null,"slot_index":1,"label":"vae"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[80],"shape":3,"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"VAEEncodeArgMax"},"color":"#232","bgcolor":"#353"},{"id":260,"type":"GetNode","pos":[-500,120],"size":{"0":210,"1":58},"flags":{"collapsed":false},"order":9,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[462],"slot_index":0,"label":"IMAGE"}],"title":"Get_light","properties":{},"widgets_values":["light"],"serialize_values":[null]},{"id":226,"type":"GetNode","pos":[-471.47534083346255,1743.374486783208],"size":{"0":210,"1":58},"flags":{"collapsed":false},"order":10,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[376],"slot_index":0,"label":"INT"}],"title":"Get_height","properties":{},"widgets_values":["height"],"serialize_values":[null]},{"id":216,"type":"SolidMask","pos":[-221.47534083346258,1573.374486783208],"size":{"0":320,"1":110},"flags":{"collapsed":false},"order":43,"mode":0,"inputs":[{"name":"width","type":"INT","link":375,"widget":{"name":"width"},"label":"width"},{"name":"height","type":"INT","link":376,"widget":{"name":"height"},"label":"height"}],"outputs":[{"name":"MASK","type":"MASK","links":[378],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"SolidMask"},"widgets_values":[1,512,768],"serialize_values":[null,null,null]},{"id":269,"type":"GetNode","pos":[-201.47534083346258,1743.374486783208],"size":{"0":210,"1":58},"flags":{"collapsed":false},"order":11,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[471],"slot_index":0,"label":"IMAGE"}],"title":"Get_light","properties":{},"widgets_values":["light"],"serialize_values":[null]},{"id":268,"type":"VAEEncodeArgMax","pos":[48.52465916653758,1753.374486783208],"size":{"0":210,"1":50},"flags":{},"order":42,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":471,"slot_index":0,"label":"pixels"},{"name":"vae","type":"VAE","link":null,"slot_index":1,"label":"vae"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[472],"shape":3,"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"VAEEncodeArgMax"},"color":"#232","bgcolor":"#353"},{"id":217,"type":"JoinImageWithAlpha","pos":[158.52465916653756,1593.374486783208],"size":{"0":210,"1":50},"flags":{"collapsed":false},"order":94,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":421,"label":"image"},{"name":"alpha","type":"MASK","link":378,"label":"alpha"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[446],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"JoinImageWithAlpha"}},{"id":228,"type":"GetNode","pos":[658.524659166537,1753.374486783208],"size":{"0":210,"1":58},"flags":{"collapsed":false},"order":12,"mode":0,"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[384],"slot_index":0,"label":"CONDITIONING"}],"title":"Get_negative","properties":{},"widgets_values":["negative"],"serialize_values":[null]},{"id":225,"type":"GetNode","pos":[-471.47534083346255,1623.374486783208],"size":{"0":210,"1":58},"flags":{"collapsed":false},"order":13,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[375],"slot_index":0,"label":"INT"}],"title":"Get_width","properties":{},"widgets_values":["width"],"serialize_values":[null]},{"id":245,"type":"CannyEdgePreprocessor","pos":[-121.47534083346254,1273.374486783208],"size":{"0":250,"1":110},"flags":{},"order":38,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":427,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[428],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"CannyEdgePreprocessor"},"widgets_values":[20,100,1024],"serialize_values":[null,null,null]},{"id":218,"type":"UNETLoader","pos":[328.52465916653745,1823.374486783208],"size":{"0":280,"1":60},"flags":{"collapsed":false},"order":14,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[379],"shape":3,"slot_index":0,"label":"MODEL"}],"properties":{"Node name for S&R":"UNETLoader"},"widgets_values":["iclight_sd15_fc_unet_ldm.safetensors"],"serialize_values":[null]},{"id":220,"type":"VAEEncodeArgMax","pos":[398.5246591665372,1583.374486783208],"size":{"0":210,"1":50},"flags":{},"order":96,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":446,"slot_index":0,"label":"pixels"},{"name":"vae","type":"VAE","link":null,"slot_index":1,"label":"vae"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[380],"shape":3,"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"VAEEncodeArgMax"},"color":"#232","bgcolor":"#353"},{"id":219,"type":"ICLightAppply","pos":[648.524659166537,1393.374486783208],"size":{"0":210,"1":70},"flags":{},"order":97,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":null,"slot_index":0,"label":"model"},{"name":"ic_model","type":"MODEL","link":379,"label":"ic_model"},{"name":"c_concat","type":"LATENT","link":380,"slot_index":2,"label":"c_concat"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[382],"shape":3,"slot_index":0,"label":"MODEL"}],"properties":{"Node name for S&R":"ICLightAppply"},"color":"#232","bgcolor":"#353"},{"id":227,"type":"GetNode","pos":[658.524659166537,1573.374486783208],"size":{"0":210,"1":58},"flags":{"collapsed":false},"order":15,"mode":0,"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[383],"slot_index":0,"label":"CONDITIONING"}],"title":"Get_positive","properties":{},"widgets_values":["positive"],"serialize_values":[null]},{"id":221,"type":"KSampler","pos":[898.5246591665374,1393.374486783208],"size":{"0":350,"1":320},"flags":{},"order":98,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":382,"label":"model"},{"name":"positive","type":"CONDITIONING","link":383,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":384,"label":"negative"},{"name":"latent_image","type":"LATENT","link":472,"label":"latent_image"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[388],"slot_index":0,"label":"LATENT"}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[868132229131160,"randomize",25,2,"dpmpp_2m_sde","karras",0.9],"serialize_values":[null,null,null,null,null,null,null]},{"id":256,"type":"Reroute","pos":[1428.5246591665375,793.3744867832075],"size":[75,26],"flags":{},"order":39,"mode":0,"inputs":[{"name":"","type":"*","link":456,"label":""}],"outputs":[{"name":"","type":"IMAGE","links":[457,477],"slot_index":0,"label":""}],"properties":{"showOutputText":false,"horizontal":false}},{"id":223,"type":"VAEDecode","pos":[988.5246591665375,1883.374486783208],"size":{"0":210,"1":50},"flags":{"collapsed":false},"order":99,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":388,"label":"samples"},{"name":"vae","type":"VAE","link":null,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[455],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":208,"type":"BlendInpaint","pos":[1098.5246591665375,893.3744867832075],"size":{"0":320,"1":142},"flags":{},"order":93,"mode":0,"inputs":[{"name":"inpaint","type":"IMAGE","link":362,"label":"inpaint"},{"name":"original","type":"IMAGE","link":361,"label":"original"},{"name":"mask","type":"MASK","link":359,"label":"mask"},{"name":"origin","type":"VECTOR","link":null,"label":"origin"}],"outputs":[{"name":"image","type":"IMAGE","links":[421,478],"shape":3,"slot_index":0,"label":"image"},{"name":"MASK","type":"MASK","links":[],"shape":3,"slot_index":1,"label":"MASK"}],"properties":{"Node name for S&R":"BlendInpaint"},"widgets_values":[10,10],"serialize_values":[null,null]},{"id":198,"type":"GetNode","pos":[-2482.4857214263593,872.3806795963143],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":16,"mode":0,"outputs":[{"name":"*","type":"*","links":[332],"slot_index":0,"label":"*"}],"title":"Get_object_prompt","properties":{},"widgets_values":["object_prompt"],"serialize_values":[null]},{"id":199,"type":"GetNode","pos":[-2472.4857214263593,932.3806795963137],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":17,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[333],"slot_index":0,"label":"STRING"}],"title":"Get_light_prompt","properties":{},"widgets_values":["light_prompt"],"serialize_values":[null]},{"id":108,"type":"SetNode","pos":[-1442.4991755415654,644.4864839747468],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":76,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":199,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_custom_mask","properties":{"previousName":"custom_mask"},"widgets_values":["custom_mask"],"serialize_values":[null]},{"id":36,"type":"ConstrainImage|pysssss","pos":[-1262.4991755415654,634.4864839747468],"size":{"0":210,"1":154},"flags":{"collapsed":true},"order":55,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":67,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[68,69,298],"shape":6,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ConstrainImage|pysssss"},"widgets_values":[768,768,0,0,"no"],"serialize_values":[null,null,null,null,null]},{"id":37,"type":"Image Size to Number","pos":[-1022.4991755415655,634.4864839747468],"size":{"0":230,"1":130},"flags":{"collapsed":true},"order":63,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":69,"label":"image"}],"outputs":[{"name":"width_num","type":"NUMBER","links":null,"shape":3,"label":"width_num"},{"name":"height_num","type":"NUMBER","links":null,"shape":3,"label":"height_num"},{"name":"width_float","type":"FLOAT","links":null,"shape":3,"label":"width_float"},{"name":"height_float","type":"FLOAT","links":null,"shape":3,"label":"height_float"},{"name":"width_int","type":"INT","links":[187],"shape":3,"slot_index":4,"label":"width_int"},{"name":"height_int","type":"INT","links":[188],"shape":3,"slot_index":5,"label":"height_int"}],"properties":{"Node name for S&R":"Image Size to Number"}},{"id":106,"type":"MaskToImage","pos":[-1892.4991755415654,644.4864839747468],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":56,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":197,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[198],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":107,"type":"ConstrainImage|pysssss","pos":[-1682.4991755415654,654.4864839747468],"size":{"0":210,"1":154},"flags":{"collapsed":true},"order":65,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":198,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[199],"shape":6,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ConstrainImage|pysssss"},"widgets_values":[768,768,0,0,"no"],"serialize_values":[null,null,null,null,null]},{"id":180,"type":"SetNode","pos":[-1002.4991755415655,684.4864839747468],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":64,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":298,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_input","properties":{"previousName":"input"},"widgets_values":["input"],"serialize_values":[null]},{"id":100,"type":"SetNode","pos":[-750.1344779082033,634.3956786961824],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":74,"mode":0,"inputs":[{"name":"INT","type":"INT","link":187,"label":"INT"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_width","properties":{"previousName":"width"},"widgets_values":["width"],"serialize_values":[null]},{"id":101,"type":"SetNode","pos":[-750.1344779082033,694.3956786961824],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":75,"mode":0,"inputs":[{"name":"INT","type":"INT","link":188,"label":"INT"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_height","properties":{"previousName":"height"},"widgets_values":["height"],"serialize_values":[null]},{"id":12,"type":"easy imageRemBg","pos":[-1360.134477908203,724.3956786961824],"size":{"0":270,"1":340},"flags":{"collapsed":false},"order":62,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":68,"label":"images"}],"outputs":[{"name":"image","type":"IMAGE","links":[165,193],"shape":3,"slot_index":0,"label":"image"},{"name":"mask","type":"MASK","links":[166,460],"shape":3,"slot_index":1,"label":"mask"}],"properties":{"Node name for S&R":"easy imageRemBg"},"widgets_values":["RMBG-1.4","Save","ComfyUI"],"serialize_values":[null,null,null]},{"id":96,"type":"SetNode","pos":[-1050.1344779082033,744.3956786961824],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":71,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":193,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_input_rmbg","properties":{"previousName":"input_rmbg"},"widgets_values":["input_rmbg"],"serialize_values":[null]},{"id":90,"type":"ICLightApplyMaskGrey","pos":[-1060.1344779082033,814.3956786961824],"size":{"0":210,"1":50},"flags":{"collapsed":true},"order":72,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":165,"label":"image"},{"name":"alpha","type":"MASK","link":166,"label":"alpha"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[192],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ICLightApplyMaskGrey"}},{"id":102,"type":"SetNode","pos":[-810.1344779082033,814.3956786961824],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":81,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":192,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_input_rmbg_mask","properties":{"previousName":"input_rmbg_mask"},"widgets_values":["input_rmbg_mask"],"serialize_values":[null]},{"id":179,"type":"InvertMask","pos":[-1040.1344779082035,874.3956786961824],"size":{"0":210,"1":30},"flags":{"collapsed":true},"order":73,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":460,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[297],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"InvertMask"}},{"id":169,"type":"SetNode","pos":[-760.1344779082033,894.395678696182],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":82,"mode":0,"inputs":[{"name":"MASK","type":"MASK","link":297,"label":"MASK"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_inpaint_mask","properties":{"previousName":"inpaint_mask"},"widgets_values":["inpaint_mask"],"serialize_values":[null]},{"id":94,"type":"ShowText|pysssss","pos":[-1740.134477908203,744.3956786961824],"size":{"0":300,"1":220},"flags":{},"order":70,"mode":0,"inputs":[{"name":"text","type":"STRING","link":181,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6,"label":"STRING"}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","1 shoe, neon light,sci-fi RGB glowing, cyberpunk, (masterpiece, best quality, 4k, highly detailed) BREAK"],"serialize_values":["",null]},{"id":79,"type":"Text List to Text","pos":[-1990.134477908203,774.3956786961824],"size":{"0":210,"1":60},"flags":{"collapsed":false},"order":60,"mode":0,"inputs":[{"name":"text_list","type":"LIST","link":147,"label":"text_list","slot_index":0}],"outputs":[{"name":"STRING","type":"STRING","links":[148,181],"shape":3,"label":"STRING","slot_index":0}],"properties":{"Node name for S&R":"Text List to Text"},"widgets_values":[", "],"serialize_values":[null]},{"id":6,"type":"CLIPTextEncode","pos":[-1970.134477908203,874.3956786961824],"size":{"0":420,"1":160},"flags":{"collapsed":true},"order":69,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"clip"},{"name":"text","type":"STRING","link":148,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[222],"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["1 boy, "],"serialize_values":["1 boy, "]},{"id":123,"type":"SetNode","pos":[-1930.134477908203,944.3956786961822],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":80,"mode":0,"inputs":[{"name":"CONDITIONING","type":"CONDITIONING","link":222,"label":"CONDITIONING"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_positive","properties":{"previousName":"positive"},"widgets_values":["positive"],"serialize_values":[null]},{"id":41,"type":"PreviewImage","pos":[-1053.6058468253423,1702.6268552560718],"size":{"0":300,"1":360},"flags":{},"order":88,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":175,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":150,"type":"SetNode","pos":[-1168.4719330541816,435.1285676488225],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":53,"mode":0,"inputs":[{"name":"IMAGE","type":"IMAGE","link":255,"label":"IMAGE"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_style","properties":{"previousName":"style"},"widgets_values":["style"],"serialize_values":[null]},{"id":197,"type":"SetNode","pos":[-2058.4719330541807,455.1285676488225],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":54,"mode":0,"inputs":[{"name":"STRING","type":"STRING","link":331,"label":"STRING"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_light_prompt","properties":{"previousName":"light_prompt"},"widgets_values":["light_prompt"],"serialize_values":[null]},{"id":63,"type":"UNETLoader","pos":[-500,-240],"size":{"0":370,"1":70},"flags":{},"order":18,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[122],"shape":3,"slot_index":0,"label":"MODEL"}],"properties":{"Node name for S&R":"UNETLoader"},"widgets_values":["iclight_sd15_fc_unet_ldm.safetensors"],"serialize_values":[null]},{"id":250,"type":"GetNode","pos":[610,-20],"size":{"0":210,"1":58},"flags":{},"order":19,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[440],"slot_index":0,"label":"MASK"}],"title":"Get_inpaint_mask","properties":{},"widgets_values":["inpaint_mask"],"serialize_values":[null]},{"id":45,"type":"VAEDecode","pos":[620,-220],"size":{"0":210,"1":50},"flags":{"collapsed":false},"order":77,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":85,"label":"samples"},{"name":"vae","type":"VAE","link":null,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[439],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":263,"type":"GetNode","pos":[920,130],"size":{"0":210,"1":58},"flags":{},"order":20,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[466],"slot_index":0,"label":"IMAGE"}],"title":"Get_input","properties":{},"widgets_values":["input"],"serialize_values":[null]},{"id":114,"type":"GetNode","pos":[-2410,1710],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":21,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[211],"slot_index":0,"label":"INT"}],"title":"Get_width","properties":{},"widgets_values":["width"],"serialize_values":[null]},{"id":115,"type":"GetNode","pos":[-2400,1760],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":22,"mode":0,"outputs":[{"name":"INT","type":"INT","links":[212],"slot_index":0,"label":"INT"}],"title":"Get_height","properties":{},"widgets_values":["height"],"serialize_values":[null]},{"id":109,"type":"GetNode","pos":[-2430,1820],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":23,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[200],"slot_index":0,"label":"IMAGE"}],"title":"Get_custom_mask","properties":{},"widgets_values":["custom_mask"],"serialize_values":[null]},{"id":110,"type":"ImageToMask","pos":[-2390,1880],"size":{"0":210,"1":60},"flags":{"collapsed":true},"order":45,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":200,"label":"image"}],"outputs":[{"name":"MASK","type":"MASK","links":[208,218],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"ImageToMask"},"widgets_values":["red"],"serialize_values":[null]},{"id":113,"type":"IsMaskEmpty","pos":[-2410,1950],"size":{"0":240,"1":30},"flags":{},"order":58,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":218,"slot_index":0,"label":"mask"}],"outputs":[{"name":"boolean_number","type":"NUMBER","links":[209],"shape":3,"slot_index":0,"label":"boolean_number"}],"properties":{"Node name for S&R":"IsMaskEmpty"}},{"id":40,"type":"MaskToImage","pos":[-1280,1770],"size":{"0":210,"1":30},"flags":{"collapsed":false},"order":84,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":180,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[175,461],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage"}},{"id":93,"type":"GrowMaskWithBlur","pos":[-1570,1730],"size":{"0":240,"1":300},"flags":{},"order":78,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":214,"label":"mask"}],"outputs":[{"name":"mask","type":"MASK","links":[180],"shape":3,"slot_index":0,"label":"mask"},{"name":"mask_inverted","type":"MASK","links":null,"shape":3,"label":"mask_inverted"}],"properties":{"Node name for S&R":"GrowMaskWithBlur"},"widgets_values":[0,0,true,false,30,1,1,false],"serialize_values":[null,null,null,null,null,null,null,null]},{"id":111,"type":"If ANY execute A else B","pos":[-1710,1820],"size":{"0":270,"1":70},"flags":{"collapsed":true},"order":67,"mode":0,"inputs":[{"name":"ANY","type":"*","link":209,"label":"ANY"},{"name":"IF_TRUE","type":"*","link":210,"label":"IF_TRUE"},{"name":"IF_FALSE","type":"*","link":208,"label":"IF_FALSE"}],"outputs":[{"name":"?","type":"*","links":[214],"shape":3,"slot_index":0,"label":"?"}],"properties":{"Node name for S&R":"If ANY execute A else B"}},{"id":271,"type":"Image Comparer (rgthree)","pos":{"0":1980.0645751953125,"1":1291.439208984375,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":790,"1":780},"flags":{},"order":102,"mode":0,"inputs":[{"name":"image_a","type":"IMAGE","link":476,"dir":3,"label":"image_a"},{"name":"image_b","type":"IMAGE","link":477,"dir":3,"label":"image_b"}],"outputs":[],"properties":{"comparer_mode":"Slide"},"widgets_values":[["/view?filename=https%3A%2F%2Fboss.aikobo.cn%2Faigc-public%2Ff7b4a4e52f04e0b62f4e7759541163577335c9d9520012010b4a455ec0e21f48.png&type=output&subfolder=&rand=0.5769460648470017","/view?filename=https%3A%2F%2Fboss.aikobo.cn%2Faigc-public%2Fa95b689bb8988b3c7bac38cf295375fc475181033f70b72f107486af151f3da6.png&type=output&subfolder=&rand=0.4473312501647375"]],"serialize_values":[null]},{"id":160,"type":"GetNode","pos":[-2469.445670678902,1337.8341493901592],"size":{"0":210,"1":58},"flags":{"collapsed":false},"order":24,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[479],"slot_index":0,"label":"IMAGE"}],"title":"Get_style","properties":{},"widgets_values":["style"],"serialize_values":[null]},{"id":165,"type":"IPAdapterNoise","pos":[-2074.2251601649245,1456.409229745155],"size":{"0":320,"1":110},"flags":{"collapsed":true},"order":59,"mode":0,"inputs":[{"name":"image_optional","type":"IMAGE","link":480,"label":"image_optional"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[468],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"IPAdapterNoise"},"widgets_values":["fade",1,0],"serialize_values":[null,null,null]},{"id":276,"type":"ConstrainImage|pysssss","pos":[-2434.2251601649245,1466.409229745155],"size":{"0":320,"1":154},"flags":{"collapsed":true},"order":46,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":479,"label":"images"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[480,481],"shape":6,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ConstrainImage|pysssss"},"widgets_values":[768,768,0,0,"no"],"serialize_values":[null,null,null,null,null]},{"id":275,"type":"Fast Groups Bypasser (rgthree)","pos":{"0":-2408.412109375,"1":-110.3706283569336,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":550,"1":130},"flags":{},"order":25,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null,"label":"OPT_CONNECTION"}],"title":"Group Switch","properties":{"matchColors":"cyan","matchTitle":"","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"}},{"id":274,"type":"PreviewImage","pos":[1300.063982869169,1311.4392778156619],"size":{"0":620,"1":720},"flags":{},"order":95,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":478,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":240,"type":"IPAdapterTiled","pos":[-1813.4249715496017,1313.564813211908],"size":{"0":320,"1":302},"flags":{},"order":68,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":414,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","link":415,"label":"ipadapter"},{"name":"image","type":"IMAGE","link":481,"label":"image"},{"name":"image_negative","type":"IMAGE","link":468,"label":"image_negative"},{"name":"attn_mask","type":"MASK","link":482,"label":"attn_mask"},{"name":"clip_vision","type":"CLIP_VISION","link":null,"label":"clip_vision"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[419],"shape":3,"slot_index":0,"label":"MODEL"},{"name":"tiles","type":"IMAGE","links":null,"shape":3,"label":"tiles"},{"name":"masks","type":"MASK","links":null,"shape":3,"label":"masks"}],"properties":{"Node name for S&R":"IPAdapterTiled"},"widgets_values":[1,"linear","concat",0,1,0,"V only"],"serialize_values":[null,null,null,null,null,null,null]},{"id":152,"type":"IPAdapterUnifiedLoader","pos":[-2224.2251601649245,1326.409229745155],"size":{"0":320,"1":80},"flags":{},"order":26,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":null,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","link":null,"label":"ipadapter"}],"outputs":[{"name":"model","type":"MODEL","links":[414],"shape":3,"slot_index":0,"label":"model"},{"name":"ipadapter","type":"IPADAPTER","links":[415],"shape":3,"slot_index":1,"label":"ipadapter"}],"properties":{"Node name for S&R":"IPAdapterUnifiedLoader"},"widgets_values":["PLUS (high strength)"],"serialize_values":[null]},{"id":241,"type":"PerturbedAttentionGuidance","pos":[-1333.424971549601,1313.564813211908],"size":{"0":220,"1":60},"flags":{},"order":79,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":419,"label":"model"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[420],"shape":3,"slot_index":0,"label":"MODEL"}],"properties":{"Node name for S&R":"PerturbedAttentionGuidance"},"widgets_values":[4],"serialize_values":[null]},{"id":277,"type":"GetNode","pos":[-2281.1619002558564,1520.174595104064],"size":{"0":210,"1":58},"flags":{},"order":27,"mode":0,"outputs":[{"name":"MASK","type":"MASK","links":[482],"slot_index":0,"label":"MASK"}],"title":"Get_inpaint_mask","properties":{},"widgets_values":["inpaint_mask"],"serialize_values":[null]},{"id":47,"type":"Note","pos":[-2408.4123592359438,-420.3706293518947],"size":{"0":570,"1":250},"flags":{},"order":28,"mode":0,"title":"ReadME","properties":{"text":""},"widgets_values":["【Easy Product Relight Ver1.0】\nAuthor: Alan Sun\n\n基于Brushnet+IC-Light实现的商品光影海报图绘制，方便易用。\n通过配置不同参数开关，支持两种模式路径：\n* 基础模式: 适用于背景元素简单的场景，通过提示词控制背景与光影类型\n* 高阶模式: 适用于需要更为精准的控图场景，以精准提示词或者风格参考图输入，使用brushnet进行背景重绘\n\n配置参数说明\n1. 基础提示词: 用于描述商品类型， 如1shoe\n2. 光影提示词: 用于描述光影类型，也可以添加背景描述，如sunshine light, river background\n3. 商品图: 需要打光的商品素材图, 右键单击选择`Open MaskEditor`可进行打光蒙版绘制\n4. 风格图: 高级模式中重绘背景时的参考图，仅当开启IP Adapter时生效\n5. 组开关: 模式选择与是否开启IP Adapter\n6. 自定义打光蒙版：在LightMask Group中可以自定义蒙版xy位置\n\n---------\n\nProduct Poster Drawing workflow based on Brushnet+IC-Light, convenient and easy to use.\n\nBy configuring different parameter switches, the workflow supports two modes:\n\n* Basic Prompt: Suitable for scenes with simple background elements, controlled by prompt words for background and light and shadow types.\n\n* Advanced Mode: Suitable for scenes that require more precise control, input with precise prompt words or style reference images, and use brushnet to inpaint the background.\n\nParameter Configuration Description:\n\n1. Basic Prompt: Used to describe the type of product, such as \"1shoe\".\n2. Light Prompt: Used to describe the type of light and shadow, and can also add background descriptions, such as \"sunshine light, river background\".\n3. Product Image: The material image of the product that needs to be lit. You can draw a lighting mask by right-clicking and selecting \"Open MaskEditor\".\n4. Style Image: The reference image for redrawing the background in Advanced Mode, which only takes effect when the IP Adapter is turned on.\n5. Group Switch: Mode selection and whether to turn on the IP Adapter.\n6. Custom Lighting Mask: In the LightMask Group, you can customize the mask's XY position."],"color":"#432","bgcolor":"#653","serialize_values":[null]},{"id":196,"type":"SetNode","pos":[-2348.4719330541807,445.1285676488225],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":47,"mode":0,"inputs":[{"name":"*","type":"*","link":496,"label":"*"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_object_prompt","properties":{"previousName":"object_prompt"},"widgets_values":["object_prompt"],"serialize_values":[null]},{"id":278,"type":"CR Text","pos":[-2398.4719330541807,58.12856764882266],"size":{"0":533.5201416015625,"1":96},"flags":{},"order":29,"mode":0,"outputs":[{"name":"text","type":"*","links":[496],"shape":3,"label":"text","slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR Text"},"widgets_values":["1 shoe"],"serialize_values":[null]},{"id":279,"type":"CR Text","pos":[-2455,993],"size":{"0":400,"1":200},"flags":{"collapsed":true},"order":30,"mode":0,"outputs":[{"name":"text","type":"*","links":[497],"shape":3,"label":"text","slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR Text"},"widgets_values":["(masterpiece, best quality, 4k, highly detailed) BREAK"],"serialize_values":[null]},{"id":124,"type":"SetNode","pos":[-1927,1037],"size":{"0":210,"1":58},"flags":{"collapsed":true},"order":61,"mode":0,"inputs":[{"name":"CONDITIONING","type":"CONDITIONING","link":223,"label":"CONDITIONING"}],"outputs":[{"name":"*","type":"*","links":null,"label":"*"}],"title":"Set_negative","properties":{"previousName":"negative"},"widgets_values":["negative"],"serialize_values":[null]},{"id":76,"type":"Text List","pos":[-2218,849],"size":{"0":240,"1":160},"flags":{"collapsed":true},"order":48,"mode":0,"inputs":[{"name":"text_a","type":"STRING","link":332,"widget":{"name":"text_a"},"slot_index":0,"label":"text_a"},{"name":"text_b","type":"STRING","link":333,"widget":{"name":"text_b"},"label":"text_b"},{"name":"text_c","type":"STRING","link":497,"widget":{"name":"text_c"},"label":"text_c","slot_index":2},{"name":"text_d","type":"STRING","link":null,"widget":{"name":"text_d"},"label":"text_d"},{"name":"text_e","type":"STRING","link":null,"widget":{"name":"text_e"},"label":"text_e"},{"name":"text_f","type":"STRING","link":null,"widget":{"name":"text_f"},"label":"text_f"},{"name":"text_g","type":"STRING","link":null,"widget":{"name":"text_g"},"label":"text_g"}],"outputs":[{"name":"LIST","type":"LIST","links":[147],"shape":3,"label":"LIST","slot_index":0}],"properties":{"Node name for S&R":"Text List"},"widgets_values":["","","","","","",""],"serialize_values":["","","",null,null,null,null]},{"id":7,"type":"CLIPTextEncode","pos":[-2179,1010],"size":{"0":430,"1":180},"flags":{"collapsed":true},"order":49,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"clip"},{"name":"text","type":"STRING","link":498,"widget":{"name":"text"},"label":"text"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[223],"slot_index":0,"label":"CONDITIONING"}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":[""],"serialize_values":[""]},{"id":280,"type":"CR Text","pos":[-2450,1057],"size":{"0":400,"1":200},"flags":{"collapsed":true},"order":31,"mode":0,"outputs":[{"name":"text","type":"*","links":[498],"shape":3,"label":"text","slot_index":0},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR Text"},"widgets_values":["lowres, bad anatomy, bad hands, cropped, worst quality, low quality, normal quality, lowres, watermark, monochrome, grayscale, ugly, blurry"],"serialize_values":[null]},{"id":4,"type":"CheckpointLoaderSimple","pos":[-2487.973392016129,650.5865713182741],"size":{"0":310,"1":140},"flags":{},"order":32,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[112],"slot_index":0,"label":"MODEL"},{"name":"CLIP","type":"CLIP","links":[182],"slot_index":1,"label":"CLIP"},{"name":"VAE","type":"VAE","links":[113],"slot_index":2,"label":"VAE"}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["majicMIX realistic(v7)"],"serialize_values":["192_3750_4424@7c819b6d13.safetensors"]},{"id":138,"type":"LoadImage","pos":[-1188.4719330541816,-404.8714323511775],"size":{"0":570,"1":770},"flags":{},"order":33,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[255],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[],"shape":3,"slot_index":1,"label":"MASK"}],"title":"Style Image","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/92b02205446040240fb00e9b4dcd5f9a1052c734.png@1536w_1536h_0e","image"],"serialize_values":[null,null]},{"id":83,"type":"ImpactStringSelector","pos":[-2408.4719330541807,195.12856764882267],"size":{"0":550,"1":200},"flags":{},"order":34,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[331],"shape":3,"slot_index":0,"label":"STRING"}],"title":"Light Prompt","properties":{"Node name for S&R":"ImpactStringSelector"},"widgets_values":["natural lighting\nsunshine from window\nneon light,sci-fi RGB glowing, cyberpunk\nsunset over sea\ngolden time\nwarm atmosphere, at home, bedroom\ncode atmosphere, at home, bedroom\nsoft studio lighting\nneon, Wong Kar-wai, warm\nhome atmosphere, cozy bedroom illumination\n\n",false,2],"serialize_values":[null,null,null]},{"id":205,"type":"BrushNetLoader","pos":[-501.4753408334626,793.3744867832075],"size":{"0":320,"1":82},"flags":{},"order":35,"mode":0,"outputs":[{"name":"brushnet","type":"BRMODEL","links":[345],"shape":3,"label":"brushnet"}],"properties":{"Node name for S&R":"BrushNetLoader"},"widgets_values":["brushnet/segmentation_mask_brushnet_ckpt/diffusion_pytorch_model.safetensors","float16"],"serialize_values":[null,null]},{"id":244,"type":"ControlNetLoader","pos":[198.52465916653756,1163.3744867832079],"size":{"0":320,"1":60},"flags":{},"order":36,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[422],"shape":3,"label":"CONTROL_NET"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v11p_sd15_canny.pth"],"serialize_values":[null]},{"id":91,"type":"CreateShapeMask","pos":[-2101.554199101181,1759.0749865877196],"size":{"0":320,"1":270},"flags":{"collapsed":false},"order":44,"mode":0,"inputs":[{"name":"frame_width","type":"INT","link":211,"widget":{"name":"frame_width"},"label":"frame_width"},{"name":"frame_height","type":"INT","link":212,"widget":{"name":"frame_height"},"label":"frame_height"}],"outputs":[{"name":"mask","type":"MASK","links":[210],"shape":3,"slot_index":0,"label":"mask"},{"name":"mask_inverted","type":"MASK","links":[],"shape":3,"slot_index":1,"label":"mask_inverted"}],"properties":{"Node name for S&R":"CreateShapeMask"},"widgets_values":["circle",1,100,256,0,512,512,300,500],"serialize_values":[null,null,null,null,null,null,null,null,null]},{"id":255,"type":"LayerUtility: ImageBlend","pos":[1699,843],"size":{"0":320,"1":150},"flags":{},"order":100,"mode":0,"inputs":[{"name":"background_image","type":"IMAGE","link":455,"label":"background_image"},{"name":"layer_image","type":"IMAGE","link":457,"label":"layer_image"},{"name":"layer_mask","type":"MASK","link":458,"label":"layer_mask"}],"outputs":[{"name":"image","type":"IMAGE","links":[474,476],"shape":3,"slot_index":0,"label":"image"}],"properties":{"Node name for S&R":"LayerUtility: ImageBlend"},"widgets_values":[true,"normal",40],"serialize_values":[null,null,null]},{"id":249,"type":"LayerUtility: ImageBlend","pos":[890,-230],"size":{"0":320,"1":150},"flags":{},"order":83,"mode":0,"inputs":[{"name":"background_image","type":"IMAGE","link":439,"label":"background_image"},{"name":"layer_image","type":"IMAGE","link":438,"label":"layer_image"},{"name":"layer_mask","type":"MASK","link":440,"label":"layer_mask"}],"outputs":[{"name":"image","type":"IMAGE","links":[467,499],"shape":3,"slot_index":0,"label":"image"}],"properties":{"Node name for S&R":"LayerUtility: ImageBlend"},"widgets_values":[true,"normal",40],"serialize_values":[null,null,null]},{"id":281,"type":"PreviewImage","pos":[1314,-329],"size":{"0":660.2719116210938,"1":692.3596801757812},"flags":{},"order":87,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":499,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":270,"type":"SaveImage","pos":[2159,853],"size":{"0":320,"1":270.0000305175781},"flags":{},"order":101,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":474,"label":"images"}],"properties":{"Node name for S&R":"SaveImage"},"widgets_values":["EasyRelight/image_"],"serialize_values":["EasyRelight/image_"]},{"id":11,"type":"LoadImage","pos":[-1809,-393],"size":{"0":580,"1":780},"flags":{},"order":37,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[67],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[197],"shape":3,"slot_index":1,"label":"MASK"}],"title":"Product Image","properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/1d39bc2554fad8a502e86a798f18031e653dde74.png@1536w_1536h_0e","image"],"serialize_values":[null,null]},{"id":172,"type":"KSampler","pos":[538.524659166537,893.3744867832075],"size":{"0":320,"1":262},"flags":{},"order":91,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":348,"label":"model"},{"name":"positive","type":"CONDITIONING","link":425,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":426,"label":"negative"},{"name":"latent_image","type":"LATENT","link":351,"label":"latent_image"}],"outputs":[{"name":"LATENT","type":"LATENT","links":[294],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"KSampler"},"widgets_values":[378889673248017,"randomize",20,5,"dpmpp_sde","karras",1],"serialize_values":[null,null,null,null,null,null,null]}],"links":[[67,11,0,36,0,"IMAGE"],[68,36,0,12,0,"IMAGE"],[69,36,0,37,0,"IMAGE"],[80,42,0,43,3,"LATENT"],[85,43,0,45,0,"LATENT"],[112,4,0,58,0,"MODEL"],[113,4,2,59,0,"VAE"],[122,63,0,65,1,"MODEL"],[123,64,0,65,2,"LATENT"],[147,76,0,79,0,"LIST"],[148,79,0,6,1,"STRING"],[165,12,0,90,0,"IMAGE"],[166,12,1,90,1,"MASK"],[175,40,0,41,0,"IMAGE"],[180,93,0,40,0,"MASK"],[181,79,0,94,0,"STRING"],[182,4,1,95,0,"CLIP"],[184,97,0,64,0,"IMAGE"],[187,37,4,100,0,"*"],[188,37,5,101,0,"*"],[192,90,0,102,0,"*"],[193,12,0,96,0,"IMAGE"],[197,11,1,106,0,"MASK"],[198,106,0,107,0,"IMAGE"],[199,107,0,108,0,"*"],[200,109,0,110,0,"IMAGE"],[208,110,0,111,2,"*"],[209,113,0,111,0,"*"],[210,91,0,111,1,"*"],[211,114,0,91,0,"INT"],[212,115,0,91,1,"INT"],[214,111,0,93,0,"MASK"],[218,110,0,113,0,"MASK"],[222,6,0,123,0,"*"],[223,7,0,124,0,"*"],[224,122,0,43,1,"CONDITIONING"],[225,125,0,43,2,"CONDITIONING"],[255,138,0,150,0,"*"],[279,65,0,43,0,"MODEL"],[294,172,0,177,0,"LATENT"],[297,179,0,169,0,"MASK"],[298,36,0,180,0,"*"],[331,83,0,197,0,"*"],[332,198,0,76,0,"STRING"],[333,199,0,76,1,"STRING"],[343,174,0,203,2,"IMAGE"],[344,204,0,203,3,"MASK"],[345,205,0,203,4,"BRMODEL"],[348,203,0,172,0,"MODEL"],[351,203,3,172,3,"LATENT"],[352,176,0,203,6,"CONDITIONING"],[353,175,0,203,5,"CONDITIONING"],[359,204,0,208,2,"MASK"],[361,174,0,208,1,"IMAGE"],[362,177,0,208,0,"IMAGE"],[375,225,0,216,0,"INT"],[376,226,0,216,1,"INT"],[378,216,0,217,1,"MASK"],[379,218,0,219,1,"MODEL"],[380,220,0,219,2,"LATENT"],[382,219,0,221,0,"MODEL"],[383,227,0,221,1,"CONDITIONING"],[384,228,0,221,2,"CONDITIONING"],[388,221,0,223,0,"LATENT"],[414,152,0,240,0,"MODEL"],[415,152,1,240,1,"IPADAPTER"],[419,240,0,241,0,"MODEL"],[420,241,0,203,0,"MODEL"],[421,208,0,217,0,"IMAGE"],[422,244,0,243,2,"CONTROL_NET"],[423,203,1,243,0,"CONDITIONING"],[424,203,2,243,1,"CONDITIONING"],[425,243,0,172,1,"CONDITIONING"],[426,243,1,172,2,"CONDITIONING"],[427,174,0,245,0,"IMAGE"],[428,245,0,243,3,"IMAGE"],[438,126,0,249,1,"IMAGE"],[439,45,0,249,0,"IMAGE"],[440,250,0,249,2,"MASK"],[446,217,0,220,0,"IMAGE"],[455,223,0,255,0,"IMAGE"],[456,174,0,256,0,"*"],[457,256,0,255,1,"IMAGE"],[458,257,0,255,2,"MASK"],[460,12,1,179,0,"MASK"],[461,40,0,259,0,"*"],[462,260,0,42,0,"IMAGE"],[466,263,0,262,1,"IMAGE"],[467,249,0,262,0,"IMAGE"],[468,165,0,240,3,"IMAGE"],[471,269,0,268,0,"IMAGE"],[472,268,0,221,3,"LATENT"],[474,255,0,270,0,"IMAGE"],[476,255,0,271,0,"IMAGE"],[477,256,0,271,1,"IMAGE"],[478,208,0,274,0,"IMAGE"],[479,160,0,276,0,"IMAGE"],[480,276,0,165,0,"IMAGE"],[481,276,0,240,2,"IMAGE"],[482,277,0,240,4,"MASK"],[483,4,2,203,1,"VAE"],[484,4,2,177,1,"VAE"],[485,4,2,64,1,"VAE"],[486,4,0,65,0,"MODEL"],[487,4,2,42,1,"VAE"],[488,4,2,268,1,"VAE"],[489,4,2,220,1,"VAE"],[490,4,0,219,0,"MODEL"],[491,4,2,223,1,"VAE"],[492,4,1,6,0,"CLIP"],[493,4,1,7,0,"CLIP"],[494,4,2,45,1,"VAE"],[495,4,0,152,0,"MODEL"],[496,278,0,196,0,"STRING"],[497,279,0,76,2,"STRING"],[498,280,0,7,1,"STRING"],[499,249,0,281,0,"IMAGE"],[500,4,2,203,1,"VAE"],[501,4,2,177,1,"VAE"],[502,4,2,64,1,"VAE"],[503,4,0,65,0,"MODEL"],[504,4,2,42,1,"VAE"],[505,4,2,268,1,"VAE"],[506,4,2,220,1,"VAE"],[507,4,0,219,0,"MODEL"],[508,4,2,223,1,"VAE"],[509,4,1,6,0,"CLIP"],[510,4,2,45,1,"VAE"],[511,4,0,152,0,"MODEL"],[512,4,1,7,0,"CLIP"],[513,4,2,203,1,"VAE"],[514,4,2,177,1,"VAE"],[515,4,2,64,1,"VAE"],[516,4,0,65,0,"MODEL"],[517,4,2,42,1,"VAE"],[518,4,2,268,1,"VAE"],[519,4,2,220,1,"VAE"],[520,4,0,219,0,"MODEL"],[521,4,2,223,1,"VAE"],[522,4,1,6,0,"CLIP"],[523,4,2,45,1,"VAE"],[524,4,0,152,0,"MODEL"],[525,4,1,7,0,"CLIP"]],"groups":[{"title":"Control Panel","bounding":[-2502,-538,1908,1020],"color":"#3f789e","font_size":40,"locked":false},{"title":"Model&Prompt","bounding":[-2505,523,1905,569],"color":"#3f789e","font_size":40,"locked":false},{"title":"Basic: Using Prompt Change Background & Relight","bounding":[-533,-536,3373,1146],"color":"#8AA","font_size":40,"locked":false},{"title":"Easy Relight (By Alan Sun)","bounding":[-662,-765,1254,132],"color":"#3f789e","font_size":100,"locked":false},{"title":"LightMask","bounding":[-2505,1590,1893,528],"color":"#3f789e","font_size":40,"locked":false},{"title":"IP Adapter","bounding":[-2506,1192,1890,446],"color":"#8AA","font_size":40,"locked":false},{"title":"Advanced: Custom Inpaint & Relight","bounding":[-537,678,3387,1459],"color":"#8AA","font_size":40,"locked":false}],"config":{},"extra":{"info":{"name":"workflow","author":"","description":"","version":"1","created":"2024-05-07T01:48:43.503Z","modified":"2024-05-09T21:20:29.660Z","software":"ComfyUI"},"workspace_info":{"id":"ApjlJrDGMsOKTt3yqQBj_"},"ds":{"scale":0.6830134553650711,"offset":[81.84041270381918,-817.0565727718589]}},"version":0.4}