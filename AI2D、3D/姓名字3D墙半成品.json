{"last_node_id":38,"last_link_id":57,"nodes":[{"id":14,"type":"VAEDecode","pos":[1848,-71],"size":{"0":210,"1":46},"flags":{},"order":11,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":21,"label":"samples"},{"name":"vae","type":"VAE","link":22,"label":"vae"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[23,54],"shape":3,"label":"IMAGE","slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":15,"type":"FaceDetailer","pos":[2276,-75],"size":{"0":506.4000244140625,"1":856},"flags":{},"order":12,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":23,"label":"image"},{"name":"model","type":"MODEL","link":24,"label":"model"},{"name":"clip","type":"CLIP","link":53,"label":"clip"},{"name":"vae","type":"VAE","link":27,"label":"vae","slot_index":3},{"name":"positive","type":"CONDITIONING","link":25,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":26,"label":"negative"},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":56,"label":"bbox_detector","slot_index":6},{"name":"sam_model_opt","type":"SAM_MODEL","link":55,"label":"sam_model_opt","slot_index":7},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":57,"label":"segm_detector_opt","slot_index":8},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"detailer_hook"}],"outputs":[{"name":"image","type":"IMAGE","links":[32,47],"shape":3,"label":"image","slot_index":0},{"name":"cropped_refined","type":"IMAGE","links":null,"shape":6,"label":"cropped_refined"},{"name":"cropped_enhanced_alpha","type":"IMAGE","links":null,"shape":6,"label":"cropped_enhanced_alpha"},{"name":"mask","type":"MASK","links":null,"shape":3,"label":"mask"},{"name":"detailer_pipe","type":"DETAILER_PIPE","links":null,"shape":3,"label":"detailer_pipe"},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6,"label":"cnet_images"}],"properties":{"Node name for S&R":"FaceDetailer"},"widgets_values":[384,true,1024,460290954990008,"randomize",30,7,"dpmpp_2m_alt","karras",0.5,5,true,true,0.5,10,3,"center-1",0,0.93,0,0.7,"False",10,"",1,false],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"",null,null]},{"id":8,"type":"KSamplerAdvanced","pos":[1459,-83],"size":{"0":315,"1":334},"flags":{},"order":10,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":50,"label":"model"},{"name":"positive","type":"CONDITIONING","link":19,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":20,"label":"negative"},{"name":"latent_image","type":"LATENT","link":14,"label":"latent_image","slot_index":3}],"outputs":[{"name":"LATENT","type":"LATENT","links":[21],"shape":3,"label":"LATENT","slot_index":0}],"properties":{"Node name for S&R":"KSamplerAdvanced"},"widgets_values":["enable",851124868962201,"randomize",30,7,"dpmpp_2m","karras",2,10000,"disable"],"serialize_values":[null,null,null,null,null,null,null,null,null,null]},{"id":35,"type":"PreviewImage","pos":[2267,-460],"size":{"0":522.62890625,"1":303.15081787109375},"flags":{},"order":13,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":54,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":31,"type":"SaveImage","pos":[3388,-125],"size":{"0":664,"1":401},"flags":{},"order":15,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":47,"label":"images"}],"properties":{},"widgets_values":["ComfyUI"],"serialize_values":["ComfyUI"]},{"id":9,"type":"EmptyLatentImage","pos":[1021,418],"size":{"0":315,"1":106},"flags":{},"order":0,"mode":0,"outputs":[{"name":"LATENT","type":"LATENT","links":[14],"shape":3,"label":"LATENT"}],"properties":{"Node name for S&R":"EmptyLatentImage"},"widgets_values":[768,768,4],"serialize_values":[null,null,null]},{"id":19,"type":"PreviewImage","pos":[2835,-121],"size":{"0":524.6187744140625,"1":675.5671997070312},"flags":{},"order":14,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":32,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":12,"type":"LoadImage","pos":[500,-81],"size":{"0":315,"1":314},"flags":{},"order":1,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[18],"shape":3,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":null,"shape":3,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["https://bfs.esheep.com/bfs/aikobo-bfs/app/comfy/7636579d9d4e7215439168159813faac0e04bbd1.jpg@1536w_1536h_0e","image"],"serialize_values":[null,null]},{"id":1,"type":"CheckpointLoaderSimple","pos":[-36,-96],"size":{"0":315,"1":98},"flags":{},"order":2,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[1,24],"shape":3,"label":"MODEL","slot_index":0},{"name":"CLIP","type":"CLIP","links":[5],"shape":3,"label":"CLIP","slot_index":1},{"name":"VAE","type":"VAE","links":[22,27],"shape":3,"label":"VAE","slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["ReV Animated(v1.2.2-EOL)"],"serialize_values":["372_5482_6390@4199bcdd14.safetensors"]},{"id":2,"type":"LoraLoader","pos":[-50,422],"size":{"0":315,"1":126},"flags":{},"order":6,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1,"label":"model"},{"name":"clip","type":"CLIP","link":5,"label":"clip"}],"outputs":[{"name":"MODEL","type":"MODEL","links":[50],"shape":3,"label":"MODEL","slot_index":0},{"name":"CLIP","type":"CLIP","links":[51,52,53],"shape":3,"label":"CLIP","slot_index":1}],"properties":{"Node name for S&R":"LoraLoader"},"widgets_values":["3d wallpaper-balloon(v1)",1,0.8],"serialize_values":["4253_6270_7348@0be0019af9.safetensors",null,null]},{"id":6,"type":"CLIPTextEncode","pos":[993,-90],"size":{"0":400,"1":200},"flags":{},"order":7,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":51,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[16,25],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["no humans,1cat\fpink\foutside,blue theme\f uncensored,oral,<lora:3dwallpaper:1>,macaron color,"],"serialize_values":["no humans,1cat\fpink\foutside,blue theme\f uncensored,oral,<lora:3dwallpaper:1>,macaron color,"]},{"id":7,"type":"CLIPTextEncode","pos":[985,154],"size":{"0":400,"1":200},"flags":{},"order":8,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":52,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[17,26],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncode"},"widgets_values":["badhandv4\f realisticvision-negative-embedding,"],"serialize_values":["badhandv4\f realisticvision-negative-embedding,"]},{"id":10,"type":"ControlNetLoader","pos":[507,294],"size":{"0":315,"1":58},"flags":{},"order":3,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[15],"shape":3,"label":"CONTROL_NET","slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["control_v11p_sd15_canny.pth"],"serialize_values":[null]},{"id":11,"type":"ControlNetApplyAdvanced","pos":[516,423],"size":{"0":315,"1":166},"flags":{},"order":9,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":16,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":17,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":15,"label":"control_net"},{"name":"image","type":"IMAGE","link":18,"label":"image","slot_index":3}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[19],"shape":3,"label":"positive","slot_index":0},{"name":"negative","type":"CONDITIONING","links":[20],"shape":3,"label":"negative","slot_index":1}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[2,0,1],"serialize_values":[null,null,null]},{"id":17,"type":"SAMLoader","pos":[1831,34],"size":{"0":315,"1":82},"flags":{},"order":4,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[55],"shape":3,"label":"SAM_MODEL","slot_index":0}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","AUTO"],"serialize_values":[null,null]},{"id":18,"type":"UltralyticsDetectorProvider","pos":[1843,184],"size":{"0":315,"1":78},"flags":{},"order":5,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[56],"shape":3,"label":"BBOX_DETECTOR","slot_index":0},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[57],"shape":3,"label":"SEGM_DETECTOR","slot_index":1}],"properties":{"Node name for S&R":"UltralyticsDetectorProvider"},"widgets_values":["bbox/hand_yolov8s.pt"],"serialize_values":[null]}],"links":[[1,1,0,2,0,"MODEL"],[5,1,1,2,1,"CLIP"],[14,9,0,8,3,"LATENT"],[15,10,0,11,2,"CONTROL_NET"],[16,6,0,11,0,"CONDITIONING"],[17,7,0,11,1,"CONDITIONING"],[18,12,0,11,3,"IMAGE"],[19,11,0,8,1,"CONDITIONING"],[20,11,1,8,2,"CONDITIONING"],[21,8,0,14,0,"LATENT"],[22,1,2,14,1,"VAE"],[23,14,0,15,0,"IMAGE"],[24,1,0,15,1,"MODEL"],[25,6,0,15,4,"CONDITIONING"],[26,7,0,15,5,"CONDITIONING"],[27,1,2,15,3,"VAE"],[32,15,0,19,0,"IMAGE"],[47,15,0,31,0,"IMAGE"],[50,2,0,8,0,"MODEL"],[51,2,1,6,0,"CLIP"],[52,2,1,7,0,"CLIP"],[53,2,1,15,2,"CLIP"],[54,14,0,35,0,"IMAGE"],[55,17,0,15,7,"SAM_MODEL"],[56,18,0,15,6,"BBOX_DETECTOR"],[57,18,1,15,8,"SEGM_DETECTOR"]],"groups":[{"title":"模型加载区","bounding":[-95,-224,475,977],"color":"#3f789e","font_size":24,"locked":false},{"title":"图片上传","bounding":[462,-209,397,879],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}