{"last_node_id":155,"last_link_id":243,"nodes":[{"id":64,"type":"Image Size to Number","pos":[927.3254154531578,990.425522516528],"size":{"0":229.20001220703125,"1":126},"flags":{},"order":21,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":79,"slot_index":0}],"outputs":[{"name":"width_num","type":"NUMBER","links":[77],"shape":3,"slot_index":0},{"name":"height_num","type":"NUMBER","links":[78],"shape":3,"slot_index":1},{"name":"width_float","type":"FLOAT","links":null,"shape":3},{"name":"height_float","type":"FLOAT","links":null,"shape":3},{"name":"width_int","type":"INT","links":null,"shape":3},{"name":"height_int","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"Image Size to Number"}},{"id":65,"type":"ImpactMinMax","pos":[930.325415453158,1163.4255225165286],"size":{"0":315,"1":78},"flags":{},"order":28,"mode":0,"inputs":[{"name":"a","type":"*","link":77},{"name":"b","type":"*","link":78}],"outputs":[{"name":"INT","type":"INT","links":[82,83],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImpactMinMax"},"widgets_values":[false]},{"id":63,"type":"PreviewImage","pos":[1644.9381816874998,1250.4917905546893],"size":{"0":225.8314208984375,"1":261.8355712890625},"flags":{"collapsed":false},"order":32,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":87}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":66,"type":"PreviewImage","pos":[1290.9381816874993,1250.4917905546893],"size":{"0":231.0323486328125,"1":260.4005126953125},"flags":{},"order":31,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":88}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":60,"type":"ImageCrop+","pos":[1285.9381816874993,993.4917905546866],"size":{"0":315,"1":194},"flags":{},"order":29,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":85},{"name":"width","type":"INT","link":82,"widget":{"name":"width"}},{"name":"height","type":"INT","link":83,"widget":{"name":"height"}}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[86,88],"shape":3,"slot_index":0},{"name":"x","type":"INT","links":null,"shape":3},{"name":"y","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"ImageCrop+"},"widgets_values":[1024,1024,"center",0,0]},{"id":37,"type":"PreviewImage","pos":[2643.8190135351706,27.974921286719212],"size":{"0":298.92254638671875,"1":337.36029052734375},"flags":{},"order":39,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":42}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":41,"type":"PreviewImage","pos":[2984.8190135351706,25.974921286719194],"size":{"0":309.41864013671875,"1":339.89154052734375},"flags":{},"order":41,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":49}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":77,"type":"Reroute","pos":[933.7461299084473,-45.817666679687385],"size":[75,26],"flags":{},"order":17,"mode":0,"inputs":[{"name":"","type":"*","link":170}],"outputs":[{"name":"","type":"CLIP","links":[106],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":90,"type":"Note","pos":[1135,139],"size":{"0":210,"1":58},"flags":{},"order":0,"mode":0,"properties":{"text":""},"widgets_values":["image\npositive prompt"],"color":"#432","bgcolor":"#653"},{"id":95,"type":"Reroute","pos":[938.5770129943849,32.09537944335938],"size":[75,26],"flags":{},"order":18,"mode":0,"inputs":[{"name":"","type":"*","link":124}],"outputs":[{"name":"","type":"VAE","links":[126],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":75,"type":"Note","pos":[2300.773723496104,541.8022384400384],"size":{"0":210,"1":86.54115295410156},"flags":{},"order":1,"mode":0,"properties":{"text":""},"widgets_values":["image\nclip\npositive prompt\nnegative prompt"],"color":"#432","bgcolor":"#653"},{"id":89,"type":"Reroute","pos":[1125,54],"size":[75,26],"flags":{},"order":25,"mode":0,"inputs":[{"name":"","type":"*","link":128,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"STRING","links":[],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":74,"type":"Reroute","pos":[1124,8],"size":[75,26],"flags":{},"order":35,"mode":0,"inputs":[{"name":"","type":"*","link":101}],"outputs":[{"name":"","type":"IMAGE","links":[102],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":61,"type":"ImageResize+","pos":[1642.0613115703122,993.9351279570309],"size":{"0":315,"1":194},"flags":{},"order":30,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":86}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[87,90],"shape":3,"slot_index":0},{"name":"width","type":"INT","links":null,"shape":3},{"name":"height","type":"INT","links":null,"shape":3}],"properties":{"Node name for S&R":"ImageResize+"},"widgets_values":[1024,1024,"nearest",true,"always"]},{"id":42,"type":"BLIP Model Loader","pos":[1128,-101],"size":{"0":315,"1":58},"flags":{},"order":2,"mode":0,"outputs":[{"name":"BLIP_MODEL","type":"BLIP_MODEL","links":[51],"shape":3}],"properties":{"Node name for S&R":"BLIP Model Loader"},"widgets_values":["caption"]},{"id":67,"type":"Reroute","pos":[2034.7663066874989,993.6246030546869],"size":[75,26],"flags":{},"order":33,"mode":0,"inputs":[{"name":"","type":"*","link":90}],"outputs":[{"name":"","type":"IMAGE","links":[91,101],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":68,"type":"Reroute","pos":[2303.773723496104,300.80223844003854],"size":[75,26],"flags":{},"order":34,"mode":0,"inputs":[{"name":"","type":"*","link":91}],"outputs":[{"name":"","type":"IMAGE","links":[92,93],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":111,"type":"Reroute","pos":[1118.885554329687,357.79355040898446],"size":[75,26],"flags":{},"order":44,"mode":0,"inputs":[{"name":"","type":"*","link":154,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"STRING","links":[155],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":88,"type":"Reroute","pos":[928.2880437285158,342.25383352441395],"size":[75,26],"flags":{},"order":20,"mode":0,"inputs":[{"name":"","type":"*","link":112,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"STRING","links":[157],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":87,"type":"Reroute","pos":[928.2880437285158,291.25383352441395],"size":[75,26],"flags":{},"order":19,"mode":0,"inputs":[{"name":"","type":"*","link":111,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"STRING","links":[128,158],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":71,"type":"Note","pos":[3939.8314208953157,279.1929186421887],"size":{"0":210,"1":94.05259704589844},"flags":{},"order":3,"mode":0,"properties":{"text":""},"widgets_values":["image\nmodel\npositive\nnegative\nvae"],"color":"#432","bgcolor":"#653"},{"id":43,"type":"BLIP Analyze Image","pos":[1552.5739341875017,-123.80737506835918],"size":{"0":400,"1":200},"flags":{},"order":38,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":102},{"name":"blip_model","type":"BLIP_MODEL","link":51,"slot_index":1}],"outputs":[{"name":"STRING","type":"STRING","links":[163],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"BLIP Analyze Image"},"widgets_values":["caption","What does the background consist of?"]},{"id":44,"type":"Text Concatenate","pos":[1231.885554329687,356.79355040898446],"size":{"0":315,"1":178},"flags":{},"order":46,"mode":0,"inputs":[{"name":"text_a","type":"STRING","link":155,"widget":{"name":"text_a"}},{"name":"text_b","type":"STRING","link":164,"widget":{"name":"text_b"}},{"name":"text_c","type":"STRING","link":null,"widget":{"name":"text_c"}},{"name":"text_d","type":"STRING","link":null,"widget":{"name":"text_d"}}],"outputs":[{"name":"STRING","type":"STRING","links":[148],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Text Concatenate"},"widgets_values":[", ","false","","","",""]},{"id":112,"type":"Reroute","pos":[1120.885554329687,393.79355040898446],"size":[75,26],"flags":{},"order":26,"mode":0,"inputs":[{"name":"","type":"*","link":158,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"STRING","links":[164],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":113,"type":"Reroute","pos":[1120.885554329687,447.79355040898446],"size":[75,26],"flags":{},"order":27,"mode":0,"inputs":[{"name":"","type":"*","link":157,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"STRING","links":[156],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":115,"type":"Reroute","pos":[2132,356],"size":[75,26],"flags":{},"order":51,"mode":0,"inputs":[{"name":"","type":"*","link":159,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"STRING","links":[161],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":116,"type":"Reroute","pos":[2132,398],"size":[75,26],"flags":{},"order":53,"mode":0,"inputs":[{"name":"","type":"*","link":160,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"STRING","links":[162],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":104,"type":"ShowText|pysssss","pos":[1401,616],"size":{"0":309.5440979003906,"1":118.37015533447266},"flags":{},"order":50,"mode":0,"inputs":[{"name":"text","type":"STRING","link":150,"widget":{"name":"text"}}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","line art drawing a man with long hair and a beard, wearing a gray jacket and a blue t - shirt, black and white, line art, colorless, simple background . professional, sleek, modern, minimalist, graphic, line art, vector graphics"],"color":"#232","bgcolor":"#353"},{"id":110,"type":"ShowText|pysssss","pos":[1740,624],"size":{"0":321.9749755859375,"1":104.70820617675781},"flags":{},"order":52,"mode":0,"inputs":[{"name":"text","type":"STRING","link":153,"widget":{"name":"text"}}],"outputs":[{"name":"STRING","type":"STRING","links":null,"shape":6,"slot_index":0}],"properties":{"Node name for S&R":"ShowText|pysssss"},"widgets_values":["","anime, photorealistic, 35mm film, deformed, glitch, blurry, noisy, off-center, deformed, cross-eyed, closed eyes, bad anatomy, ugly, disfigured, mutated, realism, realistic, impressionism, expressionism, oil, acrylic, shadows, gray fill, blurry, watermark, text, dark background, thick, color, shaing, gradient, transparency, bad hands, complex background"],"color":"#322","bgcolor":"#533"},{"id":117,"type":"Reroute","pos":[3784,106],"size":[75,26],"flags":{},"order":69,"mode":0,"inputs":[{"name":"","type":"*","link":165}],"outputs":[{"name":"","type":"CONDITIONING","links":[167],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":49,"type":"CheckpointLoaderSimple","pos":[583,-94],"size":{"0":294.5854797363281,"1":98},"flags":{},"order":4,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[169],"shape":3,"slot_index":0},{"name":"CLIP","type":"CLIP","links":[170],"shape":3,"slot_index":1},{"name":"VAE","type":"VAE","links":null,"shape":3}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["base/sdxl/sd_xl_base_1.0.safetensors"]},{"id":50,"type":"VAELoader","pos":[582,61],"size":{"0":315,"1":58},"flags":{},"order":5,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[124],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["sdxl_vae_fp16_fix.safetensors"]},{"id":78,"type":"Reroute","pos":[2110,-124],"size":[75,26],"flags":{},"order":42,"mode":0,"inputs":[{"name":"","type":"*","link":163,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"STRING","links":[154],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#223","bgcolor":"#335"},{"id":118,"type":"Reroute","pos":[3783,151],"size":[75,26],"flags":{},"order":70,"mode":0,"inputs":[{"name":"","type":"*","link":166}],"outputs":[{"name":"","type":"CONDITIONING","links":[168],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":97,"type":"Reroute","pos":[3945.634355468748,188.61664611816423],"size":[75,26],"flags":{},"order":24,"mode":0,"inputs":[{"name":"","type":"*","link":126}],"outputs":[{"name":"","type":"VAE","links":[127,138],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":93,"type":"Reroute","pos":[3948.634355468748,106.61664611816431],"size":[75,26],"flags":{},"order":72,"mode":0,"inputs":[{"name":"","type":"*","link":167}],"outputs":[{"name":"","type":"CONDITIONING","links":[187],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#232","bgcolor":"#353"},{"id":94,"type":"Reroute","pos":[3947.634355468748,149.6166461181643],"size":[75,26],"flags":{},"order":73,"mode":0,"inputs":[{"name":"","type":"*","link":168}],"outputs":[{"name":"","type":"CONDITIONING","links":[188],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false},"color":"#322","bgcolor":"#533"},{"id":92,"type":"Reroute","pos":[3949.634355468748,27.616646118163803],"size":[75,26],"flags":{},"order":74,"mode":0,"inputs":[{"name":"","type":"*","link":234}],"outputs":[{"name":"","type":"MODEL","links":[189],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":54,"type":"ControlNetApplyAdvanced","pos":[3440.773723496104,107.80223844003906],"size":{"0":315,"1":166},"flags":{},"order":67,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":61},{"name":"negative","type":"CONDITIONING","link":62},{"name":"control_net","type":"CONTROL_NET","link":63,"slot_index":2},{"name":"image","type":"IMAGE","link":64,"slot_index":3}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[165],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[166],"shape":3,"slot_index":1}],"title":"Apply ControlNet Depth","properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.7000000000000001,0,1]},{"id":70,"type":"Reroute","pos":[2301.773723496104,353.8022384400386],"size":[75,26],"flags":{},"order":23,"mode":0,"inputs":[{"name":"","type":"*","link":106}],"outputs":[{"name":"","type":"CLIP","links":[192,193],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":72,"type":"Reroute","pos":[2304.773723496104,407.8022384400387],"size":[75,26],"flags":{},"order":56,"mode":0,"inputs":[{"name":"","type":"*","link":161,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"STRING","links":[190,191],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":73,"type":"Reroute","pos":[2304.773723496104,458.8022384400386],"size":[75,26],"flags":{},"order":57,"mode":0,"inputs":[{"name":"","type":"*","link":162,"widget":{"name":"value"}}],"outputs":[{"name":"","type":"STRING","links":[194,195],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":133,"type":"CLIPTextEncodeSDXL","pos":[3047,425],"size":{"0":366.6034851074219,"1":218},"flags":{},"order":61,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":193},{"name":"text_g","type":"STRING","link":194,"widget":{"name":"text_g"}},{"name":"text_l","type":"STRING","link":195,"widget":{"name":"text_l"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[196],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncodeSDXL"},"widgets_values":[1024,1024,0,0,1024,1024,"CLIP_G","CLIP_L"],"color":"#322","bgcolor":"#533"},{"id":132,"type":"CLIPTextEncodeSDXL","pos":[2649,425],"size":{"0":366.6034851074219,"1":218},"flags":{},"order":60,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":192},{"name":"text_g","type":"STRING","link":190,"widget":{"name":"text_g"}},{"name":"text_l","type":"STRING","link":191,"widget":{"name":"text_l"}}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[197],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPTextEncodeSDXL"},"widgets_values":[1024,1024,0,0,1024,1024,"CLIP_G","CLIP_L"],"color":"#232","bgcolor":"#353"},{"id":36,"type":"LineArtPreprocessor","pos":[2632,-127],"size":{"0":315,"1":82},"flags":{},"order":36,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":92}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[42,59,178],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"LineArtPreprocessor"},"widgets_values":["disable",512]},{"id":53,"type":"ControlNetApplyAdvanced","pos":[3442.773723496104,-116.19776155996122],"size":{"0":315,"1":166},"flags":{},"order":64,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":197},{"name":"negative","type":"CONDITIONING","link":196},{"name":"control_net","type":"CONTROL_NET","link":60},{"name":"image","type":"IMAGE","link":59}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[61],"shape":3,"slot_index":0},{"name":"negative","type":"CONDITIONING","links":[62],"shape":3,"slot_index":1}],"title":"Apply ControlNet Lineart","properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[0.2,0,1]},{"id":34,"type":"ControlNetLoader","pos":[2282.8190135351715,-122.02507871328194],"size":{"0":315,"1":58},"flags":{},"order":6,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[60],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["sdxl/t2i-adapter-lineart-sdxl-1.0-fp16.safetensors"]},{"id":35,"type":"ControlNetLoader","pos":[2283,-15],"size":{"0":315,"1":58},"flags":{},"order":7,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[63],"shape":3}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["sdxl/t2i-adapter-depth-zoe-sdxl-1.0-fp16.safetensors"]},{"id":124,"type":"Reroute","pos":[3780,219],"size":[75,26],"flags":{},"order":40,"mode":0,"inputs":[{"name":"","type":"*","link":178}],"outputs":[{"name":"","type":"IMAGE","links":[213],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":108,"type":"Reroute","pos":[3950.3914355468737,-17.32563903808589],"size":[75,26],"flags":{},"order":58,"mode":0,"inputs":[{"name":"","type":"*","link":222}],"outputs":[{"name":"","type":"IMAGE","links":[219],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":142,"type":"Reroute","pos":[2266,742],"size":[75,26],"flags":{},"order":43,"mode":0,"inputs":[{"name":"","type":"*","link":213}],"outputs":[{"name":"","type":"IMAGE","links":[212],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":143,"type":"PreviewImage","pos":[2289,876],"size":{"0":210,"1":246},"flags":{},"order":54,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":218}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":121,"type":"ImageInvert","pos":[2388,781],"size":{"0":210,"1":26},"flags":{},"order":45,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":212}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[214],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageInvert"}},{"id":134,"type":"UpscaleModelLoader","pos":[2663,767],"size":{"0":315,"1":58},"flags":{},"order":8,"mode":0,"outputs":[{"name":"UPSCALE_MODEL","type":"UPSCALE_MODEL","links":[198],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"UpscaleModelLoader"},"widgets_values":["RealESRGAN_x4plus_anime_6B.pth"]},{"id":135,"type":"ImageUpscaleWithModel","pos":[2666,872],"size":{"0":241.79998779296875,"1":46},"flags":{},"order":47,"mode":0,"inputs":[{"name":"upscale_model","type":"UPSCALE_MODEL","link":198},{"name":"image","type":"IMAGE","link":214}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[215],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImageUpscaleWithModel"}},{"id":76,"type":"Reroute","pos":[936.7461299084473,-92.8176666796874],"size":[75,26],"flags":{},"order":16,"mode":0,"inputs":[{"name":"","type":"*","link":169}],"outputs":[{"name":"","type":"MODEL","links":[223],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":144,"type":"Reroute","pos":[3047,848],"size":[75,26],"flags":{},"order":55,"mode":0,"inputs":[{"name":"","type":"*","link":221}],"outputs":[{"name":"","type":"IMAGE","links":[222,224],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":145,"type":"Reroute","pos":[3171.284541015622,755.2019213867185],"size":[75,26],"flags":{},"order":22,"mode":0,"inputs":[{"name":"","type":"*","link":223}],"outputs":[{"name":"","type":"MODEL","links":[225],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":146,"type":"Reroute","pos":[3172.284541015622,795.2019213867186],"size":[75,26],"flags":{},"order":59,"mode":0,"inputs":[{"name":"","type":"*","link":224}],"outputs":[{"name":"","type":"IMAGE","links":[226],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":137,"type":"Image Resize","pos":[2667,968],"size":{"0":315,"1":178},"flags":{},"order":49,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":215}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[218,221],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Image Resize"},"widgets_values":["rescale","true","lanczos",0.5,1024,1536]},{"id":139,"type":"IPAdapterApply","pos":[3679,776],"size":{"0":315,"1":258},"flags":{},"order":66,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":203},{"name":"clip_vision","type":"CLIP_VISION","link":204},{"name":"image","type":"IMAGE","link":206},{"name":"model","type":"MODEL","link":225},{"name":"attn_mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[230],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterApply"},"widgets_values":[0.3,0,"original",0,1,false]},{"id":85,"type":"Text Multiline","pos":[579.2880437285157,374.25383352441395],"size":{"0":342.3992614746094,"1":179.54632568359375},"flags":{},"order":9,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[111],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Text Multiline"},"widgets_values":["black and white, line art, colorless, simple background"],"color":"#232","bgcolor":"#353"},{"id":114,"type":"Note","pos":[1134,620],"size":{"0":210,"1":94.05259704589844},"flags":{},"order":10,"mode":0,"properties":{"text":""},"widgets_values":["blip\npositive\nnegative"],"color":"#432","bgcolor":"#653"},{"id":40,"type":"Zoe-DepthMapPreprocessor","pos":[2985.773723496104,-124.19776155996139],"size":{"0":315,"1":58},"flags":{},"order":37,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":93,"slot_index":0}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[49,64],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Zoe-DepthMapPreprocessor"},"widgets_values":[1024]},{"id":149,"type":"IPAdapterModelLoader","pos":[3300,1194],"size":{"0":315,"1":58},"flags":{},"order":11,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[231],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-plus_sdxl_vit-h.safetensors"]},{"id":141,"type":"PrepImageForClipVision","pos":[3301,1035],"size":{"0":315,"1":106},"flags":{},"order":63,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":226}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[206,233],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"PrepImageForClipVision"},"widgets_values":["LANCZOS","top",0]},{"id":140,"type":"CLIPVisionLoader","pos":[3301,930],"size":{"0":315,"1":58},"flags":{},"order":12,"mode":0,"outputs":[{"name":"CLIP_VISION","type":"CLIP_VISION","links":[204,232],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"CLIPVisionLoader"},"widgets_values":["CLIP-ViT-H-14-laion2B-s32B-b79K/model.safetensors"]},{"id":138,"type":"IPAdapterModelLoader","pos":[3291,778],"size":{"0":315,"1":58},"flags":{},"order":13,"mode":0,"outputs":[{"name":"IPADAPTER","type":"IPADAPTER","links":[203],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterModelLoader"},"widgets_values":["ip-adapter-plus-face_sdxl_vit-h.bin"]},{"id":147,"type":"Reroute","pos":[3906,1500],"size":[75,26],"flags":{},"order":71,"mode":0,"inputs":[{"name":"","type":"*","link":237}],"outputs":[{"name":"","type":"MODEL","links":[234],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":148,"type":"IPAdapterApply","pos":[3676,1189],"size":{"0":315,"1":258},"flags":{},"order":68,"mode":0,"inputs":[{"name":"ipadapter","type":"IPADAPTER","link":231},{"name":"clip_vision","type":"CLIP_VISION","link":232},{"name":"image","type":"IMAGE","link":233},{"name":"model","type":"MODEL","link":230},{"name":"attn_mask","type":"MASK","link":null}],"outputs":[{"name":"MODEL","type":"MODEL","links":[237],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"IPAdapterApply"},"widgets_values":[0,0,"original",0,0.4,false]},{"id":86,"type":"Text Multiline","pos":[577.2880437285157,628.2538335244137],"size":{"0":344.1501159667969,"1":174.4368133544922},"flags":{},"order":14,"mode":0,"outputs":[{"name":"STRING","type":"STRING","links":[112],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"Text Multiline"},"widgets_values":["shadows, gray fill, blurry, watermark, text, dark background, thick, color, shaing, gradient, transparency, bad hands, complex background"],"color":"#322","bgcolor":"#533"},{"id":109,"type":"SDXLPromptStyler","pos":[1642.8855543296877,356.79355040898446],"size":{"0":400,"1":218.00001525878906},"flags":{},"order":48,"mode":0,"inputs":[{"name":"text_positive","type":"STRING","link":148,"widget":{"name":"text_positive"}},{"name":"text_negative","type":"STRING","link":156,"widget":{"name":"text_negative"}}],"outputs":[{"name":"positive_prompt_text_g","type":"STRING","links":[150,159],"shape":3,"slot_index":0},{"name":"negative_prompt_text_g","type":"STRING","links":[153,160],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"SDXLPromptStyler"},"widgets_values":["","shadows, gray fill, blurry, watermark, text, dark background, thick, color, shaing, gradient, transparency, bad hands","sai-line art","No",true,true]},{"id":128,"type":"KSamplerAdvanced","pos":[4305.391435546872,-55.325639038085896],"size":{"0":315,"1":334},"flags":{},"order":75,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":189},{"name":"positive","type":"CONDITIONING","link":187},{"name":"negative","type":"CONDITIONING","link":188},{"name":"latent_image","type":"LATENT","link":241}],"outputs":[{"name":"LATENT","type":"LATENT","links":[185],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"KSamplerAdvanced"},"widgets_values":["enable",208423164912208,"fixed",20,5,"dpmpp_2m_sde","karras",4,20,"enable"]},{"id":106,"type":"VAEEncode","pos":[4047,-143],"size":{"0":210,"1":46},"flags":{},"order":62,"mode":0,"inputs":[{"name":"pixels","type":"IMAGE","link":219},{"name":"vae","type":"VAE","link":138}],"outputs":[{"name":"LATENT","type":"LATENT","links":[240],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEEncode"}},{"id":96,"type":"VAEDecode","pos":[4406.391435546872,-146.3256390380859],"size":{"0":210,"1":46},"flags":{},"order":76,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":185},{"name":"vae","type":"VAE","link":127}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[242],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"VAEDecode"}},{"id":155,"type":"Reroute","pos":[4551,309],"size":[75,26],"flags":{},"order":77,"mode":0,"inputs":[{"name":"","type":"*","link":242}],"outputs":[{"name":"","type":"IMAGE","links":[243],"slot_index":0}],"properties":{"showOutputText":false,"horizontal":false}},{"id":154,"type":"RepeatLatentBatch","pos":[4050,-49],"size":[210,58],"flags":{},"order":65,"mode":0,"inputs":[{"name":"samples","type":"LATENT","link":240}],"outputs":[{"name":"LATENT","type":"LATENT","links":[241],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"RepeatLatentBatch"},"widgets_values":[4]},{"id":33,"type":"LoadImage","pos":[581.0503774196802,991.0418595597228],"size":[315,314.0000114440918],"flags":{},"order":15,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[79,85],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":null,"shape":3}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["20231205_161003 (3).jpg","image"]},{"id":98,"type":"PreviewImage","pos":[4683,-197],"size":[1391.395835812109,1778.3947638003906],"flags":{},"order":78,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":243}],"properties":{"Node name for S&R":"PreviewImage"}}],"links":[[42,36,0,37,0,"IMAGE"],[49,40,0,41,0,"IMAGE"],[51,42,0,43,1,"BLIP_MODEL"],[59,36,0,53,3,"IMAGE"],[60,34,0,53,2,"CONTROL_NET"],[61,53,0,54,0,"CONDITIONING"],[62,53,1,54,1,"CONDITIONING"],[63,35,0,54,2,"CONTROL_NET"],[64,40,0,54,3,"IMAGE"],[77,64,0,65,0,"*"],[78,64,1,65,1,"*"],[79,33,0,64,0,"IMAGE"],[82,65,0,60,1,"INT"],[83,65,0,60,2,"INT"],[85,33,0,60,0,"IMAGE"],[86,60,0,61,0,"IMAGE"],[87,61,0,63,0,"IMAGE"],[88,60,0,66,0,"IMAGE"],[90,61,0,67,0,"*"],[91,67,0,68,0,"*"],[92,68,0,36,0,"IMAGE"],[93,68,0,40,0,"IMAGE"],[101,67,0,74,0,"*"],[102,74,0,43,0,"IMAGE"],[106,77,0,70,0,"*"],[111,85,0,87,0,"*"],[112,86,0,88,0,"*"],[124,50,0,95,0,"*"],[126,95,0,97,0,"*"],[127,97,0,96,1,"VAE"],[128,87,0,89,0,"*"],[138,97,0,106,1,"VAE"],[148,44,0,109,0,"STRING"],[150,109,0,104,0,"STRING"],[153,109,1,110,0,"STRING"],[154,78,0,111,0,"*"],[155,111,0,44,0,"STRING"],[156,113,0,109,1,"STRING"],[157,88,0,113,0,"*"],[158,87,0,112,0,"*"],[159,109,0,115,0,"*"],[160,109,1,116,0,"*"],[161,115,0,72,0,"*"],[162,116,0,73,0,"*"],[163,43,0,78,0,"*"],[164,112,0,44,1,"STRING"],[165,54,0,117,0,"*"],[166,54,1,118,0,"*"],[167,117,0,93,0,"*"],[168,118,0,94,0,"*"],[169,49,0,76,0,"*"],[170,49,1,77,0,"*"],[178,36,0,124,0,"*"],[185,128,0,96,0,"LATENT"],[187,93,0,128,1,"CONDITIONING"],[188,94,0,128,2,"CONDITIONING"],[189,92,0,128,0,"MODEL"],[190,72,0,132,1,"STRING"],[191,72,0,132,2,"STRING"],[192,70,0,132,0,"CLIP"],[193,70,0,133,0,"CLIP"],[194,73,0,133,1,"STRING"],[195,73,0,133,2,"STRING"],[196,133,0,53,1,"CONDITIONING"],[197,132,0,53,0,"CONDITIONING"],[198,134,0,135,0,"UPSCALE_MODEL"],[203,138,0,139,0,"IPADAPTER"],[204,140,0,139,1,"CLIP_VISION"],[206,141,0,139,2,"IMAGE"],[212,142,0,121,0,"IMAGE"],[213,124,0,142,0,"*"],[214,121,0,135,1,"IMAGE"],[215,135,0,137,0,"IMAGE"],[218,137,0,143,0,"IMAGE"],[219,108,0,106,0,"IMAGE"],[221,137,0,144,0,"*"],[222,144,0,108,0,"*"],[223,76,0,145,0,"*"],[224,144,0,146,0,"*"],[225,145,0,139,3,"MODEL"],[226,146,0,141,0,"IMAGE"],[230,139,0,148,3,"MODEL"],[231,149,0,148,0,"IPADAPTER"],[232,140,0,148,1,"CLIP_VISION"],[233,141,0,148,2,"IMAGE"],[234,147,0,92,0,"*"],[237,148,0,147,0,"*"],[240,106,0,154,0,"LATENT"],[241,154,0,128,3,"LATENT"],[242,96,0,155,0,"*"],[243,155,0,98,0,"IMAGE"]],"groups":[{"title":"Load Models","bounding":[549,-218,504,455],"color":"#3f789e","font_size":24,"locked":false},{"title":"Image Preprocessor","bounding":[550,902,1659,661],"color":"#3f789e","font_size":24,"locked":false},{"title":"ControlNet","bounding":[2259,-226,1615,892],"color":"#3f789e","font_size":24,"locked":false},{"title":"BLIP","bounding":[1104,-224,1105,461],"color":"#3f789e","font_size":24,"locked":false},{"title":"Prompt","bounding":[549,251,503,619],"color":"#3f789e","font_size":24,"locked":false},{"title":"Generation","bounding":[3920,-228,729,896],"color":"#3f789e","font_size":24,"locked":false},{"title":"Prompt Styler","bounding":[1104,264,1102,605],"color":"#3f789e","font_size":24,"locked":false},{"title":"Image Invert","bounding":[2258,689,872,889],"color":"#3f789e","font_size":24,"locked":false},{"title":"IpAdapter","bounding":[3152,690,862,890],"color":"#3f789e","font_size":24,"locked":false},{"title":"Post Process","bounding":[4026,691,620,891],"color":"#3f789e","font_size":24,"locked":false}],"config":{},"extra":{},"version":0.4}