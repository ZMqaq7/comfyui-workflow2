{"last_node_id":120,"last_link_id":234,"nodes":[{"id":5,"type":"VAELoader","pos":[-842.0589687472478,1283.235483336159],"size":{"0":303.92816162109375,"1":58},"flags":{},"order":0,"mode":0,"outputs":[{"name":"VAE","type":"VAE","links":[],"shape":3,"slot_index":0,"label":"VAE"}],"properties":{"Node name for S&R":"VAELoader"},"widgets_values":["vae-ft-mse-840000-ema-pruned.ckpt"],"serialize_values":[null]},{"id":4,"type":"CR LoRA Stack","pos":[-851.0589687472478,1399.235483336159],"size":{"0":315,"1":342},"flags":{},"order":1,"mode":0,"inputs":[{"name":"lora_stack","type":"LORA_STACK","link":null,"label":"lora_stack"}],"outputs":[{"name":"LORA_STACK","type":"LORA_STACK","links":[4],"shape":3,"label":"LORA_STACK"},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR LoRA Stack"},"widgets_values":["Off","None",0.8,1,"Off","None",1.5,1,"Off","None",1,1],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null]},{"id":67,"type":"Mask Threshold Region","pos":[892,1126],"size":[210,82],"flags":{},"order":32,"mode":0,"inputs":[{"name":"masks","type":"MASK","link":112,"label":"masks"}],"outputs":[{"name":"MASKS","type":"MASK","links":[113],"shape":3,"slot_index":0,"label":"MASKS"}],"properties":{"Node name for S&R":"Mask Threshold Region"},"widgets_values":[75,150],"color":"#332922","shape":1,"locked":true,"serialize_values":[null,null]},{"id":64,"type":"workflow/DetailerPipe","pos":[399.3883324781923,2634.9070254454864],"size":{"0":377.95263671875,"1":284.00006103515625},"flags":{},"order":21,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":null,"label":"model"},{"name":"clip","type":"CLIP","link":null,"label":"clip"},{"name":"vae","type":"VAE","link":null,"label":"vae"},{"name":"positive","type":"CONDITIONING","link":132,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":111,"label":"negative"},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":106,"label":"bbox_detector"},{"name":"sam_model_opt","type":"SAM_MODEL","link":107,"label":"sam_model_opt"},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":108,"label":"segm_detector_opt"},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"detailer_hook"}],"outputs":[{"name":"base_basic_pipe","type":"BASIC_PIPE","links":[103],"shape":3,"label":"base_basic_pipe"},{"name":"refiner_basic_pipe","type":"BASIC_PIPE","links":null,"shape":3,"label":"refiner_basic_pipe"}],"properties":{"Node name for S&R":"workflow/DetailerPipe"},"widgets_values":["","Select the LoRA to add to the text","Select the Wildcard to add to the text"],"serialize_values":[null,null,null]},{"id":37,"type":"EditBasicPipe","pos":[789.8245264119278,3093.6831945914514],"size":{"0":267,"1":126},"flags":{},"order":48,"mode":0,"inputs":[{"name":"basic_pipe","type":"BASIC_PIPE","link":103,"label":"basic_pipe"},{"name":"model","type":"MODEL","link":null,"label":"model"},{"name":"clip","type":"CLIP","link":null,"label":"clip"},{"name":"vae","type":"VAE","link":null,"label":"vae"},{"name":"positive","type":"CONDITIONING","link":181,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":182,"label":"negative"}],"outputs":[{"name":"basic_pipe","type":"BASIC_PIPE","links":[41],"shape":3,"slot_index":0,"label":"basic_pipe"}],"properties":{"Node name for S&R":"EditBasicPipe"}},{"id":13,"type":"GroundingDinoModelLoader (segment anything)","pos":[-37,2201],"size":[552.051025390625,58],"flags":{},"order":2,"mode":0,"outputs":[{"name":"GROUNDING_DINO_MODEL","type":"GROUNDING_DINO_MODEL","links":[14,97],"shape":3,"slot_index":0,"label":"GROUNDING_DINO_MODEL"}],"properties":{"Node name for S&R":"GroundingDinoModelLoader (segment anything)"},"widgets_values":["GroundingDINO_SwinB (938MB)"],"locked":true,"serialize_values":[null]},{"id":81,"type":"Anything Everywhere","pos":[799.82771837732,3447.9873518311747],"size":{"0":249.48208618164062,"1":26},"flags":{},"order":18,"mode":0,"inputs":[{"name":"INT","type":"*","link":160,"color_on":"#29699C","label":"INT"}],"properties":{"Node name for S&R":"Anything Everywhere","group_restricted":false,"color_restricted":false}},{"id":17,"type":"Masks Subtract","pos":[1118,1241],"size":[207.25338745117188,46],"flags":{},"order":35,"mode":0,"inputs":[{"name":"masks_a","type":"MASK","link":93,"label":"masks_a"},{"name":"masks_b","type":"MASK","link":170,"label":"masks_b"}],"outputs":[{"name":"MASKS","type":"MASK","links":[147],"shape":3,"slot_index":0,"label":"MASKS"}],"properties":{"Node name for S&R":"Masks Subtract"},"locked":true},{"id":43,"type":"MaskToImage","pos":[1115,1443],"size":[210,26],"flags":{},"order":39,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":47,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[48],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage"},"locked":true},{"id":78,"type":"Reroute","pos":[528.2806979009456,2234.1581695112745],"size":[82,26],"flags":{},"order":27,"mode":0,"inputs":[{"name":"","type":"*","link":156,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[161],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":42,"type":"ToBinaryMask","pos":[1116,1336],"size":[210,58],"flags":{},"order":37,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":147,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[47,163],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"ToBinaryMask"},"widgets_values":[50],"locked":true,"serialize_values":[null]},{"id":12,"type":"SAMModelLoader (segment anything)","pos":[-40,2093],"size":[554.051025390625,58],"flags":{},"order":3,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[15,96],"shape":3,"slot_index":0,"label":"SAM_MODEL"}],"properties":{"Node name for S&R":"SAMModelLoader (segment anything)"},"widgets_values":["sam_vit_h (2.56GB)"],"locked":true,"serialize_values":[null]},{"id":8,"type":"Anything Everywhere","pos":[-521.0589687472473,1546.235483336159],"size":{"0":405.2097473144531,"1":26},"flags":{},"order":29,"mode":0,"inputs":[{"name":"MODEL","type":"*","link":7,"color_on":"#B39DDB","label":"MODEL"}],"properties":{"Node name for S&R":"Anything Everywhere","group_restricted":false,"color_restricted":false}},{"id":7,"type":"Anything Everywhere","pos":[-521.0589687472473,1473.235483336159],"size":{"0":402.9761962890625,"1":26},"flags":{},"order":30,"mode":0,"inputs":[{"name":"CLIP","type":"*","link":6,"color_on":"#FFD500","label":"CLIP"}],"properties":{"Node name for S&R":"Anything Everywhere","group_restricted":false,"color_restricted":false}},{"id":3,"type":"CR Apply LoRA Stack","pos":[-521.0589687472473,1365.235483336159],"size":{"0":404.0929870605469,"1":66},"flags":{},"order":24,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":2,"label":"model"},{"name":"clip","type":"CLIP","link":3,"label":"clip"},{"name":"lora_stack","type":"LORA_STACK","link":4,"label":"lora_stack","slot_index":2}],"outputs":[{"name":"MODEL","type":"MODEL","links":[7],"shape":3,"label":"MODEL","slot_index":0},{"name":"CLIP","type":"CLIP","links":[6],"shape":3,"label":"CLIP","slot_index":1},{"name":"show_help","type":"STRING","links":null,"shape":3,"label":"show_help"}],"properties":{"Node name for S&R":"CR Apply LoRA Stack"},"color":"#323","bgcolor":"#535"},{"id":6,"type":"Anything Everywhere","pos":[-522.0589687472473,1117.2354833361594],"size":{"0":406.2097473144531,"1":26},"flags":{},"order":20,"mode":0,"inputs":[{"name":"VAE","type":"*","link":5,"color_on":"#FF6E6E","label":"VAE"}],"properties":{"Node name for S&R":"Anything Everywhere","group_restricted":false,"color_restricted":false}},{"id":49,"type":"MaskToImage","pos":[896,1257],"size":[206.9224853515625,26],"flags":{"collapsed":true},"order":36,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":94,"label":"mask"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[114],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"MaskToImage"},"locked":true},{"id":93,"type":"Fast Groups Muter (rgthree)","pos":{"0":-519,"1":1627,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"size":{"0":408.54473876953125,"1":106},"flags":{},"order":4,"mode":0,"inputs":[],"outputs":[{"name":"OPT_CONNECTION","type":"*","links":null,"label":"OPT_CONNECTION"}],"title":"ÂäüËÉΩÈÄâÊã©","properties":{"matchColors":"","matchTitle":"","showNav":true,"sort":"position","customSortAlphabet":"","toggleRestriction":"default"},"color":"#323","bgcolor":"#535"},{"id":16,"type":"PreviewImage","pos":[526,1515],"size":[371.790283203125,638.5390014648438],"flags":{},"order":31,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":16,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"locked":true},{"id":14,"type":"PreviewImage","pos":[945,1516],"size":[378.2840270996094,646.4733276367188],"flags":{},"order":38,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":114,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"locked":true},{"id":83,"type":"Reroute","pos":[1295.2806979009451,2179.1581695112745],"size":[75,26],"flags":{},"order":40,"mode":0,"inputs":[{"name":"","type":"*","link":163,"pos":[37.5,0],"label":""}],"outputs":[{"name":"MASK","type":"MASK","links":[164],"slot_index":0,"label":"MASK"}],"properties":{"showOutputText":true,"horizontal":true}},{"id":95,"type":"Note","pos":[893.2806979009455,1326.1581695112748],"size":{"0":210,"1":137.88674926757812},"flags":{},"order":5,"mode":0,"title":"‰ΩøÁî®ÊèêÁ§∫üëàüëâüëÜ","properties":{"text":""},"widgets_values":["ËØ∑ÊåâÂÆûÈôÖ‰∏ä‰º†ÂõæÁâáÁÅµÊ¥ªË∞ÉÊï¥Êï∞ÂÄºÔºå‰ª•ËææÂà∞Êä†Âá∫Â§¥ÂèëËíôÁâàÁöÑÁõÆÁöÑ„ÄÇ‚ùó‚ùó‚ùó‚ùó‚ùó‚ùó‚ùó\n\nPlease flexibly adjust the value according to the actual uploaded picture to achieve the purpose of hiding the mask‚ùó‚ùó‚ùó‚ùó‚ùó"],"color":"#87ff84","bgcolor":"#73ff70","serialize_values":[null]},{"id":15,"type":"GroundingDinoSAMSegment (segment anything)","pos":[521,1351],"size":[357.4793395996094,122],"flags":{},"order":25,"mode":0,"inputs":[{"name":"sam_model","type":"SAM_MODEL","link":15,"slot_index":0,"label":"sam_model"},{"name":"grounding_dino_model","type":"GROUNDING_DINO_MODEL","link":14,"slot_index":1,"label":"grounding_dino_model"},{"name":"image","type":"IMAGE","link":13,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[16],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[170],"shape":3,"slot_index":1,"label":"MASK"}],"properties":{"Node name for S&R":"GroundingDinoSAMSegment (segment anything)"},"widgets_values":["neck,ear,face",0.3],"locked":true,"serialize_values":[null,null]},{"id":33,"type":"BNK_CLIPTextEncodeAdvanced","pos":[403.1400104339636,2467.242193519075],"size":{"0":374.82855224609375,"1":123.99999237060547},"flags":{"collapsed":false},"order":6,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[111,132],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"BNK_CLIPTextEncodeAdvanced"},"widgets_values":["","length+mean","A1111"],"color":"#233","bgcolor":"#355","serialize_values":["",null,null]},{"id":80,"type":"Seed (rgthree)","pos":[799.82771837732,3267.9873518311747],"size":{"0":254.41246032714844,"1":130},"flags":{},"order":7,"mode":0,"outputs":[{"name":"SEED","type":"INT","links":[160],"shape":3,"dir":4,"slot_index":0,"label":"SEED"}],"properties":{"Node name for S&R":"Seed (rgthree)"},"widgets_values":[-1,null,null,null],"serialize_values":[null,null,null,null]},{"id":31,"type":"SAMLoader","pos":[-43.58597232550808,2470.8385663310028],"size":{"0":427.0470886230469,"1":82},"flags":{"collapsed":false},"order":8,"mode":0,"outputs":[{"name":"SAM_MODEL","type":"SAM_MODEL","links":[107],"shape":3,"slot_index":0,"label":"SAM_MODEL"}],"properties":{"Node name for S&R":"SAMLoader"},"widgets_values":["sam_vit_b_01ec64.pth","Prefer GPU"],"serialize_values":[null,null]},{"id":39,"type":"BNK_CLIPTextEncodeAdvanced","pos":[-15.859989566036457,3191.242193519075],"size":{"0":381.5013122558594,"1":124.00007629394531},"flags":{"collapsed":false},"order":9,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[184],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"BNK_CLIPTextEncodeAdvanced"},"widgets_values":["","length+mean","A1111"],"color":"#322","bgcolor":"#533","serialize_values":["",null,null]},{"id":103,"type":"ControlNetApplyAdvanced","pos":[435.1400104339636,2979.242193519075],"size":{"0":315,"1":166},"flags":{},"order":46,"mode":0,"inputs":[{"name":"positive","type":"CONDITIONING","link":183,"label":"positive"},{"name":"negative","type":"CONDITIONING","link":184,"label":"negative"},{"name":"control_net","type":"CONTROL_NET","link":187,"slot_index":2,"label":"control_net"},{"name":"image","type":"IMAGE","link":186,"label":"image"}],"outputs":[{"name":"positive","type":"CONDITIONING","links":[181],"shape":3,"slot_index":0,"label":"positive"},{"name":"negative","type":"CONDITIONING","links":[182],"shape":3,"slot_index":1,"label":"negative"}],"properties":{"Node name for S&R":"ControlNetApplyAdvanced"},"widgets_values":[1,0,1],"serialize_values":[null,null,null]},{"id":1,"type":"CheckpointLoaderSimple","pos":[-853,1137],"size":{"0":315,"1":98},"flags":{},"order":10,"mode":0,"outputs":[{"name":"MODEL","type":"MODEL","links":[1],"shape":3,"label":"MODEL","slot_index":0},{"name":"CLIP","type":"CLIP","links":[3],"shape":3,"label":"CLIP","slot_index":1},{"name":"VAE","type":"VAE","links":[5],"shape":3,"label":"VAE","slot_index":2}],"properties":{"Node name for S&R":"CheckpointLoaderSimple"},"widgets_values":["sd1.5/majicmixRealistic_v7.safetensors"],"color":"#323","bgcolor":"#535","serialize_values":[null]},{"id":105,"type":"ControlNetLoader","pos":[437.1400104339636,3445.242193519075],"size":{"0":315,"1":58},"flags":{},"order":11,"mode":0,"outputs":[{"name":"CONTROL_NET","type":"CONTROL_NET","links":[187],"shape":3,"label":"CONTROL_NET"}],"properties":{"Node name for S&R":"ControlNetLoader"},"widgets_values":["sd1.5/control_v11p_sd15_openpose.pth"],"serialize_values":[null]},{"id":32,"type":"MediaPipeFaceMeshDetectorProvider //Inspire","pos":[-42.61166752180834,2603.9070254454864],"size":{"0":425.161376953125,"1":270},"flags":{"collapsed":false},"order":12,"mode":0,"outputs":[{"name":"BBOX_DETECTOR","type":"BBOX_DETECTOR","links":[106],"shape":3,"slot_index":0,"label":"BBOX_DETECTOR"},{"name":"SEGM_DETECTOR","type":"SEGM_DETECTOR","links":[108],"shape":3,"slot_index":1,"label":"SEGM_DETECTOR"}],"properties":{"Node name for S&R":"MediaPipeFaceMeshDetectorProvider //Inspire"},"widgets_values":[1,false,false,false,false,false,false,false,false],"serialize_values":[null,null,null,null,null,null,null,null,null]},{"id":35,"type":"MaskBlur+","pos":[1113,1130],"size":[211.6230010986328,58],"flags":{"collapsed":false},"order":34,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":113,"label":"mask"}],"outputs":[{"name":"MASK","type":"MASK","links":[93,94],"shape":3,"slot_index":0,"label":"MASK"}],"properties":{"Node name for S&R":"MaskBlur+"},"widgets_values":[20],"locked":true,"serialize_values":[null]},{"id":19,"type":"DetailerForEachDebugPipe","pos":[1078.0827781504313,3027.7647218142715],"size":{"0":371.20001220703125,"1":556.0000610351562},"flags":{},"order":49,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":180,"label":"image"},{"name":"segs","type":"SEGS","link":155,"label":"segs"},{"name":"basic_pipe","type":"BASIC_PIPE","link":41,"slot_index":2,"label":"basic_pipe"},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null,"label":"detailer_hook"},{"name":"refiner_basic_pipe_opt","type":"BASIC_PIPE","link":null,"label":"refiner_basic_pipe_opt"},{"name":"seed","type":"INT","link":null,"widget":{"name":"seed"},"label":"seed"}],"outputs":[{"name":"image","type":"IMAGE","links":[23],"shape":3,"slot_index":0,"label":"image"},{"name":"segs","type":"SEGS","links":null,"shape":3,"label":"segs"},{"name":"basic_pipe","type":"BASIC_PIPE","links":[],"shape":3,"slot_index":2,"label":"basic_pipe"},{"name":"cropped","type":"IMAGE","links":null,"shape":6,"label":"cropped"},{"name":"cropped_refined","type":"IMAGE","links":null,"shape":6,"label":"cropped_refined"},{"name":"cropped_refined_alpha","type":"IMAGE","links":null,"shape":6,"label":"cropped_refined_alpha"},{"name":"cnet_images","type":"IMAGE","links":null,"shape":6,"label":"cnet_images"}],"properties":{"Node name for S&R":"DetailerForEachDebugPipe"},"widgets_values":[768,true,768,397071096751020,"randomize",30,5,"dpmpp_2m","karras",0.8,14,true,true,"",0.2,1,false,20],"serialize_values":[null,null,null,null,null,null,null,null,null,null,null,null,null,"",null,null,null,null]},{"id":18,"type":"MaskToSEGS","pos":[1076.8087609099034,2811.168349002344],"size":{"0":372.7049560546875,"1":154},"flags":{},"order":45,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":179,"label":"mask"}],"outputs":[{"name":"SEGS","type":"SEGS","links":[155],"shape":3,"slot_index":0,"label":"SEGS"}],"properties":{"Node name for S&R":"MaskToSEGS"},"widgets_values":[true,2,false,10,false],"serialize_values":[null,null,null,null,null]},{"id":10,"type":"ImageScaleBy","pos":[-41,1119],"size":[546.8982543945312,82],"flags":{},"order":22,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":8,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[13,98,156],"shape":3,"slot_index":0,"label":"IMAGE"}],"properties":{"Node name for S&R":"ImageScaleBy"},"widgets_values":["lanczos",1],"locked":true,"serialize_values":[null,null]},{"id":44,"type":"PreviewImage","pos":[1370,1130],"size":[752.4352416992188,1136.3355712890625],"flags":{},"order":41,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":48,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"},"locked":true},{"id":21,"type":"PreviewImage","pos":[1471.414027674491,2378.8385663310028],"size":{"0":962.2852783203125,"1":1457.9656982421875},"flags":{},"order":50,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":23,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":9,"type":"LoadImage","pos":[-46,1260],"size":[551.1343383789062,751.03173828125],"flags":{},"order":13,"mode":0,"outputs":[{"name":"IMAGE","type":"IMAGE","links":[8],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[200],"shape":3,"slot_index":1,"label":"MASK"}],"properties":{"Node name for S&R":"LoadImage"},"widgets_values":["ÂèëÂûã-KT (3) (2).jpg","image"],"locked":true,"serialize_values":[null,null]},{"id":118,"type":"Reroute","pos":[522.6730791860352,2388.9290485763067],"size":[75,26],"flags":{},"order":23,"mode":0,"inputs":[{"name":"","type":"*","link":200,"label":""}],"outputs":[{"name":"MASK","type":"MASK","links":[201],"slot_index":0,"label":"MASK"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":84,"type":"Reroute","pos":[1031.2806979009451,2189.1581695112745],"size":[75,26],"flags":{},"order":42,"mode":0,"inputs":[{"name":"","type":"*","link":164,"pos":[37.5,0],"label":""}],"outputs":[{"name":"MASK","type":"MASK","links":[203],"slot_index":0,"label":"MASK"}],"properties":{"showOutputText":true,"horizontal":true}},{"id":79,"type":"Reroute","pos":[981.2806979009455,2233.1581695112745],"size":[82,26],"flags":{},"order":33,"mode":0,"inputs":[{"name":"","type":"*","link":161,"label":""}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[177,204],"slot_index":0,"label":"IMAGE"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":119,"type":"Reroute","pos":[989,2388],"size":[75,26],"flags":{},"order":28,"mode":0,"inputs":[{"name":"","type":"*","link":201,"label":""}],"outputs":[{"name":"MASK","type":"MASK","links":[202],"slot_index":0,"label":"MASK"}],"properties":{"showOutputText":true,"horizontal":false}},{"id":101,"type":"ImageMaskSwitch","pos":[1082,2568],"size":{"0":315,"1":198},"flags":{},"order":43,"mode":0,"inputs":[{"name":"images1","type":"IMAGE","link":204,"label":"images1"},{"name":"mask1_opt","type":"MASK","link":203,"label":"mask1_opt"},{"name":"images2_opt","type":"IMAGE","link":177,"label":"images2_opt"},{"name":"mask2_opt","type":"MASK","link":202,"label":"mask2_opt"},{"name":"images3_opt","type":"IMAGE","link":null,"label":"images3_opt"},{"name":"mask3_opt","type":"MASK","link":null,"label":"mask3_opt"},{"name":"images4_opt","type":"IMAGE","link":null,"label":"images4_opt"},{"name":"mask4_opt","type":"MASK","link":null,"label":"mask4_opt"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[180,185],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[179],"shape":3,"slot_index":1,"label":"MASK"}],"properties":{"Node name for S&R":"ImageMaskSwitch"},"widgets_values":[1],"color":"#233","bgcolor":"#355","serialize_values":[null]},{"id":106,"type":"PreviewImage","pos":[441.1400104339636,3567.242193519075],"size":{"0":310.7489318847656,"1":238.44515991210938},"flags":{},"order":47,"mode":0,"inputs":[{"name":"images","type":"IMAGE","link":188,"label":"images"}],"properties":{"Node name for S&R":"PreviewImage"}},{"id":104,"type":"DWPreprocessor","pos":[435.1400104339636,3191.242193519075],"size":{"0":315,"1":198},"flags":{},"order":44,"mode":0,"inputs":[{"name":"image","type":"IMAGE","link":185,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[186,188],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"POSE_KEYPOINT","type":"POSE_KEYPOINT","links":null,"shape":3,"label":"POSE_KEYPOINT"}],"properties":{"Node name for S&R":"DWPreprocessor"},"widgets_values":["disable","disable","enable",1024,"yolox_l.onnx","dw-ll_ucoco_384_bs5.torchscript.pt"],"serialize_values":[null,null,null,null,null,null]},{"id":59,"type":"workflow/Hair","pos":[516,1123],"size":[361.6517028808594,178.5516815185547],"flags":{},"order":26,"mode":0,"inputs":[{"name":"sam_model","type":"SAM_MODEL","link":96,"label":"sam_model"},{"name":"grounding_dino_model","type":"GROUNDING_DINO_MODEL","link":97,"label":"grounding_dino_model"},{"name":"image","type":"IMAGE","link":98,"label":"image"}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"shape":3,"slot_index":0,"label":"IMAGE"},{"name":"MASK","type":"MASK","links":[112],"shape":3,"slot_index":1,"label":"MASK"}],"properties":{"Node name for S&R":"workflow/Hair"},"widgets_values":["hair",0.4,150],"locked":true,"serialize_values":[null,null,null]},{"id":94,"type":"Note","pos":[-861,1801],"size":{"0":763.6340942382812,"1":375.7759704589844},"flags":{},"order":14,"mode":0,"title":"‰ΩøÁî®ËØ¥Êòé instructionüìïüìïüìïüìïüìï","properties":{"text":""},"widgets_values":["1„ÄÅËæìÂÖ•ÂèëÂûãÊèêÁ§∫ËØçÊõ¥Êç¢ÂèëÂûã„ÄÇ\n2„ÄÅÈúÄÁÅµÊ¥ªË∞ÉÊï¥Âå∫ÂüüÂàÜÂâ≤ÈÉ®ÂàÜÁöÑÊï∞ÂÄºÔºåÊØèÂº†Âõæ‰∏çÂêåÔºåÊåâÂÆûÈôÖÊÉÖÂÜµË∞ÉÊï¥„ÄÇ\n3„ÄÅÈÄÇÂêàÁÆÄÂçïÁöÑËÉåÊôØ„ÄÇ\n4„ÄÅÈÄÇÂêàÊ≠£Èù¢ËßíÂ∫¶ÁöÑÊ®°ÁâπÂõæÊàñÂ§¥ÂèëÂå∫ÂüüÊØîËæÉÊòéÊòæÁöÑÔºåÁâπÊÆäËßíÂ∫¶ÂèØËÉΩÊó†Ê≥ïÊ≠£Â∏∏Âá∫Âõæ„ÄÇ\n5„ÄÅÈÄÇÂêàÂ•≥ÊÄßÔºåÁî∑ÊÄßÊïàÊûú‰∏ÄËà¨„ÄÇ\n6„ÄÅÊä•ÈîôÊó∂ÂèØÂ∞ÜÊä•ÈîôÊ®°ÂùóCtrl+bÁªïËøá„ÄÇ\n7„ÄÅÊØè‰∏ÄÈÉ®ÂàÜÊúâÁõ∏Â∫îÁöÑ‰ΩøÁî®ËØ¥Êòé„ÄÇ\n\n1. Enter hairstyles prompt words to change hairstyles.\n2, need to flexibly adjust the value of the region segmentation part, each map is different, adjust according to the actual situation.\n3, suitable for simple backgrounds.\n4, suitable for the positive Angle of the model picture or hair area is more obvious, special Angle may not be able to draw normally.\n5, suitable for women, male effect is general.\n6. You can bypass the error module Ctrl+b when you report an error.\n7. Each part has corresponding instructions for use.\n\nüì∑My Instagram\nhttps://www.instagram.com/fitchchiu/\n\nüìïÂ∞èÁ∫¢‰π¶/Red book\nhttps://www.xiaohongshu.com/user/profile/643d5008000000000d019762?m_source=pwa\n\nüü©ÂæÆ‰ø°/Wechat\nFitch2001\n\nIf you encounter any problems during the use, please contact me by the above contact information\n\nOr you can find me from\nhttps://openart.ai/workflows/@noan\nHave fun!‚ù§‚ù§‚ù§"],"color":"#dbd414","bgcolor":"#c7c000","serialize_values":[null]},{"id":38,"type":"BNK_CLIPTextEncodeAdvanced","pos":[-15.859989566036457,2971.242193519075],"size":{"0":380.86236572265625,"1":168.86341857910156},"flags":{"collapsed":false},"order":15,"mode":0,"inputs":[{"name":"clip","type":"CLIP","link":null,"label":"clip"}],"outputs":[{"name":"CONDITIONING","type":"CONDITIONING","links":[183],"shape":3,"label":"CONDITIONING","slot_index":0}],"properties":{"Node name for S&R":"BNK_CLIPTextEncodeAdvanced"},"widgets_values":["","length+mean","A1111"],"color":"#232","bgcolor":"#353","serialize_values":["",null,null]},{"id":115,"type":"Note","pos":[1084,2387],"size":{"0":313.24072265625,"1":131.79278564453125},"flags":{},"order":16,"mode":0,"title":"Ê®°ÂºèÈÄâÊã© Mode Selectüëáüëáüëáüëáüëá","properties":{"text":""},"widgets_values":["üéàselect 1:Ëá™Âä®Êä†Âá∫Â§¥ÂèëÂå∫Âüü\n‚ú®select 2:ÊâãÂä®Êä†Âá∫Â§¥ÂèëÂå∫ÂüüÔºåÈúÄÂú®load imageÂè≥ÈîÆÊâìÂºÄmaskeditorËøõË°åËíôÁâàÁªòÂà∂\n\nüéàSelect 1: Automatically pick out the hair area\n‚ú®Select 2: Manually pull out the hair area, you need to right-click on the load image and open maskeditor for mask drawing"],"color":"#432","bgcolor":"#653","serialize_values":[null]},{"id":120,"type":"Note","pos":[-391,2977],"size":{"0":313.24072265625,"1":131.79278564453125},"flags":{},"order":17,"mode":0,"title":"Hair Styleüëâüëâüëâüëâüëâ","properties":{"text":""},"widgets_values":["Âú®Âè≥ËæπËæìÂÖ•‰Ω†ÊÉ≥Ë¶ÅÁöÑÂèëÂûã„ÄÇ\n\nType in your desired hairstyle on the right"],"color":"#432","bgcolor":"#653","serialize_values":[null]},{"id":2,"type":"FreeU_V2","pos":[-522,1183],"size":{"0":406.2097473144531,"1":130},"flags":{},"order":19,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":1,"label":"model","slot_index":0}],"outputs":[{"name":"MODEL","type":"MODEL","links":[2],"shape":3,"label":"MODEL","slot_index":0}],"properties":{"Node name for S&R":"FreeU_V2"},"widgets_values":[1.3,1.2,0.9,0.2],"color":"#323","bgcolor":"#535","serialize_values":[null,null,null,null]}],"links":[[1,1,0,2,0,"MODEL"],[2,2,0,3,0,"MODEL"],[3,1,1,3,1,"CLIP"],[4,4,0,3,2,"LORA_STACK"],[5,1,2,6,0,"*"],[6,3,1,7,0,"*"],[7,3,0,8,0,"*"],[8,9,0,10,0,"IMAGE"],[13,10,0,15,2,"IMAGE"],[14,13,0,15,1,"GROUNDING_DINO_MODEL"],[15,12,0,15,0,"SAM_MODEL"],[16,15,0,16,0,"IMAGE"],[23,19,0,21,0,"IMAGE"],[41,37,0,19,2,"BASIC_PIPE"],[47,42,0,43,0,"MASK"],[48,43,0,44,0,"IMAGE"],[93,35,0,17,0,"MASK"],[94,35,0,49,0,"MASK"],[96,12,0,59,0,"SAM_MODEL"],[97,13,0,59,1,"GROUNDING_DINO_MODEL"],[98,10,0,59,2,"IMAGE"],[103,64,0,37,0,"BASIC_PIPE"],[106,32,0,64,5,"BBOX_DETECTOR"],[107,31,0,64,6,"SAM_MODEL"],[108,32,1,64,7,"SEGM_DETECTOR"],[111,33,0,64,4,"CONDITIONING"],[112,59,1,67,0,"MASK"],[113,67,0,35,0,"MASK"],[114,49,0,14,0,"IMAGE"],[115,3,1,33,0,"CLIP"],[116,3,0,37,1,"MODEL"],[117,3,1,37,2,"CLIP"],[118,1,2,37,3,"VAE"],[119,3,0,23,"0","MODEL"],[120,3,1,23,"1","CLIP"],[121,1,2,23,"2","VAE"],[122,3,1,38,0,"CLIP"],[123,3,1,39,0,"CLIP"],[132,33,0,64,3,"CONDITIONING"],[147,17,0,42,0,"MASK"],[155,18,0,19,1,"SEGS"],[156,10,0,78,0,"*"],[160,80,0,81,0,"*"],[161,78,0,79,0,"*"],[163,42,0,83,0,"*"],[164,83,0,84,0,"*"],[170,15,1,17,1,"MASK"],[177,79,0,101,2,"IMAGE"],[179,101,1,18,0,"MASK"],[180,101,0,19,0,"IMAGE"],[181,103,0,37,4,"CONDITIONING"],[182,103,1,37,5,"CONDITIONING"],[183,38,0,103,0,"CONDITIONING"],[184,39,0,103,1,"CONDITIONING"],[185,101,0,104,0,"IMAGE"],[186,104,0,103,3,"IMAGE"],[187,105,0,103,2,"CONTROL_NET"],[188,104,0,106,0,"IMAGE"],[200,9,1,118,0,"*"],[201,118,0,119,0,"*"],[202,119,0,101,3,"MASK"],[203,84,0,101,1,"MASK"],[204,79,0,101,0,"IMAGE"],[205,3,0,"64:0",0,"MODEL"],[206,3,1,"64:0",1,"CLIP"],[207,1,2,"64:0",2,"VAE"],[208,3,0,37,1,"MODEL"],[209,3,1,37,2,"CLIP"],[210,1,2,37,3,"VAE"],[211,3,1,33,0,"CLIP"],[212,3,1,39,0,"CLIP"],[213,80,0,19,5,"INT"],[214,3,1,38,0,"CLIP"],[215,3,0,"64:0",0,"MODEL"],[216,3,1,"64:0",1,"CLIP"],[217,1,2,"64:0",2,"VAE"],[218,3,0,37,1,"MODEL"],[219,3,1,37,2,"CLIP"],[220,1,2,37,3,"VAE"],[221,3,1,33,0,"CLIP"],[222,3,1,39,0,"CLIP"],[223,80,0,19,5,"INT"],[224,3,1,38,0,"CLIP"],[225,3,0,"64:0",0,"MODEL"],[226,3,1,"64:0",1,"CLIP"],[227,1,2,"64:0",2,"VAE"],[228,3,0,37,1,"MODEL"],[229,3,1,37,2,"CLIP"],[230,1,2,37,3,"VAE"],[231,3,1,33,0,"CLIP"],[232,3,1,39,0,"CLIP"],[233,80,0,19,5,"INT"],[234,3,1,38,0,"CLIP"]],"groups":[{"title":"Âü∫Á°ÄÊ®°ÂûãÂä†ËΩΩLoader","bounding":[-863,1044,774,709],"color":"#3f789e","font_size":24,"locked":false},{"title":"ÂèëÂûãÊõ¥Êç¢ Hairstyle change","bounding":[-54,2305,2497,1542],"color":"#88A","font_size":24,"locked":false},{"title":"Âå∫ÂüüÂàÜÂâ≤ Seg","bounding":[-55,1041,2188,1231],"color":"#A88","font_size":24,"locked":true}],"config":{},"extra":{"groupNodes":{"Hair":{"nodes":[{"type":"GroundingDinoSAMSegment (segment anything)","pos":[518,1119],"size":{"0":330,"1":122},"flags":{},"order":21,"mode":0,"inputs":[{"name":"sam_model","type":"SAM_MODEL","link":null,"slot_index":0},{"name":"grounding_dino_model","type":"GROUNDING_DINO_MODEL","link":null,"slot_index":1},{"name":"image","type":"IMAGE","link":null}],"outputs":[{"name":"IMAGE","type":"IMAGE","links":[],"shape":3,"slot_index":0},{"name":"MASK","type":"MASK","links":[],"shape":3,"slot_index":1}],"properties":{"Node name for S&R":"GroundingDinoSAMSegment (segment anything)"},"widgets_values":["face",0.5],"index":0},{"type":"ImpactDilateMask","pos":[863,1126],"size":{"0":315,"1":58},"flags":{},"order":28,"mode":0,"inputs":[{"name":"mask","type":"MASK","link":null}],"outputs":[{"name":"MASK","type":"MASK","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ImpactDilateMask"},"widgets_values":[150],"color":"#332922","bgcolor":"#593930","shape":1,"index":1}],"links":[[null,0,0,0,12,"SAM_MODEL"],[null,0,0,1,13,"GROUNDING_DINO_MODEL"],[null,0,0,2,10,"IMAGE"],[0,1,1,0,11,"MASK"]],"external":[[1,0,"MASK"]]},"DetailerPipe":{"nodes":[{"type":"ToDetailerPipe","pos":[1212,612],"size":{"0":400,"1":284},"flags":{"collapsed":false},"order":16,"mode":0,"inputs":[{"name":"model","type":"MODEL","link":null},{"name":"clip","type":"CLIP","link":null},{"name":"vae","type":"VAE","link":null},{"name":"positive","type":"CONDITIONING","link":null},{"name":"negative","type":"CONDITIONING","link":null},{"name":"bbox_detector","type":"BBOX_DETECTOR","link":null,"slot_index":5},{"name":"sam_model_opt","type":"SAM_MODEL","link":null,"slot_index":6},{"name":"segm_detector_opt","type":"SEGM_DETECTOR","link":null},{"name":"detailer_hook","type":"DETAILER_HOOK","link":null}],"outputs":[{"name":"detailer_pipe","type":"DETAILER_PIPE","links":[],"shape":3,"slot_index":0}],"properties":{"Node name for S&R":"ToDetailerPipe"},"widgets_values":["","Select the LoRA to add to the text","Select the Wildcard to add to the text"],"index":0},{"type":"DetailerPipeToBasicPipe","pos":[1638,609],"size":{"0":405.5999755859375,"1":46},"flags":{},"order":23,"mode":0,"inputs":[{"name":"detailer_pipe","type":"DETAILER_PIPE","link":null}],"outputs":[{"name":"base_basic_pipe","type":"BASIC_PIPE","links":[],"shape":3,"slot_index":0},{"name":"refiner_basic_pipe","type":"BASIC_PIPE","links":null,"shape":3}],"properties":{"Node name for S&R":"DetailerPipeToBasicPipe"},"index":1}],"links":[[null,0,0,3,33,"CONDITIONING"],[null,0,0,4,34,"CONDITIONING"],[null,0,0,5,32,"BBOX_DETECTOR"],[null,0,0,6,31,"SAM_MODEL"],[null,1,0,7,32,"SEGM_DETECTOR"],[0,0,1,0,23,"DETAILER_PIPE"]],"external":[[1,0,"BASIC_PIPE"]]}}},"version":0.4}